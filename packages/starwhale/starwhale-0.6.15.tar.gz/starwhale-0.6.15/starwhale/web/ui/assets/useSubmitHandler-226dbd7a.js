import{aB as K,q as Rt,r as L,ab as rt,s as ie,T as Et,i as xt,a as ae,j as W,f as It,b as Ct,o as We,R as Ke}from"./__uno-75844fc7.js";import{c as at,d as Pt,e as jt,u as Lt,a as At,f as Bt,p as Ft,g as Nt,n as it,R as Ut}from"./index-5003e8cb.js";var st={exports:{}};(function(t,r){(function(n,e){t.exports=e()})(K,function(){var n=1e3,e=6e4,a=36e5,i="millisecond",s="second",o="minute",d="hour",g="day",b="week",S="month",w="quarter",k="year",T="date",x="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var c=["th","st","nd","rd"],u=f%100;return"["+f+(c[(u-20)%10]||c[u]||c[0])+"]"}},N=function(f,c,u){var h=String(f);return!h||h.length>=c?f:""+Array(c+1-h.length).join(u)+f},ne={s:N,z:function(f){var c=-f.utcOffset(),u=Math.abs(c),h=Math.floor(u/60),l=u%60;return(c<=0?"+":"-")+N(h,2,"0")+":"+N(l,2,"0")},m:function f(c,u){if(c.date()<u.date())return-f(u,c);var h=12*(u.year()-c.year())+(u.month()-c.month()),l=c.clone().add(h,S),v=u-l<0,y=c.clone().add(h+(v?-1:1),S);return+(-(h+(u-l)/(v?l-y:y-l))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:S,y:k,w:b,d:g,D:T,h:d,m:o,s,ms:i,Q:w}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return f===void 0}},Q="en",A={};A[Q]=j;var B=function(f){return f instanceof p},X=function f(c,u,h){var l;if(!c)return Q;if(typeof c=="string"){var v=c.toLowerCase();A[v]&&(l=v),u&&(A[v]=u,l=v);var y=c.split("-");if(!l&&y.length>1)return f(y[0])}else{var O=c.name;A[O]=c,l=O}return!h&&l&&(Q=l),l||!h&&Q},C=function(f,c){if(B(f))return f.clone();var u=typeof c=="object"?c:{};return u.date=f,u.args=arguments,new p(u)},_=ne;_.l=X,_.i=B,_.w=function(f,c){return C(f,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var p=function(){function f(u){this.$L=X(u.locale,null,!0),this.parse(u)}var c=f.prototype;return c.parse=function(u){this.$d=function(h){var l=h.date,v=h.utc;if(l===null)return new Date(NaN);if(_.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var y=l.match(z);if(y){var O=y[2]-1||0,$=(y[7]||"0").substring(0,3);return v?new Date(Date.UTC(y[1],O,y[3]||1,y[4]||0,y[5]||0,y[6]||0,$)):new Date(y[1],O,y[3]||1,y[4]||0,y[5]||0,y[6]||0,$)}}return new Date(l)}(u),this.$x=u.x||{},this.init()},c.init=function(){var u=this.$d;this.$y=u.getFullYear(),this.$M=u.getMonth(),this.$D=u.getDate(),this.$W=u.getDay(),this.$H=u.getHours(),this.$m=u.getMinutes(),this.$s=u.getSeconds(),this.$ms=u.getMilliseconds()},c.$utils=function(){return _},c.isValid=function(){return this.$d.toString()!==x},c.isSame=function(u,h){var l=C(u);return this.startOf(h)<=l&&l<=this.endOf(h)},c.isAfter=function(u,h){return C(u)<this.startOf(h)},c.isBefore=function(u,h){return this.endOf(h)<C(u)},c.$g=function(u,h,l){return _.u(u)?this[h]:this.set(l,u)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(u,h){var l=this,v=!!_.u(h)||h,y=_.p(u),O=function(q,U){var Y=_.w(l.$u?Date.UTC(l.$y,U,q):new Date(l.$y,U,q),l);return v?Y:Y.endOf(g)},$=function(q,U){return _.w(l.toDate()[q].apply(l.toDate("s"),(v?[0,0,0,0]:[23,59,59,999]).slice(U)),l)},M=this.$W,E=this.$M,D=this.$D,F="set"+(this.$u?"UTC":"");switch(y){case k:return v?O(1,0):O(31,11);case S:return v?O(1,E):O(0,E+1);case b:var P=this.$locale().weekStart||0,G=(M<P?M+7:M)-P;return O(v?D-G:D+(6-G),E);case g:case T:return $(F+"Hours",0);case d:return $(F+"Minutes",1);case o:return $(F+"Seconds",2);case s:return $(F+"Milliseconds",3);default:return this.clone()}},c.endOf=function(u){return this.startOf(u,!1)},c.$set=function(u,h){var l,v=_.p(u),y="set"+(this.$u?"UTC":""),O=(l={},l[g]=y+"Date",l[T]=y+"Date",l[S]=y+"Month",l[k]=y+"FullYear",l[d]=y+"Hours",l[o]=y+"Minutes",l[s]=y+"Seconds",l[i]=y+"Milliseconds",l)[v],$=v===g?this.$D+(h-this.$W):h;if(v===S||v===k){var M=this.clone().set(T,1);M.$d[O]($),M.init(),this.$d=M.set(T,Math.min(this.$D,M.daysInMonth())).$d}else O&&this.$d[O]($);return this.init(),this},c.set=function(u,h){return this.clone().$set(u,h)},c.get=function(u){return this[_.p(u)]()},c.add=function(u,h){var l,v=this;u=Number(u);var y=_.p(h),O=function(E){var D=C(v);return _.w(D.date(D.date()+Math.round(E*u)),v)};if(y===S)return this.set(S,this.$M+u);if(y===k)return this.set(k,this.$y+u);if(y===g)return O(1);if(y===b)return O(7);var $=(l={},l[o]=e,l[d]=a,l[s]=n,l)[y]||1,M=this.$d.getTime()+u*$;return _.w(M,this)},c.subtract=function(u,h){return this.add(-1*u,h)},c.format=function(u){var h=this,l=this.$locale();if(!this.isValid())return l.invalidDate||x;var v=u||"YYYY-MM-DDTHH:mm:ssZ",y=_.z(this),O=this.$H,$=this.$m,M=this.$M,E=l.weekdays,D=l.months,F=l.meridiem,P=function(U,Y,re,te){return U&&(U[Y]||U(h,v))||re[Y].slice(0,te)},G=function(U){return _.s(O%12||12,U,"0")},q=F||function(U,Y,re){var te=U<12?"AM":"PM";return re?te.toLowerCase():te};return v.replace(I,function(U,Y){return Y||function(re){switch(re){case"YY":return String(h.$y).slice(-2);case"YYYY":return _.s(h.$y,4,"0");case"M":return M+1;case"MM":return _.s(M+1,2,"0");case"MMM":return P(l.monthsShort,M,D,3);case"MMMM":return P(D,M);case"D":return h.$D;case"DD":return _.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return P(l.weekdaysMin,h.$W,E,2);case"ddd":return P(l.weekdaysShort,h.$W,E,3);case"dddd":return E[h.$W];case"H":return String(O);case"HH":return _.s(O,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return q(O,$,!0);case"A":return q(O,$,!1);case"m":return String($);case"mm":return _.s($,2,"0");case"s":return String(h.$s);case"ss":return _.s(h.$s,2,"0");case"SSS":return _.s(h.$ms,3,"0");case"Z":return y}return null}(U)||y.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(u,h,l){var v,y=this,O=_.p(h),$=C(u),M=($.utcOffset()-this.utcOffset())*e,E=this-$,D=function(){return _.m(y,$)};switch(O){case k:v=D()/12;break;case S:v=D();break;case w:v=D()/3;break;case b:v=(E-M)/6048e5;break;case g:v=(E-M)/864e5;break;case d:v=E/a;break;case o:v=E/e;break;case s:v=E/n;break;default:v=E}return l?v:_.a(v)},c.daysInMonth=function(){return this.endOf(S).$D},c.$locale=function(){return A[this.$L]},c.locale=function(u,h){if(!u)return this.$L;var l=this.clone(),v=X(u,h,!0);return v&&(l.$L=v),l},c.clone=function(){return _.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},f}(),m=p.prototype;return C.prototype=m,[["$ms",i],["$s",s],["$m",o],["$H",d],["$W",g],["$M",S],["$y",k],["$D",T]].forEach(function(f){m[f[1]]=function(c){return this.$g(c,f[0],f[1])}}),C.extend=function(f,c){return f.$i||(f(c,p,C),f.$i=!0),C},C.locale=X,C.isDayjs=B,C.unix=function(f){return C(1e3*f)},C.en=A[Q],C.Ls=A,C.p={},C})})(st);var zt=st.exports;const Vt=Rt(zt);var xe=function(t){if(!t)return 0;var r=Vt(t).valueOf()-Date.now();return r<0?0:r},Ht=function(t){return{days:Math.floor(t/864e5),hours:Math.floor(t/36e5)%24,minutes:Math.floor(t/6e4)%60,seconds:Math.floor(t/1e3)%60,milliseconds:Math.floor(t)%1e3}},Yt=function(t){t===void 0&&(t={});var r=t||{},n=r.leftTime,e=r.targetDate,a=r.interval,i=a===void 0?1e3:a,s=r.onEnd,o=L.useMemo(function(){return"leftTime"in t?at(n)&&n>0?Date.now()+n:void 0:e},[n,e]),d=rt(L.useState(function(){return xe(o)}),2),g=d[0],b=d[1],S=Pt(s);L.useEffect(function(){if(!o){b(0);return}b(xe(o));var k=setInterval(function(){var T,x=xe(o);b(x),x===0&&(clearInterval(k),(T=S.current)===null||T===void 0||T.call(S))},i);return function(){return clearInterval(k)}},[o,i]);var w=L.useMemo(function(){return Ht(g)},[g]);return[g,w]};const In=Yt;function Cn(t,r,n){var e=rt(L.useState({}),2),a=e[0],i=e[1],s=jt(function(){i({})},n).run;L.useEffect(function(){return s()},r),Lt(t,[a])}var Wt=function(t,r,n){n===void 0&&(n={});var e=At(t),a=L.useRef(null),i=L.useCallback(function(){a.current&&clearInterval(a.current)},[]);return L.useEffect(function(){if(!(!at(r)||r<0))return n.immediate&&e(),a.current=setInterval(e,r),i},[r,n.immediate]),i};const Pn=Wt;var Pe={},je={},Le={},ye={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(r){r.Right="to right",r.Left="to left",r.Down="to bottom",r.Up="to top"}(t.Direction||(t.Direction={}))})(ye);(function(t){var r=K&&K.__spreadArray||function(p,m,f){if(f||arguments.length===2)for(var c=0,u=m.length,h;c<u;c++)(h||!(c in m))&&(h||(h=Array.prototype.slice.call(m,0,c)),h[c]=m[c]);return p.concat(h||Array.prototype.slice.call(m))};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var n=L,e=ye,a=function(p){var m=p.toString().split(".")[1];return m?m.length:0};t.getStepDecimals=a;function i(p){return p.touches&&p.touches.length||p.changedTouches&&p.changedTouches.length}t.isTouchEvent=i;function s(p,m,f){var c=(m-p)/f,u=8,h=Number(c.toFixed(u));return parseInt(h.toString(),10)===h}t.isStepDivisible=s;function o(p,m,f,c,u,h,l){var v=1e11;if(p=Math.round(p*v)/v,!h){var y=l[m-1],O=l[m+1];if(y&&y>p)return y;if(O&&O<p)return O}if(p>c)return c;if(p<f)return f;var $=Math.floor(p*v-f*v)%Math.floor(u*v),M=Math.floor(p*v-Math.abs($)),E=$===0?p:M/v,D=Math.abs($/v)<u/2?E:E+u,F=(0,t.getStepDecimals)(u);return parseFloat(D.toFixed(F))}t.normalizeValue=o;function d(p,m,f){return(p-m)/(f-m)}t.relativeValue=d;function g(p){return p===e.Direction.Up||p===e.Direction.Down}t.isVertical=g;function b(p,m,f){if(m>=f)throw new RangeError("min (".concat(m,") is equal/bigger than max (").concat(f,")"));if(p<m)throw new RangeError("value (".concat(p,") is smaller than min (").concat(m,")"));if(p>f)throw new RangeError("value (".concat(p,") is bigger than max (").concat(f,")"))}t.checkBoundaries=b;function S(p,m,f){return p<m?m:p>f?f:p}t.checkValuesAgainstBoundaries=S;function w(p){if(!(p.length<2)&&!p.slice(1).every(function(m,f){return p[f]<=m}))throw new RangeError("values={[".concat(p,"]} needs to be sorted when allowOverlap={false}"))}t.checkInitialOverlap=w;function k(p){var m=window.getComputedStyle(p);return{top:parseInt(m["margin-top"],10),bottom:parseInt(m["margin-bottom"],10),left:parseInt(m["margin-left"],10),right:parseInt(m["margin-right"],10)}}t.getMargin=k;function T(p){var m=window.getComputedStyle(p);return{top:parseInt(m["padding-top"],10)+parseInt(m["border-top-width"],10),bottom:parseInt(m["padding-bottom"],10)+parseInt(m["border-bottom-width"],10),left:parseInt(m["padding-left"],10)+parseInt(m["border-left-width"],10),right:parseInt(m["padding-right"],10)+parseInt(m["border-right-width"],10)}}t.getPaddingAndBorder=T;function x(p,m,f){var c=f?-1:1;p.forEach(function(u,h){return I(u,c*m[h].x,m[h].y)})}t.translateThumbs=x;function z(p,m,f,c){for(var u=0,h=_(p[0],m,f,c),l=1;l<p.length;l++){var v=_(p[l],m,f,c);v<h&&(h=v,u=l)}return u}t.getClosestThumbIndex=z;function I(p,m,f){p.style.transform="translate(".concat(m,"px, ").concat(f,"px)")}t.translate=I;var j=function(p){var m=[],f=null,c=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];m=u,!f&&(f=requestAnimationFrame(function(){f=null,p.apply(void 0,m)}))};return c};t.schd=j;function N(p,m,f){var c=p.slice(0);return c[m]=f,c}t.replaceAt=N;function ne(p){var m=p.values,f=p.colors,c=p.min,u=p.max,h=p.direction,l=h===void 0?e.Direction.Right:h,v=p.rtl,y=v===void 0?!1:v;y&&l===e.Direction.Right?l=e.Direction.Left:y&&e.Direction.Left&&(l=e.Direction.Right);var O=m.slice(0).sort(function(M,E){return M-E}).map(function(M){return(M-c)/(u-c)*100}),$=O.reduce(function(M,E,D){return"".concat(M,", ").concat(f[D]," ").concat(E,"%, ").concat(f[D+1]," ").concat(E,"%")},"");return"linear-gradient(".concat(l,", ").concat(f[0]," 0%").concat($,", ").concat(f[f.length-1]," 100%)")}t.getTrackBackground=ne;function Q(){}t.voidFn=Q;function A(p){throw new Error("Didn't expect to get here")}t.assertUnreachable=A;var B=function(p,m,f,c,u){u===void 0&&(u=function(l){return l});var h=Math.ceil(r([p],Array.from(p.children),!0).reduce(function(l,v){var y=Math.ceil(v.getBoundingClientRect().width);if(v.innerText&&v.innerText.includes(f)&&v.childElementCount===0){var O=v.cloneNode(!0);O.innerHTML=u(m.toFixed(c)),O.style.visibility="hidden",document.body.appendChild(O),y=Math.ceil(O.getBoundingClientRect().width),document.body.removeChild(O)}return y>l?y:l},p.getBoundingClientRect().width));return h},X=function(p,m,f,c,u,h,l){l===void 0&&(l=function(O){return O});var v=[],y=function(O){var $=B(f[O],c[O],u,h,l),M=m[O].x;m.forEach(function(E,D){var F=E.x,P=B(f[D],c[D],u,h,l);O!==D&&(M>=F&&M<=F+P||M+$>=F&&M+$<=F+P)&&(v.includes(D)||(v.push(O),v.push(D),v=r(r([],v,!0),[O,D],!1),y(D)))})};return y(p),Array.from(new Set(v.sort()))},C=function(p,m,f,c,u,h){c===void 0&&(c=.1),u===void 0&&(u=" - "),h===void 0&&(h=function(D){return D});var l=(0,t.getStepDecimals)(c),v=(0,n.useState)({}),y=v[0],O=v[1],$=(0,n.useState)(h(m[f].toFixed(l))),M=$[0],E=$[1];return(0,n.useEffect)(function(){if(p){var D=p.getThumbs();if(D.length<1)return;var F={},P=p.getOffsets(),G=X(f,P,D,m,u,l,h),q=h(m[f].toFixed(l));if(G.length){var U=G.reduce(function(se,he,le,pe){return se.length?r(r([],se,!0),[P[pe[le]].x],!1):[P[pe[le]].x]},[]);if(Math.min.apply(Math,U)===P[f].x){var Y=[];G.forEach(function(se){Y.push(m[se].toFixed(l))}),q=Array.from(new Set(Y.sort(function(se,he){return parseFloat(se)-parseFloat(he)}))).map(h).join(u);var re=Math.min.apply(Math,U),te=Math.max.apply(Math,U),Ee=D[G[U.indexOf(te)]].getBoundingClientRect().width;F.left="".concat(Math.abs(re-(te+Ee))/2,"px"),F.transform="translate(-50%, 0)"}else F.visibility="hidden"}E(q),O(F)}},[p,m]),[M,y]};t.useThumbOverlap=C;function _(p,m,f,c){var u=p.getBoundingClientRect(),h=u.left,l=u.top,v=u.width,y=u.height;return g(c)?Math.abs(f-(l+y/2)):Math.abs(m-(h+v/2))}})(Le);var Kt=K&&K.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function e(){this.constructor=r}r.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),qt=K&&K.__createBinding||(Object.create?function(t,r,n,e){e===void 0&&(e=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,e,a)}:function(t,r,n,e){e===void 0&&(e=n),t[e]=r[n]}),Zt=K&&K.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Jt=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&qt(r,t,n);return Zt(r,t),r},qe=K&&K.__spreadArray||function(t,r,n){if(n||arguments.length===2)for(var e=0,a=r.length,i;e<a;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return t.concat(i||Array.prototype.slice.call(r))};Object.defineProperty(je,"__esModule",{value:!0});var ge=Jt(L),R=Le,V=ye,Xt=["ArrowRight","ArrowUp","k","PageUp"],Gt=["ArrowLeft","ArrowDown","j","PageDown"],Qt=function(t){Kt(r,t);function r(n){var e=t.call(this,n)||this;if(e.trackRef=ge.createRef(),e.thumbRefs=[],e.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(e.props.values.length).fill(0).map(function(a,i){return i}),isChanged:!1,markOffsets:[]},e.getOffsets=function(){var a=e.props,i=a.direction,s=a.values,o=a.min,d=a.max,g=e.trackRef.current,b=g.getBoundingClientRect(),S=(0,R.getPaddingAndBorder)(g);return e.getThumbs().map(function(w,k){var T={x:0,y:0},x=w.getBoundingClientRect(),z=(0,R.getMargin)(w);switch(i){case V.Direction.Right:return T.x=(z.left+S.left)*-1,T.y=((x.height-b.height)/2+S.top)*-1,T.x+=b.width*(0,R.relativeValue)(s[k],o,d)-x.width/2,T;case V.Direction.Left:return T.x=(z.right+S.right)*-1,T.y=((x.height-b.height)/2+S.top)*-1,T.x+=b.width-b.width*(0,R.relativeValue)(s[k],o,d)-x.width/2,T;case V.Direction.Up:return T.x=((x.width-b.width)/2+z.left+S.left)*-1,T.y=-S.left,T.y+=b.height-b.height*(0,R.relativeValue)(s[k],o,d)-x.height/2,T;case V.Direction.Down:return T.x=((x.width-b.width)/2+z.left+S.left)*-1,T.y=-S.left,T.y+=b.height*(0,R.relativeValue)(s[k],o,d)-x.height/2,T;default:return(0,R.assertUnreachable)(i)}})},e.getThumbs=function(){return e.trackRef&&e.trackRef.current?Array.from(e.trackRef.current.children).filter(function(a){return a.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},e.getTargetIndex=function(a){return e.getThumbs().findIndex(function(i){return i===a.target||i.contains(a.target)})},e.addTouchEvents=function(a){document.addEventListener("touchmove",e.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",e.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",e.schdOnEnd,{passive:!1})},e.addMouseEvents=function(a){document.addEventListener("mousemove",e.schdOnMouseMove),document.addEventListener("mouseup",e.schdOnEnd)},e.onMouseDownTrack=function(a){var i;if(a.button===0)if(a.persist(),a.preventDefault(),e.addMouseEvents(a.nativeEvent),e.props.values.length>1&&e.props.draggableTrack){if(e.thumbRefs.some(function(o){var d;return(d=o.current)===null||d===void 0?void 0:d.contains(a.target)}))return;e.setState({draggedTrackPos:[a.clientX,a.clientY]},function(){return e.onMove(a.clientX,a.clientY)})}else{var s=(0,R.getClosestThumbIndex)(e.thumbRefs.map(function(o){return o.current}),a.clientX,a.clientY,e.props.direction);(i=e.thumbRefs[s].current)===null||i===void 0||i.focus(),e.setState({draggedThumbIndex:s},function(){return e.onMove(a.clientX,a.clientY)})}},e.onResize=function(){(0,R.translateThumbs)(e.getThumbs(),e.getOffsets(),e.props.rtl),e.calculateMarkOffsets()},e.onTouchStartTrack=function(a){var i;if(a.persist(),e.addTouchEvents(a.nativeEvent),e.props.values.length>1&&e.props.draggableTrack){if(e.thumbRefs.some(function(o){var d;return(d=o.current)===null||d===void 0?void 0:d.contains(a.target)}))return;e.setState({draggedTrackPos:[a.touches[0].clientX,a.touches[0].clientY]},function(){return e.onMove(a.touches[0].clientX,a.touches[0].clientY)})}else{var s=(0,R.getClosestThumbIndex)(e.thumbRefs.map(function(o){return o.current}),a.touches[0].clientX,a.touches[0].clientY,e.props.direction);(i=e.thumbRefs[s].current)===null||i===void 0||i.focus(),e.setState({draggedThumbIndex:s},function(){return e.onMove(a.touches[0].clientX,a.touches[0].clientY)})}},e.onMouseOrTouchStart=function(a){if(!e.props.disabled){var i=(0,R.isTouchEvent)(a);if(!(!i&&a.button!==0)){var s=e.getTargetIndex(a);s!==-1&&(i?e.addTouchEvents(a):e.addMouseEvents(a),e.setState({draggedThumbIndex:s,thumbZIndexes:e.state.thumbZIndexes.map(function(o,d){return d===s?Math.max.apply(Math,e.state.thumbZIndexes):o<=e.state.thumbZIndexes[s]?o:o-1})}))}}},e.onMouseMove=function(a){a.preventDefault(),e.onMove(a.clientX,a.clientY)},e.onTouchMove=function(a){a.preventDefault(),e.onMove(a.touches[0].clientX,a.touches[0].clientY)},e.onKeyDown=function(a){var i=e.props,s=i.values,o=i.onChange,d=i.step,g=i.rtl,b=i.direction,S=e.state.isChanged,w=e.getTargetIndex(a.nativeEvent),k=g||b===V.Direction.Left||b===V.Direction.Down?-1:1;w!==-1&&(Xt.includes(a.key)?(a.preventDefault(),e.setState({draggedThumbIndex:w,isChanged:!0}),o((0,R.replaceAt)(s,w,e.normalizeValue(s[w]+k*(a.key==="PageUp"?d*10:d),w)))):Gt.includes(a.key)?(a.preventDefault(),e.setState({draggedThumbIndex:w,isChanged:!0}),o((0,R.replaceAt)(s,w,e.normalizeValue(s[w]-k*(a.key==="PageDown"?d*10:d),w)))):a.key==="Tab"?e.setState({draggedThumbIndex:-1},function(){S&&e.fireOnFinalChange()}):S&&e.fireOnFinalChange())},e.onKeyUp=function(a){var i=e.state.isChanged;e.setState({draggedThumbIndex:-1},function(){i&&e.fireOnFinalChange()})},e.onMove=function(a,i){var s=e.state,o=s.draggedThumbIndex,d=s.draggedTrackPos,g=e.props,b=g.direction,S=g.min,w=g.max,k=g.onChange,T=g.values,x=g.step,z=g.rtl;if(o===-1&&d[0]===-1&&d[1]===-1)return null;var I=e.trackRef.current;if(!I)return null;var j=I.getBoundingClientRect(),N=(0,R.isVertical)(b)?j.height:j.width;if(d[0]!==-1&&d[1]!==-1){var ne=a-d[0],Q=i-d[1],A=0;switch(b){case V.Direction.Right:case V.Direction.Left:A=ne/N*(w-S);break;case V.Direction.Down:case V.Direction.Up:A=Q/N*(w-S);break;default:(0,R.assertUnreachable)(b)}if(z&&(A*=-1),Math.abs(A)>=x/2){for(var B=0;B<e.thumbRefs.length;B++){if(T[B]===w&&Math.sign(A)===1||T[B]===S&&Math.sign(A)===-1)return;var X=T[B]+A;X>w?A=w-T[B]:X<S&&(A=S-T[B])}for(var C=T.slice(0),B=0;B<e.thumbRefs.length;B++)C=(0,R.replaceAt)(C,B,e.normalizeValue(T[B]+A,B));e.setState({draggedTrackPos:[a,i]}),k(C)}}else{var _=0;switch(b){case V.Direction.Right:_=(a-j.left)/N*(w-S)+S;break;case V.Direction.Left:_=(N-(a-j.left))/N*(w-S)+S;break;case V.Direction.Down:_=(i-j.top)/N*(w-S)+S;break;case V.Direction.Up:_=(N-(i-j.top))/N*(w-S)+S;break;default:(0,R.assertUnreachable)(b)}z&&(_=w+S-_),Math.abs(T[o]-_)>=x/2&&k((0,R.replaceAt)(T,o,e.normalizeValue(_,o)))}},e.normalizeValue=function(a,i){var s=e.props,o=s.min,d=s.max,g=s.step,b=s.allowOverlap,S=s.values;return(0,R.normalizeValue)(a,i,o,d,g,b,S)},e.onEnd=function(a){if(a.preventDefault(),document.removeEventListener("mousemove",e.schdOnMouseMove),document.removeEventListener("touchmove",e.schdOnTouchMove),document.removeEventListener("mouseup",e.schdOnEnd),document.removeEventListener("touchend",e.schdOnEnd),document.removeEventListener("touchcancel",e.schdOnEnd),e.state.draggedThumbIndex===-1&&e.state.draggedTrackPos[0]===-1&&e.state.draggedTrackPos[1]===-1)return null;e.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){e.fireOnFinalChange()})},e.fireOnFinalChange=function(){e.setState({isChanged:!1});var a=e.props,i=a.onFinalChange,s=a.values;i&&i(s)},e.updateMarkRefs=function(a){if(!a.renderMark){e.numOfMarks=void 0,e.markRefs=void 0;return}e.numOfMarks=(a.max-a.min)/e.props.step,e.markRefs=[];for(var i=0;i<e.numOfMarks+1;i++)e.markRefs[i]=ge.createRef()},e.calculateMarkOffsets=function(){if(!(!e.props.renderMark||!e.trackRef||!e.numOfMarks||!e.markRefs||e.trackRef.current===null)){for(var a=window.getComputedStyle(e.trackRef.current),i=parseInt(a.width,10),s=parseInt(a.height,10),o=parseInt(a.paddingLeft,10),d=parseInt(a.paddingTop,10),g=[],b=0;b<e.numOfMarks+1;b++){var S=9999,w=9999;if(e.markRefs[b].current){var k=e.markRefs[b].current.getBoundingClientRect();S=k.height,w=k.width}e.props.direction===V.Direction.Left||e.props.direction===V.Direction.Right?g.push([Math.round(i/e.numOfMarks*b+o-w/2),-Math.round((S-s)/2)]):g.push([Math.round(s/e.numOfMarks*b+d-S/2),-Math.round((w-i)/2)])}e.setState({markOffsets:g})}},n.step===0)throw new Error('"step" property should be a positive number');return e.schdOnMouseMove=(0,R.schd)(e.onMouseMove),e.schdOnTouchMove=(0,R.schd)(e.onTouchMove),e.schdOnEnd=(0,R.schd)(e.onEnd),e.thumbRefs=n.values.map(function(){return ge.createRef()}),e.updateMarkRefs(n),e}return r.prototype.componentDidMount=function(){var n=this,e=this.props,a=e.values,i=e.min,s=e.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",n.onResize)},unobserve:function(){return window.removeEventListener("resize",n.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,R.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(o){return(0,R.checkBoundaries)(o,n.props.min,n.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,R.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),a.forEach(function(o){(0,R.isStepDivisible)(i,o,s)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},r.prototype.componentDidUpdate=function(n,e){var a=this.props,i=a.max,s=a.min,o=a.step,d=a.values,g=a.rtl;(n.max!==i||n.min!==s||n.step!==o)&&this.updateMarkRefs(this.props),(0,R.translateThumbs)(this.getThumbs(),this.getOffsets(),g),(n.max!==i||n.min!==s||n.step!==o||e.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),d.forEach(function(b){(0,R.isStepDivisible)(s,b,o)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},r.prototype.componentWillUnmount=function(){var n={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,n),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},r.prototype.render=function(){var n=this,e=this.props,a=e.renderTrack,i=e.renderThumb,s=e.renderMark,o=s===void 0?function(){return null}:s,d=e.values,g=e.min,b=e.max,S=e.allowOverlap,w=e.disabled,k=this.state,T=k.draggedThumbIndex,x=k.thumbZIndexes,z=k.markOffsets;return a({props:{style:{transform:"scale(1)",cursor:T>-1?"grabbing":this.props.draggableTrack?(0,R.isVertical)(this.props.direction)?"ns-resize":"ew-resize":d.length===1&&!w?"pointer":"inherit"},onMouseDown:w?R.voidFn:this.onMouseDownTrack,onTouchStart:w?R.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:w,children:qe(qe([],z.map(function(I,j,N){return o({props:{style:n.props.direction===V.Direction.Left||n.props.direction===V.Direction.Right?{position:"absolute",left:"".concat(I[0],"px"),marginTop:"".concat(I[1],"px")}:{position:"absolute",top:"".concat(I[0],"px"),marginLeft:"".concat(I[1],"px")},key:"mark".concat(j),ref:n.markRefs[j]},index:j})}),!0),d.map(function(I,j){var N=n.state.draggedThumbIndex===j;return i({index:j,value:I,isDragged:N,props:{style:{position:"absolute",zIndex:x[j],cursor:w?"inherit":N?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:j,tabIndex:w?void 0:0,"aria-valuemax":S?b:d[j+1]||b,"aria-valuemin":S?g:d[j-1]||g,"aria-valuenow":I,draggable:!1,ref:n.thumbRefs[j],role:"slider",onKeyDown:w?R.voidFn:n.onKeyDown,onKeyUp:w?R.voidFn:n.onKeyUp}})}),!0)})},r.defaultProps={step:1,direction:V.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},r}(ge.Component);je.default=Qt;(function(t){var r=K&&K.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var n=r(je);t.Range=n.default;var e=Le;Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return e.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return e.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return e.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return e.checkValuesAgainstBoundaries}});var a=ye;Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return a.Direction}})})(Pe);function Ze(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,e)}return n}function me(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Ze(Object(n),!0).forEach(function(e){en(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function en(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var Se=ie("div",{position:"relative",width:"100%"});Se.displayName="Root";Se.displayName="Root";Se.displayName="StyledRoot";var we=ie("div",function(t){var r=t.$theme,n=t.$value,e=n===void 0?[]:n,a=t.$disabled,i=t.$isDragged,s=r.sizing,o="inherit";return a?o="not-allowed":i?o="grabbing":e.length===1&&(o="pointer"),{paddingTop:s.scale600,paddingBottom:s.scale600,paddingRight:s.scale600,paddingLeft:s.scale600,display:"flex",cursor:o,backgroundColor:r.colors.sliderTrackFill}});we.displayName="Track";we.displayName="Track";we.displayName="StyledTrack";var Oe=ie("div",function(t){var r=t.$theme,n=t.$value,e=n===void 0?[]:n,a=t.$min,i=t.$max,s=t.$disabled,o=r.colors,d=r.borders,g=r.direction,b=r.borders.useRoundedCorners?d.radius100:0;return{borderTopLeftRadius:b,borderTopRightRadius:b,borderBottomRightRadius:b,borderBottomLeftRadius:b,background:Pe.getTrackBackground({values:e,colors:e.length===1?[s?o.borderOpaque:o.primary,s?o.backgroundSecondary:o.borderOpaque]:[s?o.backgroundSecondary:o.borderOpaque,s?o.borderOpaque:o.primary,s?o.backgroundSecondary:o.borderOpaque],min:a||0,max:i||0,rtl:g==="rtl"}),height:"2px",width:"100%",alignSelf:"center",cursor:s?"not-allowed":"inherit"}});Oe.displayName="InnerTrack";Oe.displayName="InnerTrack";Oe.displayName="StyledInnerTrack";var Te=ie("div",function(t){return{width:"4px",height:"2px",backgroundColor:t.$theme.colors.backgroundPrimary,marginLeft:"16px"}});Te.displayName="Mark";Te.displayName="Mark";Te.displayName="StyledMark";var _e=ie("div",function(t){return me(me({},t.$theme.typography.font200),{},{color:t.$theme.colors.contentPrimary})});_e.displayName="Tick";_e.displayName="Tick";_e.displayName="StyledTick";var ke=ie("div",function(t){var r=t.$theme,n=r.sizing;return{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:n.scale600,paddingLeft:n.scale600,paddingBottom:n.scale400}});ke.displayName="TickBar";ke.displayName="TickBar";ke.displayName="StyledTickBar";var Me=ie("div",function(t){var r=t.$theme,n=t.$value,e=n===void 0?[]:n,a=t.$thumbIndex,i=t.$disabled,s=e.length===2&&a===0,o=e.length===2&&a===1;return r.direction==="rtl"&&(o||s)&&(s=!s,o=!o),{height:"24px",width:"24px",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:i?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleFill,outline:"none",boxShadow:t.$isFocusVisible?"0 0 0 3px ".concat(r.colors.accent):"0 1px 4px rgba(0, 0, 0, 0.12)",cursor:i?"not-allowed":"inherit"}});Me.displayName="Thumb";Me.displayName="Thumb";Me.displayName="StyledThumb";var $e=ie("div",function(t){var r=t.$disabled,n=t.$theme;return{position:"absolute",top:"-16px",width:"4px",height:"20px",backgroundColor:r?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill}});$e.displayName="InnerThumb";$e.displayName="InnerThumb";$e.displayName="StyledInnerThumb";var De=ie("div",function(t){var r=t.$disabled,n=t.$theme;return me(me({position:"absolute",top:"-".concat(n.sizing.scale1400)},n.typography.font200),{},{backgroundColor:r?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill,color:n.colors.contentInversePrimary,paddingLeft:n.sizing.scale600,paddingRight:n.sizing.scale600,paddingTop:n.sizing.scale500,paddingBottom:n.sizing.scale500,borderBottomLeftRadius:"48px",borderBottomRightRadius:"48px",borderTopLeftRadius:"48px",borderTopRightRadius:"48px",whiteSpace:"nowrap"})});De.displayName="ThumbValue";De.displayName="ThumbValue";De.displayName="StyledThumbValue";function Je(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,e)}return n}function tn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Je(Object(n),!0).forEach(function(e){nn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nn(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function J(t,r){return on(t)||sn(t,r)||an(t,r)||rn()}function rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(t,r){if(t){if(typeof t=="string")return Xe(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(t,r)}}function Xe(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function sn(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var e=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(e.push(s.value),!(r&&e.length===r));a=!0);}catch(d){i=!0,o=d}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return e}}function on(t){if(Array.isArray(t))return t}var un=function(r){if(r.length>2||r.length===0)throw new Error("the value prop represents positions of thumbs, so its length can be only one or two");return r};function cn(t){var r=t.overrides,n=r===void 0?{}:r,e=t.disabled,a=e===void 0?!1:e,i=t.marks,s=i===void 0?!1:i,o=t.onChange,d=o===void 0?function(){}:o,g=t.onFinalChange,b=g===void 0?function(){}:g,S=t.min,w=S===void 0?0:S,k=t.max,T=k===void 0?100:k,x=t.step,z=x===void 0?1:x,I=t.persistentThumb,j=I===void 0?!1:I,N=t.valueToLabel,ne=N===void 0?function(ee){return ee}:N,Q=t.value,A=L.useContext(Et),B=L.useState(!1),X=J(B,2),C=X[0],_=X[1],p=L.useState(!1),m=J(p,2),f=m[0],c=m[1],u=L.useState(!1),h=J(u,2),l=h[0],v=h[1],y=L.useState(-1),O=J(y,2),$=O[0],M=O[1],E=L.useCallback(function(ee){xt(ee)&&v(!0);var H=ee.target.parentNode.firstChild===ee.target?0:1;M(H)},[]),D=L.useCallback(function(ee){l!==!1&&v(!1),M(-1)},[]),F=un(Q),P={$disabled:a,$step:z,$min:w,$max:T,$marks:s,$value:F,$isFocusVisible:l},G=ae(n.Root,Se),q=J(G,2),U=q[0],Y=q[1],re=ae(n.Track,we),te=J(re,2),Ee=te[0],se=te[1],he=ae(n.InnerTrack,Oe),le=J(he,2),pe=le[0],dt=le[1],ft=ae(n.Thumb,Me),Ae=J(ft,2),ht=Ae[0],pt=Ae[1],gt=ae(n.InnerThumb,$e),Be=J(gt,2),vt=Be[0],mt=Be[1],bt=ae(n.ThumbValue,De),Fe=J(bt,2),yt=Fe[0],St=Fe[1],wt=ae(n.Tick,_e),Ne=J(wt,2),Ue=Ne[0],ze=Ne[1],Ot=ae(n.TickBar,ke),Ve=J(Ot,2),Tt=Ve[0],_t=Ve[1],kt=ae(n.Mark,Te),He=J(kt,2),Mt=He[0],$t=He[1];return W.jsxs(U,{"data-baseweb":"slider",...P,...Y,onFocus:It(Y,E),onBlur:Ct(Y,D),children:[W.jsx(Pe.Range,{step:z,min:w,max:T,values:F,disabled:a,onChange:function(H){return d({value:H})},onFinalChange:function(H){return b({value:H})},rtl:A.direction==="rtl",renderTrack:function(H){var oe=H.props,Z=H.children,ue=H.isDragged;return W.jsx(Ee,{onMouseDown:oe.onMouseDown,onTouchStart:oe.onTouchStart,$isDragged:ue,...P,...se,children:W.jsx(pe,{$isDragged:ue,ref:oe.ref,...P,...dt,children:Z})})},renderThumb:function(H){var oe=H.props,Z=H.index,ue=H.isDragged,Ye=j||(!!Z&&f||!Z&&C||ue)&&!a;return W.jsxs(ht,{...oe,onMouseEnter:function(){Z===0?_(!0):c(!0)},onMouseLeave:function(){Z===0?_(!1):c(!1)},$thumbIndex:Z,$isDragged:ue,style:tn({},oe.style),...P,...pt,$isFocusVisible:l&&$===Z,children:[Ye&&W.jsx(yt,{$thumbIndex:Z,$isDragged:ue,...P,...St,children:ne(F[Z])}),Ye&&W.jsx(vt,{$thumbIndex:Z,$isDragged:ue,...P,...mt})]})},...s?{renderMark:function(H){var oe=H.props,Z=H.index;return W.jsx(Mt,{$markIndex:Z,...oe,...P,...$t})}}:{}}),W.jsxs(Tt,{...P,..._t,children:[W.jsx(Ue,{...P,...ze,children:ne(w)}),W.jsx(Ue,{...P,...ze,children:ne(T)})]})]})}var Ge=Object.freeze({change:"change",finalChange:"finalChange"});function Ie(t){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ie(t)}var ln=["children","initialState","stateReducer"];function dn(t,r){if(t==null)return{};var n=fn(t,r),e,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)e=i[a],!(r.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(n[e]=t[e])}return n}function fn(t,r){if(t==null)return{};var n={},e=Object.keys(t),a,i;for(i=0;i<e.length;i++)a=e[i],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Qe(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,e)}return n}function de(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Qe(Object(n),!0).forEach(function(e){fe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function hn(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function et(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function pn(t,r,n){return r&&et(t.prototype,r),n&&et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gn(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ce(t,r)}function Ce(t,r){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},Ce(t,r)}function vn(t){var r=bn();return function(){var e=be(t),a;if(r){var i=be(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return mn(this,a)}}function mn(t,r){if(r&&(Ie(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}function ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},be(t)}function fe(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var yn=function(r,n){return n},ot=function(t){gn(n,t);var r=vn(n);function n(e){var a;return hn(this,n),a=r.call(this,e),fe(ve(a),"onChange",function(i){return a.internalSetState(Ge.change,i),a.props.onChange(de({},i))}),fe(ve(a),"onFinalChange",function(i){return a.internalSetState(Ge.finalChange,i),a.props.onFinalChange(de({},i))}),fe(ve(a),"internalSetState",function(i,s){var o=s.value,d={value:o},g=a.props.stateReducer,b=g(i,d,a.state);a.setState(b)}),a.state={value:e.initialState&&Array.isArray(e.initialState.value)?e.initialState.value:[Math.round((e.max-e.min)/2)+e.min]},a}return pn(n,[{key:"render",value:function(){var a=this.props,i=a.children;a.initialState,a.stateReducer;var s=dn(a,ln);return i(de(de(de({},s),this.state),{},{onChange:this.onChange,onFinalChange:this.onFinalChange}))}}]),n}(L.Component);fe(ot,"defaultProps",{stateReducer:yn,min:0,max:100,step:1,marks:!1,onChange:function(){},onFinalChange:function(){}});const Sn=ot;function jn(t){return W.jsx(Sn,{...t,children:function(r){return W.jsx(cn,{...r})}})}function wn(){if(typeof window<"u"){const t=window.navigator.userAgent.toLocaleLowerCase();return!!/iphone|ipad|ipod|macintosh/.test(t)}return!1}function On(t){const r=window.getComputedStyle(t),n=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight);return t.clientWidth-n}function tt(t,r){let n=document.getElementById(t);return n||(n=document.createElement("span"),n.style.position="absolute",n.style.wordBreak="break-word",n.style.fontSize="14px",n.style.transform="translateY(-200vh)",n.style.pointerEvents="none",n.style.opacity="0",n.id=t,document.body.appendChild(n),r?.(n)),n}function Ln(t){const r=tt("__measure"),n=tt("__single_measure",d=>{d.innerText="TEXT_FOR_MEASURE"}),e=On(t);r.style.width=`${e}px`,r.innerText=t.value!==""?t.value:"1",r.style.fontSize=t.style.fontSize;const a=t.value.endsWith(`
`),i=parseFloat(window.getComputedStyle(r).height),s=parseFloat(window.getComputedStyle(n).height);return Math.round(i/s)+(a?1:0)}var Re=(t=>(t.Chat="chat-next-web-store",t.Access="access-control",t.Config="app-config",t.Mask="mask-store",t.Prompt="prompt-store",t.Update="chat-update",t.Sync="sync",t))(Re||{});const Tn="{{input}}",An="last-input";function _n(t){return JSON.parse(JSON.stringify(t))}function ut(t,r,n){return Bt(Ft(Nt({...t,lastUpdateTime:0},(e,a)=>({...r(e,a),markUpdate(){e({lastUpdateTime:Date.now()})},update(i){const s=_n(a());i(s),e({...s,lastUpdateTime:Date.now()})}})),n))}var ce=(t=>(t.Enter="Enter",t.CtrlEnter="Ctrl + Enter",t.ShiftEnter="Shift + Enter",t.AltEnter="Alt + Enter",t.MetaEnter="Meta + Enter",t))(ce||{});const nt={lastUpdate:Date.now(),submitKey:wn()?"Meta + Enter":"Ctrl + Enter",avatar:"1f603",fontSize:14,theme:"auto",tightBorder:!1,sendPreviewBubble:!0,enableAutoGenerateTitle:!0,disablePromptHint:!1,dontShowMaskSplashScreen:!1,hideBuiltinMasks:!1,customModels:"",jobs:[],modelConfig:{model:"gpt-3.5-turbo",temperature:.5,top_p:1,max_tokens:4e3,presence_penalty:0,frequency_penalty:0,sendMemory:!0,historyMessageCount:4,compressMessageLengthThreshold:1e3,enableInjectSystemPrompts:!0,template:Tn},query:null};var kn=(t=>(t.llm_chat="llm_chat",t.web_handler="web_handler",t))(kn||{});const ct=ut({...nt},(t,r)=>({reset(){t(()=>({...nt}))},setJobs(n){n&&t(()=>({jobs:n??[]}))},setQuery(n){t(()=>({query:n}))},async refetch(){const{query:n}=r();n&&(await n?.refetch(),t(()=>({jobs:n?.data??[]})))},getServings(){const{jobs:n}=r(),e=[];return n.forEach(a=>{const i=a.model.version.stepSpecs.find(d=>d.name===a.jobName&&a.jobName==="serving"),s=i?.service_spec?.apis?.[0],o=a.exposedLinks.find(d=>d.type==="WEB_HANDLER");!i||!o||e.push({job:a,stepSpec:i,apiSpec:s,exposedLink:o,type:s?.inference_type??"web_handler",id:a.id})}),e}}),{name:Re.Config,version:1,migrate(t){return t}});function Mn(t){return{id:it(),date:new Date().toLocaleString(),role:"user",content:"",...t}}const $n="Locale.DefaultTopic";Mn({role:"assistant",content:"Locale.BotHello"});function Dn(t){return{id:t??it(),topic:$n,memoryPrompt:"",messages:[],stat:{tokenCount:0,wordCount:0,charCount:0},lastUpdate:Date.now(),lastSummarizeIndex:0,mask:{},serving:null,show:!0,params:null}}const Rn={sessions:[],currentSessionIndex:0,editingSessionId:null,chatId:Re.Chat};function lt(t=Re.Chat){return ut(Rn,(r,n)=>{function e(){return{...n(),...a}}const a={checkOrClear(i){e().chatId!==i&&e().clearSessions()},clearSessions(){r(()=>({sessions:[],currentSessionIndex:0}))},selectSession(i){r({currentSessionIndex:i})},moveSession(i,s){r(o=>{const{sessions:d,currentSessionIndex:g}=o,b=[...d],S=b[i];b.splice(i,1),b.splice(s,0,S);let w=g===i?s:g;return g>i&&g<=s?w-=1:g<i&&g>=s&&(w+=1),{currentSessionIndex:w,sessions:b}})},deleteSession(i){const s=e().sessions.length===1;if(!e().sessions.at(i))return;const d=e().sessions.slice();d.splice(i,1);const g=e().currentSessionIndex;let b=Math.min(g-+(i<g),d.length-1);s&&(b=0),r(()=>({currentSessionIndex:b,sessions:d}))},currentSession(){let i=e().currentSessionIndex;const{sessions:s}=e();return(i<0||i>=s.length)&&(i=Math.min(s.length-1,Math.max(0,i)),r(()=>({currentSessionIndex:i}))),s[i]},nextSession(i){const s=e().sessions.length,o=g=>(g+s)%s,d=e().currentSessionIndex;e().selectSession(o(d+i))},updateCurrentSession(i){const{sessions:s}=e(),o=e().currentSessionIndex;i(s[o]),r(()=>({sessions:s}))},newOrUpdateSession(i,s){const o=e().sessions.find(g=>g.id===i?.job?.id),d=o??Dn(i?.job?.id);if(i&&(d.serving=i),s){const b=ct.getState().modelConfig;d.mask={...s,modelConfig:{...b,...s.modelConfig}},d.topic=s.name}if(o){r(g=>({sessions:[...g.sessions]}));return}r(g=>({currentSessionIndex:0,sessions:[d,...g.sessions]}))},onResetMessageByIndex(i,s){e().updateSession(i,o=>{o.messages=s,o.lastUpdate=Date.now()})},removeSessionById(i){const s=e().sessions.findIndex(o=>o.id===i);s!==-1&&e().deleteSession(s)},getSessionById(i){return e().sessions.find(s=>s.id===i)},async checkSessionApiById(i){const s=e().getSessionById(i);if(!s)return!1;const{serving:o}=s;if(!o)return!1;const{exposedLink:d,apiSpec:g}=o;return await We.post(`${d.link}api/${g?.uri}?slient=true`,{user_input:"",history:[]})},onSessionShowById(i,s=!0){const o=e().sessions.findIndex(d=>d.id===String(i));o!==-1&&e().updateSession(o,d=>{d.show=s})},onSessionEditParamsShow(i){r(()=>({editingSessionId:i}))},onSessionEditParamsHide(){r(()=>({editingSessionId:null}))},onSessionEditParams(i,s){e().updateSessionById(i,o=>{o.params={...o.params,...s}})},onSessionEditParamsReset(i){e().updateSessionById(i,s=>{s.params={}})},async onUserInput(i,s){const{sessions:o}=e(),d=o.filter(g=>g.serving?.type===i).map((g,b)=>{const{serving:S,messages:w,params:k}=g;if(!S)return Promise.resolve();const{exposedLink:T,apiSpec:x}=S,z={user_input:"",history:[]};return x?.components?.forEach(I=>{!k?.[I.name]&&!I.componentValueSpecFloat||(z[I.name]=k?.[I.name]??I?.componentValueSpecFloat?.defaultVal)}),x?.uri?We.post(`${T.link}api/${x?.uri}`,{...z,user_input:s,history:w}).then(I=>{e().onResetMessageByIndex(b,I.data)}):Promise.reject()});Promise.all(d).then(()=>{})},updateMessage(i,s,o){const{sessions:d}=e(),b=d.at(i)?.messages;o(b?.at(s)),r(()=>({sessions:d}))},resetSession(){e().updateCurrentSession(i=>{i.messages=[],i.memoryPrompt=""})},updateSessionById(i,s){const o=e().sessions.findIndex(g=>g.id===i);if(o===-1)return;const{sessions:d}=e();s(d[o]),r(()=>({sessions:d}))},updateSession(i,s){const{sessions:o}=e();s(o[i]),r(()=>({sessions:o}))},clearAllData(){localStorage.clear(),window.location.reload()}};return a},{name:t,version:1,migrate(r){return JSON.parse(JSON.stringify(r))}})}const Bn=lt();lt();function Fn({children:t,defaultConstraints:r=[400,300],minConstraints:n=[400,330],maxConstraints:e=[1e3,1e3]}){const[a,i]=L.useState(()=>({width:r[0],height:r[1]})),s=(d,{size:g})=>{i({width:g.width,height:g.height})};return Ke.useMemo(()=>Ke.Children.map(t,d=>d?W.jsx(Ut,{width:a.width,height:a.height,axis:"both",onResize:s,maxConstraints:e,minConstraints:n,children:W.jsx("div",{className:"box inline-block flex-shrink-0 flex-grow-0",style:{...a},children:d},d.key)}):null),[t,a,n,e])}function Nn(){const t=L.useRef([]),[r,n]=L.useState(!0);function e(){t.current.forEach(a=>{a&&requestAnimationFrame(()=>{n(!0),a.scrollTo(0,a.scrollHeight)})})}return L.useEffect(()=>{r&&e()}),{scrollRefs:t,autoScroll:r,setAutoScroll:n,scrollDomToBottom:e}}function Un(){const t=ct(),{submitKey:r}=t,n=L.useRef(!1);return L.useEffect(()=>{const a=()=>{n.current=!0},i=()=>{n.current=!1};return window.addEventListener("compositionstart",a),window.addEventListener("compositionend",i),()=>{window.removeEventListener("compositionstart",a),window.removeEventListener("compositionend",i)}},[]),{submitKey:r,shouldSubmit:a=>a.key!=="Enter"||a.key==="Enter"&&(a.nativeEvent.isComposing||n.current)?!1:t.submitKey===ce.AltEnter&&a.altKey||t.submitKey===ce.CtrlEnter&&a.ctrlKey||t.submitKey===ce.ShiftEnter&&a.shiftKey||t.submitKey===ce.MetaEnter&&a.metaKey||t.submitKey===ce.Enter&&!a.altKey&&!a.ctrlKey&&!a.shiftKey&&!a.metaKey}}export{Fn as C,kn as I,An as L,jn as S,Un as a,ct as b,Cn as c,Pn as d,In as e,Ln as f,Bn as g,Nn as u};
