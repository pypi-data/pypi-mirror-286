const Xt=Object.prototype.toString;function Jt(e){switch(Xt.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return C(e,Error)}}function j(e,t){return Xt.call(e)===`[object ${t}]`}function bt(e){return j(e,"ErrorEvent")}function Rt(e){return j(e,"DOMError")}function Ue(e){return j(e,"DOMException")}function T(e){return j(e,"String")}function Kt(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Qt(e){return e===null||Kt(e)||typeof e!="object"&&typeof e!="function"}function Z(e){return j(e,"Object")}function tt(e){return typeof Event<"u"&&C(e,Event)}function Fe(e){return typeof Element<"u"&&C(e,Element)}function Pe(e){return j(e,"RegExp")}function Tt(e){return!!(e&&e.then&&typeof e.then=="function")}function Be(e){return Z(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ge(e){return typeof e=="number"&&e!==e}function C(e,t){try{return e instanceof t}catch{return!1}}function Zt(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function at(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ct(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{Zt(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function qe(e,t,n=!1){return T(e)?Pe(t)?t.test(e):T(t)?n?e===t:e.includes(t):!1:!1}function et(e,t=[],n=!1){return t.some(r=>qe(e,r,n))}function We(e,t,n=250,r,o,i,s){if(!i.exception||!i.exception.values||!s||!C(s.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Ye(ct(e,t,o,s.originalException,r,i.exception.values,a,0),n))}function ct(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(C(r[o],Error)){wt(s,a);const u=e(t,r[o]),f=c.length;$t(u,o,f,a),c=ct(e,t,n,r[o],o,[u,...c],u,f)}return Array.isArray(r.errors)&&r.errors.forEach((u,f)=>{if(C(u,Error)){wt(s,a);const l=e(t,u),I=c.length;$t(l,`errors[${f}]`,I,a),c=ct(e,t,n,u,o,[l,...c],l,I)}}),c}function wt(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function $t(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ye(e,t){return e.map(n=>(n.value&&(n.value=at(n.value,t)),n))}function B(e){return e&&e.Math==Math?e:void 0}const p=typeof globalThis=="object"&&B(globalThis)||typeof window=="object"&&B(window)||typeof self=="object"&&B(self)||typeof global=="object"&&B(global)||function(){return this}()||{};function It(){return p}function te(e,t,n){const r=n||p,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const Ot=It(),Ve=80;function ee(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Ve;for(;n&&i++<r&&(u=ze(n,f),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function ze(e,t){const n=e,r=[];let o,i,s,a,c;if(!n||!n.tagName)return"";if(Ot.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(u&&u.length)u.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&T(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const f=["aria-label","type","name","title","alt"];for(c=0;c<f.length;c++)s=f[c],a=n.getAttribute(s),a&&r.push(`[${s}="${a}"]`);return r.join("")}function Xe(){try{return Ot.document.location.href}catch{return""}}function Je(e){if(!Ot.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ke="Sentry Logger ",ut=["debug","info","warn","error","log","assert","trace"],X={};function Nt(e){if(!("console"in p))return e();const t=p.console,n={},r=Object.keys(X);r.forEach(o=>{const i=X[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Qe(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return P?ut.forEach(n=>{t[n]=(...r)=>{e&&Nt(()=>{p.console[n](`${Ke}[${n}]:`,...r)})}}):ut.forEach(n=>{t[n]=()=>{}}),t}const d=Qe(),Ze=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tn(e){return e==="http"||e==="https"}function en(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function nn(e){const t=Ze.exec(e);if(!t){Nt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,o="",i,s="",a]=t.slice(1);let c="",u=a;const f=u.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),u=f.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return ne({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function ne(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function rn(e){if(!P)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(d.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?tn(r)?t&&isNaN(parseInt(t,10))?(d.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(d.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(d.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function on(e){const t=typeof e=="string"?nn(e):ne(e);if(!(!t||!rn(t)))return t}function g(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);typeof o=="function"&&re(o,r),e[t]=o}function J(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{P&&d.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function re(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,J(e,"__sentry_original__",t)}catch{}}function vt(e){return e.__sentry_original__}function oe(e){if(Jt(e))return{message:e.message,name:e.name,stack:e.stack,...At(e)};if(tt(e)){const t={type:e.type,target:kt(e.target),currentTarget:kt(e.currentTarget),...At(e)};return typeof CustomEvent<"u"&&C(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function kt(e){try{return Fe(e)?ee(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function At(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function sn(e,t=40){const n=Object.keys(oe(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return at(n[0],t);for(let r=n.length;r>0;r--){const o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:at(o,t)}return""}function D(e){return ft(e,new Map)}function ft(e,t){if(an(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const o of Object.keys(e))typeof e[o]<"u"&&(r[o]=ft(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(o=>{r.push(ft(o,t))}),r}return e}function an(e){if(!Z(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const ot="<anonymous>";function v(e){try{return!e||typeof e!="function"?ot:e.name||ot}catch{return ot}}const z={},Lt={};function $(e,t){z[e]=z[e]||[],z[e].push(t)}function k(e,t){Lt[e]||(t(),Lt[e]=!0)}function y(e,t){const n=e&&z[e];if(n)for(const r of n)try{r(t)}catch(o){P&&d.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${v(r)}
Error:`,o)}}function cn(e){const t="console";$(t,e),k(t,un)}function un(){"console"in p&&ut.forEach(function(e){e in p.console&&g(p.console,e,function(t){return X[e]=t,function(...n){y("console",{args:n,level:e});const o=X[e];o&&o.apply(p.console,n)}})})}function E(){const e=p,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function ie(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function N(e){const{message:t,event_id:n}=e;if(t)return t;const r=ie(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function lt(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function dt(e,t){const n=ie(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const i={...o&&o.data,...t.data};n.mechanism.data=i}}function fn(e){return Array.isArray(e)?e:[e]}const L=p,ln=1e3;let Mt,pt,ht;function dn(e){const t="dom";$(t,e),k(t,pn)}function pn(){if(!L.document)return;const e=y.bind(null,"dom"),t=Ht(e,!0);L.document.addEventListener("click",t,!1),L.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=L[n]&&L[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(g(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=u[i]=u[i]||{refCount:0};if(!f.handler){const l=Ht(e);f.handler=l,o.call(this,i,l,a)}f.refCount++}catch{}return o.call(this,i,s,a)}}),g(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},f=u[i];f&&(f.refCount--,f.refCount<=0&&(o.call(this,i,f.handler,a),f.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function hn(e){if(e.type!==pt)return!1;try{if(!e.target||e.target._sentryId!==ht)return!1}catch{}return!0}function gn(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Ht(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=_n(n);if(gn(n.type,r))return;J(n,"_sentryCaptured",!0),r&&!r._sentryId&&J(r,"_sentryId",E());const o=n.type==="keypress"?"input":n.type;hn(n)||(e({event:n,name:o,global:t}),pt=n.type,ht=r?r._sentryId:void 0),clearTimeout(Mt),Mt=L.setTimeout(()=>{ht=void 0,pt=void 0},ln)}}function _n(e){try{return e.target}catch{return null}}const gt=It();function mn(){if(!("fetch"in gt))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function jt(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function yn(){if(typeof EdgeRuntime=="string")return!0;if(!mn())return!1;if(jt(gt.fetch))return!0;let e=!1;const t=gt.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=jt(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){P&&d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function En(e){const t="fetch";$(t,e),k(t,Sn)}function Sn(){yn()&&g(p,"fetch",function(e){return function(...t){const{method:n,url:r}=bn(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return y("fetch",{...o}),e.apply(p,t).then(i=>{const s={...o,endTimestamp:Date.now(),response:i};return y("fetch",s),i},i=>{const s={...o,endTimestamp:Date.now(),error:i};throw y("fetch",s),i})}})}function _t(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Ut(e){return typeof e=="string"?e:e?_t(e,"url")?e.url:e.toString?e.toString():"":""}function bn(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Ut(n),method:_t(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Ut(t),method:_t(t,"method")?String(t.method).toUpperCase():"GET"}}let G=null;function Tn(e){const t="error";$(t,e),k(t,In)}function In(){G=p.onerror,p.onerror=function(e,t,n,r,o){return y("error",{column:r,error:o,line:n,msg:e,url:t}),G&&!G.__SENTRY_LOADER__?G.apply(this,arguments):!1},p.onerror.__SENTRY_INSTRUMENTED__=!0}let q=null;function On(e){const t="unhandledrejection";$(t,e),k(t,Nn)}function Nn(){q=p.onunhandledrejection,p.onunhandledrejection=function(e){return y("unhandledrejection",e),q&&!q.__SENTRY_LOADER__?q.apply(this,arguments):!0},p.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const W=It();function vn(){const e=W.chrome,t=e&&e.app&&e.app.runtime,n="history"in W&&!!W.history.pushState&&!!W.history.replaceState;return!t&&n}const U=p;let Y;function xn(e){const t="history";$(t,e),k(t,Dn)}function Dn(){if(!vn())return;const e=U.onpopstate;U.onpopstate=function(...n){const r=U.location.href,o=Y;if(Y=r,y("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const o=r.length>2?r[2]:void 0;if(o){const i=Y,s=String(o);Y=s,y("history",{from:i,to:s})}return n.apply(this,r)}}g(U.history,"pushState",t),g(U.history,"replaceState",t)}const Rn=p,F="__sentry_xhr_v3__";function Cn(e){const t="xhr";$(t,e),k(t,wn)}function wn(){if(!Rn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;g(e,"open",function(t){return function(...n){const r=Date.now(),o=T(n[0])?n[0].toUpperCase():void 0,i=$n(n[1]);if(!o||!i)return t.apply(this,n);this[F]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[F];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[o,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};y("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?g(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),g(this,"setRequestHeader",function(a){return function(...c){const[u,f]=c,l=this[F];return l&&T(u)&&T(f)&&(l.request_headers[u.toLowerCase()]=f),a.apply(this,c)}}),t.apply(this,n)}}),g(e,"send",function(t){return function(...n){const r=this[F];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const o={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return y("xhr",o),t.apply(this,n)}})}function $n(e){if(T(e))return e;try{return e.toString()}catch{}}function kn(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let i=0;i<t.length;i++)if(t[i]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1);break}}return[n,r]}function An(e,t=100,n=1/0){try{return mt("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function se(e,t=3,n=100*1024){const r=An(e,t);return jn(r)>n?se(e,t-1,n):r}function mt(e,t,n=1/0,r=1/0,o=kn()){const[i,s]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Ge(t))return t;const a=Ln(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const S=u.toJSON();return mt("",S,c-1,r,o)}catch{}const f=Array.isArray(t)?[]:{};let l=0;const I=oe(t);for(const S in I){if(!Object.prototype.hasOwnProperty.call(I,S))continue;if(l>=r){f[S]="[MaxProperties ~]";break}const je=I[S];f[S]=mt(S,je,c-1,r,o),l++}return s(t),f}function Ln(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Zt(t))return"[VueViewModel]";if(Be(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${v(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Mn(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Mn(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Hn(e){return~-encodeURI(e).split(/%..|./).length}function jn(e){return Hn(JSON.stringify(e))}var b;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(b||(b={}));class O{constructor(t){O.prototype.__init.call(this),O.prototype.__init2.call(this),O.prototype.__init3.call(this),O.prototype.__init4.call(this),this._state=b.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new O((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new O((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(b.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(b.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===b.PENDING){if(Tt(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===b.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===b.RESOLVED&&n[1](this._value),this._state===b.REJECTED&&n[2](this._value),n[0]=!0)})}}}function it(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Un=["fatal","error","warning","log","info","debug"];function Fn(e){return e==="warn"?"warning":Un.includes(e)?e:"log"}const ae=1e3;function xt(){return Date.now()/ae}function Pn(){const{performance:e}=p;if(!e||!e.now)return xt;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ae}const ce=Pn();(()=>{const{performance:e}=p;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?e.timeOrigin:s:r})();const m=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ue="production";function Bn(){return te("globalEventProcessors",()=>[])}function yt(e,t,n,r=0){return new O((o,i)=>{const s=e[r];if(t===null||typeof s!="function")o(t);else{const a=s({...t},n);m&&s.id&&a===null&&d.log(`Event processor "${s.id}" dropped event`),Tt(a)?a.then(c=>yt(e,c,n,r+1).then(o)).then(null,i):yt(e,a,n,r+1).then(o).then(null,i)}})}function Gn(e){const t=ce(),n={sid:E(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Wn(n)};return e&&nt(n,e),n}function nt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ce(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:E()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function qn(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),nt(e,n)}function Wn(e){return D({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Yn=1;function Vn(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,tags:a,origin:c}=K(e);return D({data:r,op:o,parent_span_id:i,span_id:t,status:s,tags:a,trace_id:n,origin:c})}function K(e){return zn(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function zn(e){return typeof e.getSpanJSON=="function"}function Xn(e){const{traceFlags:t}=e.spanContext();return!!(t&Yn)}function Jn(e){if(e)return Kn(e)?{captureContext:e}:Zn(e)?{captureContext:e}:e}function Kn(e){return e instanceof R||typeof e=="function"}const Qn=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Zn(e){return Object.keys(e).some(t=>Qn.includes(t))}function tr(e,t){return A().captureException(e,Jn(t))}function fe(e,t){return A().captureEvent(e,t)}function w(e,t){A().addBreadcrumb(e,t)}function er(...e){const t=A();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function _(){return A().getClient()}function nr(){return A().getScope()}function le(e){return e.transaction}function rr(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=D({environment:r.environment||ue,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function or(e){const t=_();if(!t)return{};const n=rr(K(e).trace_id||"",t,nr()),r=le(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:i,source:s}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=K(r);return s&&s!=="url"&&(n.transaction=a.description),n.sampled=String(Xn(r)),t.emit&&t.emit("createDsc",n),n}function ir(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;sr(e,t),r&&ur(e,r),fr(e,n),ar(e,o),cr(e,i)}function sr(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,c=D(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=D(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const f=D(o);f&&Object.keys(f).length&&(e.user={...f,...e.user});const l=D(i);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),s&&(e.level=s),a&&(e.transaction=a)}function ar(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function cr(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ur(e,t){e.contexts={trace:Vn(t),...e.contexts};const n=le(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:or(t),...e.sdkProcessingMetadata};const r=K(n).description;r&&(e.tags={transaction:r,...e.tags})}}function fr(e,t){e.fingerprint=e.fingerprint?fn(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const lr=100;class R{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ft()}static clone(t){return t?t.clone():new R}clone(){const t=new R;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&nt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof R){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Z(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ft(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:lr;if(r<=0)return this;const o={timestamp:xt(),...t},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:o,_extra:i,_user:s,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:f,_sdkProcessingMetadata:l,_transactionName:I,_span:S}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:o,extra:i,user:s,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:f,sdkProcessingMetadata:l,transactionName:I,span:S}}applyToEvent(t,n={},r=[]){ir(t,this.getScopeData());const o=[...r,...Bn(),...this._eventProcessors];return yt(o,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:E();if(!this._client)return d.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){const o=r&&r.event_id?r.event_id:E();if(!this._client)return d.warn("No client configured on scope - will not capture message!"),o;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){const r=n&&n.event_id?n.event_id:E();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(d.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Ft(){return{traceId:E(),spanId:E().substring(16)}}const dr="7.118.0",de=parseFloat(dr),pr=100;class pe{constructor(t,n,r,o=de){this._version=o;let i;n?i=n:(i=new R,i.setClient(t));let s;r?s=r:(s=new R,s.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=s}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(o){throw this.popScope(),o}return Tt(r)?r.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:E(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:o,...n,event_id:r}),r}captureMessage(t,n,r){const o=this._lastEventId=r&&r.event_id?r.event_id:E(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o}),o}captureEvent(t,n){const r=n&&n.event_id?n.event_id:E();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=pr}=o.getOptions&&o.getOptions()||{};if(s<=0)return;const c={timestamp:xt(),...t},u=i?Nt(()=>i(c,n)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,s))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=Pt(this);try{t(this)}finally{Pt(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return m&&d.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return m&&!r&&(this.getClient()?d.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):d.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&qn(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:o,environment:i=ue}=r&&r.getOptions()||{},{userAgent:s}=p.navigator||{},a=Gn({release:o,environment:i,user:n.getUser(),...s&&{userAgent:s},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&nt(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const o=rt().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,n);m&&d.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function rt(){return p.__SENTRY__=p.__SENTRY__||{extensions:{},hub:void 0},p}function Pt(e){const t=rt(),n=Et(t);return he(t,e),n}function A(){const e=rt();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return hr(e)}function hr(e=rt()){return(!gr(e)||Et(e).isOlderThan(de))&&he(e,new pe),Et(e)}function gr(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Et(e){return te("hub",()=>new pe,e)}function he(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function _r(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function mr(e,t){const n=on(e);if(!n)return"";const r=`${_r(n)}embed/error-page/`;let o=`dsn=${en(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}function x(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}const yr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Er=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],ge="InboundFilters",Sr=(e={})=>({name:ge,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=br(e,o);return Tr(t,i)?null:t}}),_e=Sr;x(ge,_e);function br(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:yr],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Er],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Tr(e,t){return t.ignoreInternal&&Dr(e)?(m&&d.warn(`Event dropped due to being internal Sentry Error.
Event: ${N(e)}`),!0):Ir(e,t.ignoreErrors)?(m&&d.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${N(e)}`),!0):Or(e,t.ignoreTransactions)?(m&&d.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${N(e)}`),!0):Nr(e,t.denyUrls)?(m&&d.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${N(e)}.
Url: ${Q(e)}`),!0):vr(e,t.allowUrls)?!1:(m&&d.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${N(e)}.
Url: ${Q(e)}`),!0)}function Ir(e,t){return e.type||!t||!t.length?!1:xr(e).some(n=>et(n,t))}function Or(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?et(n,t):!1}function Nr(e,t){if(!t||!t.length)return!1;const n=Q(e);return n?et(n,t):!1}function vr(e,t){if(!t||!t.length)return!0;const n=Q(e);return n?et(n,t):!0}function xr(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),m&&t.length===0&&d.error(`Could not extract message for event ${N(e)}`),t}function Dr(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Rr(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Q(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Rr(t):null}catch{return m&&d.error(`Cannot extract url for event ${N(e)}`),null}}let Bt;const me="FunctionToString",Gt=new WeakMap,Cr=()=>({name:me,setupOnce(){Bt=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=vt(this),n=Gt.has(_())&&t!==void 0?t:this;return Bt.apply(n,e)}}catch{}},setup(e){Gt.set(e,!0)}}),ye=Cr;x(me,ye);const h=p;let St=0;function Ee(){return St>0}function wr(){St++,setTimeout(()=>{St--})}function H(e,t={},n){if(typeof e!="function")return e;try{const o=e.__sentry_wrapped__;if(o)return o;if(vt(e))return e}catch{return e}const r=function(){const o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=o.map(s=>H(s,t));return e.apply(this,i)}catch(i){throw wr(),er(s=>{s.addEventProcessor(a=>(t.mechanism&&(lt(a,void 0,void 0),dt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),tr(i)}),i}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}re(r,e),J(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const M=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Se(e,t){const n=Dt(e,t),r={type:t&&t.name,value:Lr(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function $r(e,t,n,r){const o=_(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:tt(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Mr(t,{isUnhandledRejection:r})}]},extra:{__serialized__:se(t,i)}};if(n){const a=Dt(e,n);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function st(e,t){return{exception:{values:[Se(e,t)]}}}function Dt(e,t){const n=t.stacktrace||t.stack||"",r=Ar(t);try{return e(n,r)}catch{}return[]}const kr=/Minified React error #\d+;/i;function Ar(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(kr.test(e.message))return 1}return 0}function Lr(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function be(e,t,n,r,o){let i;if(bt(t)&&t.error)return st(e,t.error);if(Rt(t)||Ue(t)){const s=t;if("stack"in t)i=st(e,t);else{const a=s.name||(Rt(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=qt(e,c,n,r),lt(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Jt(t)?st(e,t):Z(t)||tt(t)?(i=$r(e,t,n,o),dt(i,{synthetic:!0}),i):(i=qt(e,t,n,r),lt(i,`${t}`,void 0),dt(i,{synthetic:!0}),i)}function qt(e,t,n,r){const o={};if(r&&n){const i=Dt(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(Kt(t)){const{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function Mr(e,{isUnhandledRejection:t}){const n=sn(e),r=t?"promise rejection":"exception";return bt(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:tt(e)?`Event \`${Hr(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Hr(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}const V=1024,Te="Breadcrumbs",jr=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Te,setupOnce(){},setup(n){t.console&&cn(Pr(n)),t.dom&&dn(Fr(n,t.dom)),t.xhr&&Cn(Br(n)),t.fetch&&En(Gr(n)),t.history&&xn(qr(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Ur(n))}}},Ie=jr;x(Te,Ie);function Ur(e){return function(n){_()===e&&w({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:N(n)},{event:n})}}function Fr(e,t){return function(r){if(_()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>V&&(M&&d.warn(`\`dom.maxStringLength\` cannot exceed ${V}, but a value of ${a} was configured. Sentry will use ${V} instead.`),a=V),typeof s=="string"&&(s=[s]);try{const u=r.event,f=Wr(u)?u.target:u;o=ee(f,{keyAttrs:s,maxStringLength:a}),i=Je(f)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),w(c,{event:r.event,name:r.name,global:r.global})}}function Pr(e){return function(n){if(_()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Fn(n.level),message:Ct(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ct(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;w(r,{input:n.args,level:n.level})}}function Br(e){return function(n){if(_()!==e)return;const{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[F];if(!r||!o||!i)return;const{method:s,url:a,status_code:c,body:u}=i,f={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o};w({category:"xhr",data:f,type:"http"},l)}}function Gr(e){return function(n){if(_()!==e)return;const{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};w({category:"fetch",data:i,level:"error",type:"http"},s)}else{const i=n.response,s={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:o};w({category:"fetch",data:s,type:"http"},a)}}}function qr(e){return function(n){if(_()!==e)return;let r=n.from,o=n.to;const i=it(h.location.href);let s=r?it(r):void 0;const a=it(o);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),w({category:"navigation",data:{from:r,to:o}})}}function Wr(e){return!!e&&!!e.target}const Oe="Dedupe",Yr=()=>{let e;return{name:Oe,setupOnce(){},processEvent(t){if(t.type)return t;try{if(Vr(t,e))return M&&d.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ne=Yr;x(Oe,Ne);function Vr(e,t){return t?!!(zr(e,t)||Xr(e,t)):!1}function zr(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!xe(e,t)||!ve(e,t))}function Xr(e,t){const n=Wt(t),r=Wt(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!xe(e,t)||!ve(e,t))}function ve(e,t){let n=Yt(e),r=Yt(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function xe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Wt(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Yt(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const De="GlobalHandlers",Jr=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:De,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Kr(n),Vt("onerror")),t.onunhandledrejection&&(Qr(n),Vt("onunhandledrejection"))}}},Re=Jr;x(De,Re);function Kr(e){Tn(t=>{const{stackParser:n,attachStacktrace:r}=we();if(_()!==e||Ee())return;const{msg:o,url:i,line:s,column:a,error:c}=t,u=c===void 0&&T(o)?eo(o,i,s,a):Ce(be(n,c||o,void 0,r,!1),i,s,a);u.level="error",fe(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Qr(e){On(t=>{const{stackParser:n,attachStacktrace:r}=we();if(_()!==e||Ee())return;const o=Zr(t),i=Qt(o)?to(o):be(n,o,void 0,r,!0);i.level="error",fe(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Zr(e){if(Qt(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function to(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function eo(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=bt(e)?e.message:e,s="Error";const a=i.match(o);return a&&(s=a[1],i=a[2]),Ce({exception:{values:[{type:s,value:i}]}},t,n,r)}function Ce(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,l=T(t)&&t.length>0?t:Xe();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:f}),e}function Vt(e){M&&d.log(`Global Handler attached: ${e}`)}function we(){const e=_();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const $e="HttpContext",no=()=>({name:$e,setupOnce(){},preprocessEvent(e){if(!h.navigator&&!h.location&&!h.document)return;const t=e.request&&e.request.url||h.location&&h.location.href,{referrer:n}=h.document||{},{userAgent:r}=h.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),ke=no;x($e,ke);const ro="cause",oo=5,Ae="LinkedErrors",io=(e={})=>{const t=e.limit||oo,n=e.key||ro;return{name:Ae,setupOnce(){},preprocessEvent(r,o,i){const s=i.getOptions();We(Se,s.stackParser,s.maxValueLength,n,t,r,o)}}},Le=io;x(Ae,Le);const so=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Me="TryCatch",ao=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Me,setupOnce(){t.setTimeout&&g(h,"setTimeout",zt),t.setInterval&&g(h,"setInterval",zt),t.requestAnimationFrame&&g(h,"requestAnimationFrame",co),t.XMLHttpRequest&&"XMLHttpRequest"in h&&g(XMLHttpRequest.prototype,"send",uo);const n=t.eventTarget;n&&(Array.isArray(n)?n:so).forEach(fo)}}},He=ao;x(Me,He);function zt(e){return function(...t){const n=t[0];return t[0]=H(n,{mechanism:{data:{function:v(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function co(e){return function(t){return e.apply(this,[H(t,{mechanism:{data:{function:"requestAnimationFrame",handler:v(e)},handled:!1,type:"instrument"}})])}}function uo(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&g(n,o,function(i){const s={mechanism:{data:{function:o,handler:v(i)},handled:!1,type:"instrument"}},a=vt(i);return a&&(s.mechanism.data.handler=v(a)),H(i,s)})}),e.apply(this,t)}}function fo(e){const t=h,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(g(n,"addEventListener",function(r){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=H(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:v(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,H(i,{mechanism:{data:{function:"addEventListener",handler:v(i),target:e},handled:!1,type:"instrument"}}),s])}}),g(n,"removeEventListener",function(r){return function(o,i,s){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,o,c,s)}catch{}return r.call(this,o,a,s)}}))}_e(),ye(),He(),Ie(),Re(),Le(),Ne(),ke();const lo=(e={},t=A())=>{if(!h.document){M&&d.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o){M&&d.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=h.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=mr(o,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{s()}finally{h.removeEventListener("message",c)}};h.addEventListener("message",c)}const a=h.document.head||h.document.body;a?a.appendChild(i):M&&d.error("Not injecting report dialog. No injection point found in HTML")};export{lo as s};
