(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9196],{86548:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reporting/datamap",function(){return n(70341)}])},96589:function(e,t,n){"use strict";var a=n(85034),r=n(70169),s=n(31373),i=n(3204),u=n(24246),o=n(83265),c=n(27378),l=function(e){var t=e.split("."),n=[];return t.forEach((function(e){var t=n.length>0?n[n.length-1]:null;t?n.push("".concat(t,".").concat(e)):n.push(e)})),n},d=function(e,t){return e===t||!!e.startsWith("".concat(t,"."))},f=function(e,t,n){var a=null!==n&&void 0!==n?n:[];return e.forEach((function(e){e.children&&f(e.children,t,a),d(e.value,t)&&a.push(e)})),a},_=function(e){var t=e.node,n=e.isChecked,a=e.onChecked,r=e.isExpanded,s=e.onExpanded,i=e.isIndeterminate,c=e.isDisabled,l=e.children,d=t.value,f=t.label,_=!!t.children&&t.children.length>0;return(0,u.jsxs)(o.xuv,{children:[(0,u.jsxs)(o.xuv,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:function(){return s(t)},minHeight:8,children:[(0,u.jsx)(o.XZJ,{colorScheme:"complimentary",value:d,isChecked:!i&&n,isIndeterminate:i,isDisabled:c,onChange:function(){return a(t)},mx:2,"data-testid":"checkbox-".concat(f),children:f}),_?(0,u.jsx)(o.hU,{"data-testid":"expand-".concat(f),"aria-label":r?"collapse":"expand",icon:(0,u.jsx)(o.v4q,{boxSize:5}),variant:"ghost",onClick:function(){return s(t)},size:"sm",style:{transform:r?"rotate(180deg)":""}}):null]}),l&&(0,u.jsx)(o.xuv,{ml:5,children:l})]})};t.ZP=function(e){var t=e.nodes,n=e.selected,x=e.onSelected,S=(0,s.Z)(e,["nodes","selected","onSelected"]),g=(0,c.useState)([]),E=g[0],p=g[1],T=(0,c.useState)([]),h=T[0],A=T[1];(0,c.useEffect)((function(){var e=n.map((function(e){return l(e)})).reduce((function(e,t){return e.concat(t)}),[]),a=n.map((function(e){return f(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.value})),r=Array.from(new Set((0,i.Z)(e).concat((0,i.Z)(a))));A(r),p(r)}),[n,t]);var m=function(e){var a=[],r=[];if(E.indexOf(e.value)>=0)a=E.filter((function(t){return!d(t,e.value)})),r=n.filter((function(t){return!d(t,e.value)}));else{var s=f(t,e.value).map((function(e){return e.value}));a=(0,i.Z)(E).concat((0,i.Z)(s)),r=(0,i.Z)(n).concat([e.value])}p(a),x(r)},v=function(e){h.indexOf(e.value)>=0?A(h.filter((function(t){return!d(t,e.value)}))):A((0,i.Z)(h).concat([e.value]))},R=function(e){if(e.children){var a=E.indexOf(e.value)>=0,r=h.indexOf(e.value)>=0,s=f(t,e.value),i=a&&e.children.length>0&&E.filter((function(t){return t.startsWith("".concat(e.value,"."))})).length+1!==s.length,o=function(e,t){var n=l(t).filter((function(e){return e!==t}));return e.filter((function(e){return n.includes(e)})).length>0}(n,e.value);return(0,u.jsx)(_,{node:e,isChecked:a,onChecked:m,isExpanded:r,onExpanded:v,isDisabled:o,isIndeterminate:i,children:r?e.children.map((function(e){return(0,u.jsx)(c.Fragment,{children:R(e)},e.value)})):void 0})}return null};return(0,u.jsx)(o.xuv,(0,r.Z)((0,a.Z)({},S),{children:t.map((function(e){return(0,u.jsx)(o.xuv,{children:R(e)},e.value)}))}))}},25010:function(e,t,n){"use strict";var a=n(85034),r=n(70169),s=n(24246),i=n(83265),u=n(88038),o=n.n(u);n(27378);t.Z=function(e){var t=e.children,n=e.title,u=e.mainProps;return(0,s.jsxs)(i.kCb,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 200px)",children:[(0,s.jsxs)(o(),{children:[(0,s.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,s.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(i.kCb,(0,r.Z)((0,a.Z)({pt:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0},u),{children:t}))]})}},87594:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(85034),r=n(70169),s=n(31373),i=n(24246),u=n(83265),o=n(98784),c=n(27378),l=n(79894),d=n.n(l),f=function(e){var t=e.breadcrumbs;return(0,i.jsx)(u.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:t.map((function(e,n){var a=n+1===t.length,r=!!e.link||!!e.onClick;return(0,i.jsx)(u.gN6,{color:a||e.isOpaque?"black":"gray.500",children:r?(0,i.jsx)(u.Atw,{as:d(),href:e.link,isCurrentPage:a,children:e.title}):(0,i.jsx)(u.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:a,children:e.title})},e.title)}))})},_=function(e){var t=e.breadcrumbs,n=e.isSticky,l=void 0===n||n,d=e.children,_=(0,s.Z)(e,["breadcrumbs","isSticky","children"]);return(0,i.jsxs)(u.xuv,(0,r.Z)((0,a.Z)({bgColor:"white",paddingY:5},l?{position:"sticky",top:0,left:0,zIndex:10}:{},_),{children:[(0,o.isArray)(t)&&(0,i.jsx)(u.xuv,{marginBottom:d?4:0,children:(0,i.jsx)(f,{breadcrumbs:t})}),(0,c.isValidElement)(t)&&t,d]}))}},10160:function(e,t,n){"use strict";var a=n(24246),r=n(98784),s=n(10503),i=n(32918),u=n(21788),o=n(57812),c=function(){var e=(0,u.fd)().isLoading,t=(0,s.C)(u.U3),n=(0,o.MO)().isLoading,a=(0,s.C)(o.qb),r=(0,i.te)().isLoading;return{dataUses:t,dataSubjects:(0,s.C)(i.ZL),dataCategories:a,isLoading:e||n||r}};t.Z=function(){var e=c(),t=e.dataUses,n=e.dataCategories,s=e.dataSubjects,i=e.isLoading,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=".",a=e.split(n).slice(0,t);return a.join(n)},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t(e);if(!r)return e;var s=t(u(e,n)),i=!!r.parent_key;return i&&(null===s||void 0===s?void 0:s.name)!==r.name?(0,a.jsxs)("span",{children:[(0,a.jsxs)("strong",{children:[null===s||void 0===s?void 0:s.name,":"]})," ",r.name]},e):(0,a.jsx)("strong",{children:r.name},e)},l=function(e){return(0,r.find)(t,{fides_key:e})},d=function(e){return(0,r.find)(n,{fides_key:e})},f=function(e){return(0,r.find)(s,{fides_key:e})};return{getDataUses:function(){return t},getDataUseByKey:l,getDataUseDisplayName:function(e){return o(e,l,1)},getDataCategories:function(){return n},getDataCategoryByKey:d,getDataCategoryDisplayName:function(e){return o(e,d,2)},getDataSubjects:function(){return s},getDataSubjectByKey:f,getDataSubjectDisplayName:function(e){var t=f(e);return t?t.name:e},getPrimaryKey:u,isLoading:i}}},77966:function(e,t,n){"use strict";n.d(t,{C:function(){return a},P:function(){return r}});var a=function(e,t){var n;if(null==t&&e.every((function(e){return void 0===e.parent_key})))n=e;else{var r=null!==t&&void 0!==t?t:null;n=e.filter((function(e){return e.parent_key===r}))}return n.map((function(t){var n,r,s=t.fides_key;return{value:t.fides_key,label:""===t.name||null==t.name?t.fides_key:t.name,description:t.description,children:a(e,s),is_default:null!==(n=t.is_default)&&void 0!==n&&n,active:null!==(r=t.active)&&void 0!==r&&r}}))},r=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},70341:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a,r=n(24246),s=n(27378),i=n(25010),u=n(87594),o=n(17599),c=n(15963),l=n(85034),d=n(52050),f=n(3204),_=n(92222),x=n(59003),S=n(73659),g=n(83265),E=n(98784),p=n.n(E),T=n(10503),h=n(70885),A=n(10160),m=n(83334),v=n(98878),R=n(69762),j=n(18418),C=n(38287),D=n(70169),y=n(31373),I=function(e){var t=e.children,n=e.heading,a=e.onCancel,s=e.onConfirm,i=e.isLoading,u=e.cancelButtonText,o=e.cancelButtonThemingProps,c=e.continueButtonText,d=(e.continueButtonThemingProps,e["data-testid"]),f=void 0===d?"standard-dialog":d,_=(0,y.Z)(e,["children","heading","onCancel","onConfirm","isLoading","cancelButtonText","cancelButtonThemingProps","continueButtonText","continueButtonThemingProps","data-testid"]),x=_.onClose;return(0,r.jsxs)(g.u_l,(0,D.Z)((0,l.Z)({closeOnOverlayClick:i},_),{children:[(0,r.jsx)(g.ZAr,{}),(0,r.jsxs)(g.hzk,{"data-testid":f,children:[n&&(0,r.jsx)(g.xBx,{children:n}),(0,r.jsx)(g.olH,{isDisabled:i}),t&&(0,r.jsx)(g.fef,{children:t}),(0,r.jsxs)(g.mzw,{gap:3,width:"100%",sx:{"& button":{width:"100%"}},children:[(0,r.jsx)(g.zxk,(0,D.Z)((0,l.Z)({variant:"outline",onClick:function(){a&&a(),x()},"data-testid":"".concat(f?"".concat(f,"-"):"","cancel-btn"),isDisabled:i},o),{children:u||"Cancel"})),(0,r.jsx)(g.zxk,(0,D.Z)((0,l.Z)({colorScheme:"primary",onClick:s,"data-testid":"".concat(f?"".concat(f,"-"):"","continue-btn"),isLoading:i},o),{children:c||"Continue"}))]})]})]}))},O=function(e){var t=(0,s.useState)(R.T2.csv),n=t[0],a=t[1],i=e.onConfirm;return(0,r.jsx)(I,(0,D.Z)((0,l.Z)({heading:"Export report",continueButtonText:"Download",size:"xl"},e),{onConfirm:function(){return i(n)},"data-testid":"export-modal",children:(0,r.jsxs)(g.kCb,{direction:"column",gap:3,pb:3,children:[(0,r.jsx)(g.xvT,{textAlign:"left",children:"Export your data map report using the options below. Depending on the number of rows, the file may take a few minutes to process."}),(0,r.jsxs)(g.NIc,{children:[(0,r.jsx)(g.lXp,{children:"Choose Format"}),(0,r.jsxs)(g.PhF,{value:n,onChange:function(e){return a(e.target.value)},"data-testid":"export-format-select",children:[(0,r.jsx)("option",{value:R.T2.csv,children:"CSV"}),(0,r.jsx)("option",{value:R.T2.xlsx,children:"XLSX"})]})]})]})}))},b=n(96589),Z=n(32918),N=n(21788),P=n(77966),L=n(22735),k=function(e){var t=e.label,n=e.children,a=(0,y.Z)(e,["label","children"]);return(0,r.jsxs)(g.Qdk,(0,D.Z)((0,l.Z)({},a),{children:[(0,r.jsx)(g.X6q,{children:(0,r.jsxs)(g.KFZ,{height:"100%","data-testid":"filter-modal-accordion-button",textAlign:"left",fontWeight:600,children:[(0,r.jsx)(g.xuv,{flex:1,children:t}),(0,r.jsx)(g.XEm,{boxSize:7})]})}),(0,r.jsx)(g.Hk3,{children:n})]}))},M=function(e){var t=e.onClose,n=e.onFilterChange,a=(0,y.Z)(e,["onClose","onFilterChange"]);(0,N.fd)(),(0,Z.te)(),(0,L.MO)();var i=(0,T.C)(N.U3),u=(0,T.C)(Z.ZL),o=(0,T.C)(L.qb),c=(0,s.useState)([]),d=c[0],f=c[1],_=(0,s.useState)([]),x=_[0],S=_[1],E=(0,s.useState)([]),p=E[0],h=E[1],A=(0,s.useMemo)((function(){return(0,P.C)(i)}),[i]),m=(0,s.useMemo)((function(){return(0,P.C)(u)}),[u]),v=(0,s.useMemo)((function(){return(0,P.C)(o)}),[o]);return(0,r.jsx)(I,(0,D.Z)((0,l.Z)({heading:"Filter Datamap Report"},a),{onCancel:function(){f([]),S([]),h([]),n({dataUses:[],dataSubjects:[],dataCategories:[]}),t()},onConfirm:function(){n({dataUses:d,dataSubjects:x,dataCategories:p}),t()},onClose:t,cancelButtonText:"Reset filters",continueButtonText:"Done","data-testid":"datamap-report-filter-modal",children:(0,r.jsxs)(g.UQy,{allowToggle:!0,children:[(0,r.jsx)(k,{label:"Data uses",children:(0,r.jsx)(b.ZP,{nodes:A,selected:d,onSelected:f,"data-testid":"filter-modal-checkbox-tree-uses"})}),(0,r.jsx)(k,{label:"Data categories",children:(0,r.jsx)(b.ZP,{nodes:v,selected:p,onSelected:h,"data-testid":"filter-modal-checkbox-tree-categories"})}),(0,r.jsx)(k,{label:"Data subjects",children:(0,r.jsx)(b.ZP,{nodes:m,selected:x,onSelected:S,"data-testid":"filter-modal-checkbox-tree-subjects"})})]})}))},G=n(94353),U=n(10439),V=(0,_.Cl)(),w={items:[],total:0,page:1,size:25,pages:1};!function(e){e.SYSTEM_NAME="system_name",e.DATA_USE="data_use",e.DATA_CATEGORY="data_categories",e.DATA_SUBJECT="data_subjects",e.LEGAL_NAME="legal_name",e.DPO="dpo",e.LEGAL_BASIS_FOR_PROCESSING="legal_basis_for_processing",e.ADMINISTRATING_DEPARTMENT="administrating_department",e.COOKIE_MAX_AGE_SECONDS="cookie_max_age_seconds",e.PRIVACY_POLICY="privacy_policy",e.LEGAL_ADDRESS="legal_address",e.COOKIE_REFRESH="cookie_refresh",e.DATA_SECURITY_PRACTICES="data_security_practices",e.DATA_SHARED_WITH_THIRD_PARTIES="DATA_SHARED_WITH_THIRD_PARTIES",e.DATA_STEWARDS="data_stewards",e.DECLARATION_NAME="declaration_name",e.DESCRIPTION="description",e.DOES_INTERNATIONAL_TRANSFERS="does_international_transfers",e.DPA_LOCATION="dpa_location",e.DESTINATIONS="egress",e.EXEMPT_FROM_PRIVACY_REGULATIONS="exempt_from_privacy_regulations",e.FEATURES="features",e.FIDES_KEY="fides_key",e.FLEXIBLE_LEGAL_BASIS_FOR_PROCESSING="flexible_legal_basis_for_processing",e.IMPACT_ASSESSMENT_LOCATION="impact_assessment_location",e.SOURCES="ingress",e.JOINT_CONTROLLER_INFO="joint_controller_info",e.LEGAL_BASIS_FOR_PROFILING="legal_basis_for_profiling",e.LEGAL_BASIS_FOR_TRANSFERS="legal_basis_for_transfers",e.LEGITIMATE_INTEREST_DISCLOSURE_URL="legitimate_interest_disclosure_url",e.LINK_TO_PROCESSOR_CONTRACT="link_to_processor_contract",e.PROCESSES_PERSONAL_DATA="processes_personal_data",e.REASON_FOR_EXEMPTION="reason_for_exemption",e.REQUIRES_DATA_PROTECTION_ASSESSMENTS="requires_data_protection_assessments",e.RESPONSIBILITY="responsibility",e.RETENTION_PERIOD="retention_period",e.SHARED_CATEGORIES="shared_categories",e.SPECIAL_CATEGORY_LEGAL_BASIS="special_category_legal_basis",e.SYSTEM_DEPENDENCIES="system_dependencies",e.THIRD_COUNTRY_SAFEGUARDS="third_country_safeguards",e.THIRD_PARTIES="third_parties",e.COOKIES="cookies",e.USES_COOKIES="uses_cookies",e.USES_NON_COOKIE_ACCESS="uses_non_cookie_access",e.USES_PROFILING="uses_profiling",e.SYSTEM_UNDECLARED_DATA_CATEGORIES="system_undeclared_data_categories",e.DATA_USE_UNDECLARED_DATA_CATEGORIES="data_use_undeclared_data_categories"}(a||(a={}));var F=function(e){var t=[];switch(e){case U.fI.SYSTEM_DATA_USE:t=[a.SYSTEM_NAME];break;case U.fI.DATA_USE_SYSTEM:t=[a.DATA_USE];break;default:t=[a.SYSTEM_NAME]}return t},Y=function(e){var t=[];return U.fI.SYSTEM_DATA_USE===e&&(t=[a.SYSTEM_NAME,a.DATA_USE]),U.fI.DATA_USE_SYSTEM===e&&(t=[a.DATA_USE,a.SYSTEM_NAME]),t},H=function(){var e=(0,d.Z)((0,h._)("datamap-report-table-state",void 0),2),t=e[0],n=e[1],i=(0,s.useMemo)((function(){return t}),[]),u=(0,G.x8)().isLoading,D=(0,S.oi)(),y=D.PAGE_SIZES,I=D.pageSize,b=D.setPageSize,Z=D.onPreviousPageClick,N=D.isPreviousPageDisabled,P=D.onNextPageClick,L=D.isNextPageDisabled,k=D.startRange,H=D.endRange,B=D.pageIndex,W=D.setTotalPages,z=D.resetPageIndexToDefault,K=(0,g.qY0)(),q=K.isOpen,X=K.onClose,J=K.onOpen,Q=(0,A.Z)(),$=Q.getDataUseDisplayName,ee=Q.getDataCategoryDisplayName,te=Q.getDataSubjectDisplayName,ne=Q.isLoading,ae=(0,s.useState)(),re=ae[0],se=ae[1],ie=(0,s.useState)(),ue=ie[0],oe=ie[1],ce=(0,s.useState)(),le=ce[0],de=ce[1],fe=(0,s.useState)(),_e=fe[0],xe=fe[1],Se=(0,s.useState)(!1),ge=Se[0],Ee=Se[1],pe=(0,s.useState)(""),Te=pe[0],he=pe[1],Ae=(0,d.Z)((0,h._)(R.Pn.GROUP_BY,U.fI.SYSTEM_DATA_USE),2),me=Ae[0],ve=Ae[1],Re=(0,d.Z)((0,h._)(R.Pn.COLUMN_ORDER,function(e){var t=[];return U.fI.SYSTEM_DATA_USE===e&&(t=[a.SYSTEM_NAME,a.DATA_USE,a.DATA_CATEGORY,a.DATA_SUBJECT]),U.fI.DATA_USE_SYSTEM===e&&(t=[a.DATA_USE,a.SYSTEM_NAME,a.DATA_CATEGORY,a.DATA_SUBJECT]),t}(me)),2),je=Re[0],Ce=Re[1],De=(0,d.Z)((0,h._)(R.Pn.TABLE_GROUPING,F(me)),2),ye=De[0],Ie=De[1],Oe=function(e){ve(e),Ee(!0),z()},be=(0,j.tH)({pageIndex:B,pageSize:I,groupBy:me,search:Te,dataUses:re,dataSubjects:le,dataCategories:ue}),Ze=be.data,Ne=be.isLoading,Pe=be.isFetching,Le=(0,d.Z)((0,j.Eo)(),2),ke=Le[0],Me=Le[1],Ge=Me.isLoading,Ue=Me.isSuccess,Ve=(0,s.useMemo)((function(){var e=Ze||w,t=e.items;return ge&&Ee(!1),W(e.pages),{totalRows:e.total,data:t}}),[Ze]),we=Ve.data,Fe=Ve.totalRows;(0,s.useEffect)((function(){var e=F(me);Ze&&Ie(e)}),[Ze]),(0,G.GH)();var Ye,He=(0,T.C)(G.fN),Be=(0,s.useMemo)((function(){var e,t=(null===Ze||void 0===Ze||null===(e=Ze.items)||void 0===e?void 0:e.length)?Object.keys(Ze.items[0]):[],n=Object.values(a);return t.filter((function(e){return!n.includes(e)})).filter((function(e){return e.startsWith("privacy_declaration_")||e.startsWith("system_")})).map((function(e){var t=He.find((function(t){return e.includes(p().snakeCase(t.name))})),n=e.replace(/^(system_|privacy_declaration_)/,""),a=p().upperFirst(n.replaceAll("_"," "));return V.accessor((function(t){return t[e]}),{id:e,cell:function(e){return Array.isArray(e.getValue())?(0,r.jsx)(S.WP,(0,l.Z)({value:e.getValue()},e)):(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:a},e))},meta:{displayText:a,showHeaderMenu:"string[]"===(null===t||void 0===t?void 0:t.field_type)}})}))}),[Ze,He]),We=(0,s.useMemo)((function(){return[V.accessor((function(e){return e.system_name}),{enableGrouping:!0,id:a.SYSTEM_NAME,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"System"},e))},meta:{displayText:"System",onCellClick:function(e){xe(e.fides_key)}}}),V.accessor((function(e){return e.data_uses}),{id:a.DATA_USE,cell:function(e){var t=e.getValue();return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"data uses",value:(0,E.isArray)(t)?(0,E.map)(t,$):$(t||"")},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data use"},e))},meta:{displayText:"Data use"}}),V.accessor((function(e){return e.data_categories}),{id:a.DATA_CATEGORY,cell:function(e){var t=e.getValue();return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"data categories",value:(0,E.isArray)(t)?(0,E.map)(t,ee):ee(t||"")},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data categories"},e))},meta:{displayText:"Data categories",showHeaderMenu:!0}}),V.accessor((function(e){return e.data_subjects}),{id:a.DATA_SUBJECT,cell:function(e){var t=e.getValue();return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"data subjects",value:(0,E.isArray)(t)?(0,E.map)(t,te):te(t||"")},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data subject"},e))},meta:{displayText:"Data subject",showHeaderMenu:!0}}),V.accessor((function(e){return e.legal_name}),{id:a.LEGAL_NAME,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legal name"},e))},meta:{displayText:"Legal name"}}),V.accessor((function(e){return e.dpo}),{id:a.DPO,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data privacy officer"},e))},meta:{displayText:"Data privacy officer"}}),V.accessor((function(e){return e.legal_basis_for_processing}),{id:a.LEGAL_BASIS_FOR_PROCESSING,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legal basis for processing"},e))},meta:{displayText:"Legal basis for processing"}}),V.accessor((function(e){return e.administrating_department}),{id:a.ADMINISTRATING_DEPARTMENT,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Administrating department"},e))},meta:{displayText:"Administrating department"}}),V.accessor((function(e){return e.cookie_max_age_seconds}),{id:a.COOKIE_MAX_AGE_SECONDS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Cookie max age seconds"},e))},meta:{displayText:"Cookie max age seconds"}}),V.accessor((function(e){return e.privacy_policy}),{id:a.PRIVACY_POLICY,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Privacy policy"},e))},meta:{displayText:"Privacy policy"}}),V.accessor((function(e){return e.legal_address}),{id:a.LEGAL_ADDRESS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legal address"},e))},meta:{displayText:"Legal address"}}),V.accessor((function(e){return e.cookie_refresh}),{id:a.COOKIE_REFRESH,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,{value:"Cookie refresh",table:e.table,header:e.header,column:e.column})},meta:{displayText:"Cookie refresh"}}),V.accessor((function(e){return e.data_security_practices}),{id:a.DATA_SECURITY_PRACTICES,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data security practices"},e))},meta:{displayText:"Data security practices"}}),V.accessor((function(e){return e.data_shared_with_third_parties}),{id:a.DATA_SHARED_WITH_THIRD_PARTIES,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data shared with third parties"},e))},meta:{displayText:"Data shared with third parties"}}),V.accessor((function(e){return e.data_stewards}),{id:a.DATA_STEWARDS,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"data stewards",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data stewards"},e))},meta:{displayText:"Data stewards",showHeaderMenu:!0}}),V.accessor((function(e){return e.declaration_name}),{id:a.DECLARATION_NAME,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Declaration name"},e))},meta:{displayText:"Declaration name"}}),V.accessor((function(e){return e.does_international_transfers}),{id:a.DOES_INTERNATIONAL_TRANSFERS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Does international transfers"},e))},meta:{displayText:"Does international transfers"}}),V.accessor((function(e){return e.dpa_location}),{id:a.DPA_LOCATION,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"DPA Location"},e))},meta:{displayText:"DPA Location"}}),V.accessor((function(e){return e.egress}),{id:a.DESTINATIONS,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"destinations",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Destinations"},e))},meta:{displayText:"Destinations",showHeaderMenu:!0}}),V.accessor((function(e){return e.exempt_from_privacy_regulations}),{id:a.EXEMPT_FROM_PRIVACY_REGULATIONS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Exempt from privacy regulations"},e))},meta:{displayText:"Exempt from privacy regulations"}}),V.accessor((function(e){return e.features}),{id:a.FEATURES,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"features",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Features"},e))},meta:{displayText:"Features",showHeaderMenu:!0}}),V.accessor((function(e){return e.fides_key}),{id:a.FIDES_KEY,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Fides key"},e))},meta:{displayText:"Fides key"}}),V.accessor((function(e){return e.flexible_legal_basis_for_processing}),{id:a.FLEXIBLE_LEGAL_BASIS_FOR_PROCESSING,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Flexible legal basis for processing"},e))},meta:{displayText:"Flexible legal basis for processing"}}),V.accessor((function(e){return e.impact_assessment_location}),{id:a.IMPACT_ASSESSMENT_LOCATION,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Impact assessment location"},e))},meta:{displayText:"Impact assessment location"}}),V.accessor((function(e){return e.ingress}),{id:a.SOURCES,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"sources",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Sources"},e))},meta:{displayText:"Sources",showHeaderMenu:!0}}),V.accessor((function(e){return e.joint_controller_info}),{id:a.JOINT_CONTROLLER_INFO,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Joint controller info"},e))},meta:{displayText:"Joint controller info"}}),V.accessor((function(e){return e.legal_basis_for_profiling}),{id:a.LEGAL_BASIS_FOR_PROFILING,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"profiles",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legal basis for profiling"},e))},meta:{displayText:"Legal basis for profiling",showHeaderMenu:!0}}),V.accessor((function(e){return e.legal_basis_for_transfers}),{id:a.LEGAL_BASIS_FOR_TRANSFERS,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"transfers",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legal basis for transfers"},e))},meta:{displayText:"Legal basis for transfers",showHeaderMenu:!0}}),V.accessor((function(e){return e.legitimate_interest_disclosure_url}),{id:a.LEGITIMATE_INTEREST_DISCLOSURE_URL,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Legitimate interest disclosure url"},e))},meta:{displayText:"Legitimate interest disclosure url"}}),V.accessor((function(e){return e.link_to_processor_contract}),{id:a.LINK_TO_PROCESSOR_CONTRACT,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Link to processor contract"},e))},meta:{displayText:"Link to processor contract"}}),V.accessor((function(e){return e.processes_personal_data}),{id:a.PROCESSES_PERSONAL_DATA,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Processes personal data"},e))},meta:{displayText:"Processes personal data"}}),V.accessor((function(e){return e.reason_for_exemption}),{id:a.REASON_FOR_EXEMPTION,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Reason for exemption"},e))},meta:{displayText:"Reason for exemption"}}),V.accessor((function(e){return e.requires_data_protection_assessments}),{id:a.REQUIRES_DATA_PROTECTION_ASSESSMENTS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Requires data protection assessments"},e))},meta:{displayText:"Requires data protection assessments"}}),V.accessor((function(e){return e.responsibility}),{id:a.RESPONSIBILITY,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"responsibilities",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Responsibility"},e))},meta:{displayText:"Responsibility",showHeaderMenu:!0}}),V.accessor((function(e){return e.retention_period}),{id:a.RETENTION_PERIOD,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Retention period"},e))},meta:{displayText:"Retention period"}}),V.accessor((function(e){return e.shared_categories}),{id:a.SHARED_CATEGORIES,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"shared categories",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Shared categories"},e))},meta:{displayText:"Shared categories",showHeaderMenu:!0}}),V.accessor((function(e){return e.special_category_legal_basis}),{id:a.SPECIAL_CATEGORY_LEGAL_BASIS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Special category legal basis"},e))},meta:{displayText:"Special category legal basis"}}),V.accessor((function(e){return e.system_dependencies}),{id:a.SYSTEM_DEPENDENCIES,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"dependencies",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"System dependencies"},e))},meta:{displayText:"System dependencies",showHeaderMenu:!0}}),V.accessor((function(e){return e.third_country_safeguards}),{id:a.THIRD_COUNTRY_SAFEGUARDS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Third country safeguards"},e))},meta:{displayText:"Third country safeguards"}}),V.accessor((function(e){return e.third_parties}),{id:a.THIRD_PARTIES,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Third parties"},e))},meta:{displayText:"Third parties"}}),V.accessor((function(e){return e.system_undeclared_data_categories}),{id:a.SYSTEM_UNDECLARED_DATA_CATEGORIES,cell:function(e){var t=e.getValue();return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"system undeclared data categories",value:(0,E.isArray)(t)?(0,E.map)(t,ee):ee(t||"")},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"System undeclared data categories"},e))},meta:{displayText:"System undeclared data categories",showHeaderMenu:!0}}),V.accessor((function(e){return e.data_use_undeclared_data_categories}),{id:a.DATA_USE_UNDECLARED_DATA_CATEGORIES,cell:function(e){var t=e.getValue();return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"data use undeclared data categories",value:(0,E.isArray)(t)?(0,E.map)(t,ee):ee(t||"")},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Data use undeclared data categories"},e))},meta:{displayText:"Data use undeclared data categories",showHeaderMenu:!0}}),V.accessor((function(e){return e.cookies}),{id:a.COOKIES,cell:function(e){return(0,r.jsx)(S.WP,(0,l.Z)({suffix:"cookies",value:e.getValue()},e))},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Cookies"},e))},meta:{displayText:"Cookies",showHeaderMenu:!0}}),V.accessor((function(e){return e.uses_cookies}),{id:a.USES_COOKIES,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Uses cookies"},e))},meta:{displayText:"Uses cookies"}}),V.accessor((function(e){return e.uses_non_cookie_access}),{id:a.USES_NON_COOKIE_ACCESS,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Uses non cookie access"},e))},meta:{displayText:"Uses non cookie access"}}),V.accessor((function(e){return e.uses_profiling}),{id:a.USES_PROFILING,cell:function(e){return(0,r.jsx)(S.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(S.Rr,(0,l.Z)({value:"Uses profiling"},e))},meta:{displayText:"Uses profiling"}})].concat((0,f.Z)(Be))}),[Be,$,te,ee]),ze=(0,g.qY0)(),Ke=ze.isOpen,qe=ze.onOpen,Xe=ze.onClose,Je=(0,g.qY0)(),Qe=Je.isOpen,$e=Je.onOpen,et=Je.onClose,tt=(0,x.b7)({getCoreRowModel:(0,_.sC)(),getGroupedRowModel:(0,_.qe)(),getExpandedRowModel:(0,_.rV)(),columns:We,manualPagination:!0,data:we,initialState:(0,l.Z)({columnVisibility:(Ye={},(0,o.Z)(Ye,a.SYSTEM_UNDECLARED_DATA_CATEGORIES,!1),(0,o.Z)(Ye,a.DATA_USE_UNDECLARED_DATA_CATEGORIES,!1),Ye)},i),state:{expanded:!0,grouping:ye,columnOrder:je},columnResizeMode:"onChange",enableColumnResizing:!0,onStateChange:function(e){var t=(0,c.Z)(e,Function)?e(tt.getState()):e;n(t)}}),nt=function(){switch(me){case U.fI.SYSTEM_DATA_USE:return"system";case U.fI.DATA_USE_SYSTEM:return"data use";default:return"system"}};if(Ne||u||ne)return(0,r.jsx)(S.I4,{rowHeight:36,numRows:15});return(0,r.jsxs)(g.kCb,{flex:1,direction:"column",overflow:"auto",children:[(0,r.jsx)(M,{isOpen:q,onClose:X,onFilterChange:function(e){se((0,v.du)(e.dataUses,"data_uses")),oe((0,v.du)(e.dataCategories,"data_categories")),de((0,v.du)(e.dataSubjects,"data_subjects"))}}),(0,r.jsx)(S.F1,{isOpen:Ke,onClose:Xe,headerText:"Data map settings",prefixColumns:Y(me),tableInstance:tt,onColumnOrderChange:function(e){Ce(e)}}),(0,r.jsx)(O,{isOpen:Qe,onClose:et,onConfirm:function(e){ke({pageIndex:B,pageSize:I,groupBy:me,search:Te,dataUses:re,dataSubjects:le,dataCategories:ue,format:e}).then((function(){Ue&&et()}))},isLoading:Ge}),(0,r.jsxs)(S.Q$,{children:[(0,r.jsx)(S.HO,{globalFilter:Te,setGlobalFilter:function(e){z(),he(e)},placeholder:"System name, Fides key, or ID"}),(0,r.jsxs)(g.kCb,{alignItems:"center",gap:2,children:[(0,r.jsxs)(g.v2r,{children:[(0,r.jsxs)(g.j2t,{as:g.zxk,size:"xs",variant:"outline",rightIcon:(0,r.jsx)(g.v4q,{}),spinnerPlacement:"end",isLoading:ge,loadingText:"Group by ".concat(nt()),"data-testid":"group-by-menu",children:["Group by ",nt()]}),(0,r.jsxs)(g.qyq,{zIndex:11,"data-testid":"group-by-menu-list",children:[(0,r.jsx)(g.iiZ,{onClick:function(){Oe(U.fI.SYSTEM_DATA_USE)},isChecked:U.fI.SYSTEM_DATA_USE===me,value:U.fI.SYSTEM_DATA_USE,"data-testid":"group-by-system-data-use",children:"System"}),(0,r.jsx)(g.iiZ,{onClick:function(){Oe(U.fI.DATA_USE_SYSTEM)},isChecked:U.fI.DATA_USE_SYSTEM===me,value:U.fI.DATA_USE_SYSTEM,"data-testid":"group-by-data-use-system",children:"Data use"})]})]}),(0,r.jsx)(g.zxk,{"data-testid":"edit-columns-btn",size:"xs",variant:"outline",onClick:qe,children:"Edit columns"}),(0,r.jsx)(g.zxk,{"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",onClick:J,children:"Filter"}),(0,r.jsx)(g.hU,{"aria-label":"Export report","data-testid":"export-btn",size:"xs",variant:"outline",onClick:$e,icon:(0,r.jsx)(m.nM,{})})]})]}),(0,r.jsx)(S.ZK,{tableInstance:tt}),(0,r.jsx)(S.s8,{totalRows:Fe,pageSizes:y,setPageSize:b,onPreviousPageClick:Z,isPreviousPageDisabled:N||Pe,onNextPageClick:P,isNextPageDisabled:L||Pe,startRange:k,endRange:H}),(0,r.jsx)(C.Z,{selectedSystemId:_e,resetSelectedSystemId:function(){return xe(void 0)}})]})},B=function(){return(0,r.jsxs)(i.Z,{title:"Datamap Report",mainProps:{padding:"0 40px 24px"},children:[(0,r.jsx)(u.Z,{"data-testid":"datamap-report-heading",breadcrumbs:[{title:"Data map report"}]}),(0,r.jsx)(H,{})]})}}},function(e){e.O(0,[8033,3667,3659,8067,7553,8287,9774,2888,179],(function(){return t=86548,e(e.s=t);var t}));var t=e.O();_N_E=t}]);