(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9738],{53910:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datamap",function(){return n(70969)}])},1496:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85034),i=n(70169),l=n(24246),o=n(83265),s=n(88038),a=n.n(s),u=n(86677),d=(n(27378),n(67447)),c=n(63076),f=n(93677),h=function(){var e=(0,u.useRouter)();return(0,l.jsx)(o.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,l.jsxs)(o.xuv,{children:[(0,l.jsxs)(o.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,l.jsx)(o.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,l.jsx)(o.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(f.fz)},children:"Configure"})]}),(0,l.jsxs)(o.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=function(e){var t=e.children,n=e.title,s=e.padded,f=void 0===s||s,x=e.mainProps,p=(0,d.hz)(),m=(0,u.useRouter)(),v="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,g=!(p.flags.privacyRequestsConfiguration&&v),y=(0,c.JE)(void 0,{skip:g}).data,b=(0,c.PW)(void 0,{skip:g}).data,j=p.flags.privacyRequestsConfiguration&&(!y||!b)&&v;return(0,l.jsxs)(o.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,l.jsxs)(a(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)(o.kCb,(0,i.Z)((0,r.Z)({as:"main",direction:"column",py:f?6:0,px:f?10:0,h:f?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},x),{children:[j?(0,l.jsx)(h,{}):null,t]}))]})}},24353:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(24246),i=n(27378),l=(0,i.createRef)(),o=(0,i.createContext)(l);t.Z=function(e){var t=e.children;return(0,r.jsx)(o.Provider,{value:l,children:t})}},30269:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{m:function(){return l},Z:function(){return o}});var i=n(27378),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.tableInstance=t,this.updateTableInstance=this.updateTableInstance.bind(this)}return e.prototype.updateTableInstance=function(e){this.tableInstance=e},e}(),o=i.createContext(new l)},70969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(24246),i=n(27378),l=n(76738),o=n(1496),s=n(83265),a=n(65218),u=n.n(a),d=n(10503),c=n(38287),f=n(24353),h=n(85034),x=n(70169),p=n(92222),m=n(59003),v=n(32918),g=n(21788),y=n(21579),b=n(30269),j=n(17599),_=n(57812),C=(0,p.Cl)(),w={multifield:function(e,t,n){return n[e.original[t]]}},k=n(67447),F=n(12934),S=n(73659),O=n(69762),M=function(e){var t,n,i,l=e.option,o=e.columnId,a=e.filterValue,u=e.toggleFilterOption,c=(0,d.C)(_.L5),f=o===O.Ux&&null!==(n=null===(t=c.get(l))||void 0===t?void 0:t.name)&&void 0!==n?n:l;return(0,r.jsx)(s.XZJ,{value:l,width:"193px",height:"20px",mb:"25px",isChecked:null!==(i=a[l])&&void 0!==i&&i,onChange:function(e){var t=e.target;u(l,t.checked)},_focusWithin:{bg:"gray.100"},colorScheme:"complimentary",children:(0,r.jsx)(s.xvT,{fontSize:"sm",lineHeight:5,height:"20px",width:"170px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:f})},l)},Z=function(e){var t=e.column,n=function(e){var t,n=e.column,r=(0,i.useContext)(b.Z).tableInstance,l=i.useMemo((function(){return Array.from(n.getFacetedUniqueValues().keys())}),[n]),o=i.useMemo((function(){var e={};return l.forEach((function(t){e[t]=!1})),e}),[l]);return{filterValue:null!==(t=n.getFilterValue())&&void 0!==t?t:o,clearFilterOptions:function(){var e={};l.forEach((function(t){e[t]=!1})),n.setFilterValue(e)},toggleFilterOption:function(e,t){var i,l=(0,x.Z)((0,h.Z)({},null!==(i=n.getFilterValue())&&void 0!==i?i:o),(0,j.Z)({},e,t));Object.values(l).every((function(e){return!e}))?null===r||void 0===r||r.setColumnFilters(null===r||void 0===r?void 0:r.getState().columnFilters.filter((function(e){return e.id!==n.id}))):n.setFilterValue(l)},options:l,header:n.columnDef.header}}({column:t}),l=n.filterValue,o=n.toggleFilterOption,a=n.options,u=(0,i.useState)(!1),d=u[0],c=u[1],f=d?a:a.slice(0,15),p=a.length>15;return(0,r.jsx)(s.UQy,{width:"100%",allowToggle:!0,children:(0,r.jsxs)(s.Qdk,{border:"0px",children:[(0,r.jsx)(s.X6q,{height:"56px",children:(0,r.jsxs)(s.KFZ,{height:"100%",children:[(0,r.jsx)(s.xuv,{flex:"1",alignItems:"center",justifyContent:"center",textAlign:"left",children:t.columnDef.header}),(0,r.jsx)(s.XEm,{})]})}),(0,r.jsxs)(s.Hk3,{children:[(0,r.jsx)(s.MIq,{columns:3,children:f.map((function(e){return(0,r.jsx)(M,{columnId:t.id,option:e,filterValue:l,toggleFilterOption:o},e)}))}),!d&&p?(0,r.jsx)(s.zxk,{size:"sm",variant:"ghost",onClick:function(){c(!0)},children:"View more"}):null,d&&p?(0,r.jsx)(s.zxk,{size:"sm",variant:"ghost",onClick:function(){c(!1)},children:"View less"}):null]})]})},t.id)},z=function(e){var t=e.heading,n=e.children;return(0,r.jsxs)(s.xuv,{padding:"24px 8px 8px 24px",children:[(0,r.jsx)(s.X6q,{size:"md",lineHeight:6,fontWeight:"bold",mb:2,children:t}),n]})},I=function(e){var t=e.isOpen,n=e.onClose,l=(0,i.useContext)(b.Z).tableInstance,o=null===l||void 0===l?void 0:l.getHeaderGroups(),a=function(e,t){return e.filter((function(e){return e.id===t})).map((function(e){return(0,r.jsx)(Z,{column:e.column},t)}))},u=(0,i.useMemo)((function(){return(null===o||void 0===o?void 0:o[0].headers)||[]}),[o]);return(0,r.jsxs)(s.u_l,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,r.jsx)(s.ZAr,{}),(0,r.jsxs)(s.hzk,{children:[(0,r.jsx)(s.xBx,{children:"Filters"}),(0,r.jsx)(s.olH,{}),(0,r.jsx)(s.izJ,{}),(0,r.jsx)(s.fef,{maxH:"85vh",padding:"0px",overflowX:"auto",children:function(e,t){return e.some((function(e){return t.indexOf(e.id)>-1}))}(u,[O.vy,O.Ux,O.OL])?(0,r.jsxs)(z,{heading:"Privacy attributes",children:[a(u,O.vy),a(u,O.Ux),a(u,O.OL)]}):null}),(0,r.jsx)(s.mzw,{children:(0,r.jsxs)(s.xuv,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,r.jsx)(s.zxk,{variant:"outline",size:"sm",mr:3,onClick:function(){null===l||void 0===l||l.resetColumnFilters()},flexGrow:1,children:"Reset Filters"}),(0,r.jsx)(s.zxk,{colorScheme:"primary",size:"sm",onClick:n,flexGrow:1,children:"Done"})]})})]})]})},T=function(){var e=function(){var e=(0,s.qY0)();return{isFilterModalOpen:e.isOpen,onFilterModalOpen:e.onOpen,onFilterModalClose:e.onClose}}(),t=e.isFilterModalOpen,n=e.onFilterModalOpen,l=e.onFilterModalClose,o=(0,i.useContext)(b.Z).tableInstance,a=(0,k.hz)(),u=a.systemsCount,d=a.dictionaryService;if(!o)return null;var c=o.getRowModel().rows.length||0,f=o.getState().columnFilters.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.kCb,{justifyContent:"flex-end",flexDirection:"row",alignItems:"center",flexWrap:"wrap",rowGap:4,columnGap:4,children:[(0,r.jsx)(s.kCb,{flexGrow:1,children:(0,r.jsx)(S.HO,{globalFilter:o.getState().globalFilter,setGlobalFilter:o.setGlobalFilter})}),(0,r.jsxs)(s.kCb,{children:[u>0?(0,r.jsxs)(s.kCb,{alignItems:"center",borderRadius:"md",gap:1,marginRight:4,children:[(0,r.jsxs)(s.xvT,{fontSize:"xs",children:[c," of ",u," systems displayed"]}),d?(0,r.jsx)(F.Z,{label:"Note that Global Vendor List (GVL) and Additional Consent (AC) systems are not currently included in these reports"}):null]}):null,(0,r.jsxs)(s.zxk,{"aria-label":"Open Filter Settings",variant:"outline",size:"xs",onClick:n,children:["Filter",f>0?(0,r.jsx)(s.Vp9,{ml:2,borderRadius:"full",size:"sm",children:f}):null]})]})]}),(0,r.jsx)(I,{isOpen:t,onClose:l})]})},P=n(18418),E=n(93677),R=function(){return(0,r.jsx)(s.M5Y,{flex:1,"data-testid":"get-started-modal",backgroundColor:"gray.100",children:(0,r.jsx)(s.xuv,{backgroundColor:"white",p:10,borderRadius:"6px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.06)",maxWidth:{base:"80%",lg:"60%",xl:"50%"},maxHeight:"90%",textAlign:"center",children:(0,r.jsxs)(s.Kqy,{spacing:4,children:[(0,r.jsx)(s.xvT,{color:"gray.700",fontWeight:"600",children:"Privacy engineering can seem like an endlessly complex confluence of legal and data engineering terminology\u2014fear not\u2014Fides is here to simplify this."}),(0,r.jsx)(s.xvT,{children:"Start by scanning your infrastructure. The scanner will connect to your infrastructure to automatically scan and create a list of all systems available and then classify each system containing PII."}),(0,r.jsx)(s.xvT,{children:"Let's get started!"}),(0,r.jsx)(s.xuv,{children:(0,r.jsx)(s.zxk,{as:"a",href:E.xo,width:"fit-content",colorScheme:"primary","data-testid":"add-systems-btn",children:"Add Systems"})})]})})})},V=u()((function(){return Promise.all([n.e(5199),n.e(4804),n.e(538)]).then(n.bind(n,538))}),{loadableGenerated:{webpack:function(){return[538]}},ssr:!1}),G=function(){var e=function(){var e=(0,d.C)(P.Xt),t=(0,i.useContext)(f.Y),n=(0,l.oI)().attemptAction,r=(0,i.useState)(),o=r[0],s=r[1],a=(0,i.useCallback)((function(e){n().then((function(t){t&&s(e)}))}),[n,s]),u=(0,i.useCallback)((function(){n().then((function(e){var n;e&&o&&(t.current&&(null===(n=t.current)||void 0===n||n.$id(o).unselect()),s(void 0))}))}),[n,t,o]);return{isGettingStarted:e,selectedSystemId:o,setSelectedSystemId:a,resetSelectedSystemId:u}}(),t=e.isGettingStarted,n=e.setSelectedSystemId,o=e.selectedSystemId,a=e.resetSelectedSystemId,u=function(){var e=(0,d.T)(),t=(0,i.useContext)(b.Z).updateTableInstance,n=(0,d.C)(y.eo),r=(0,y.Ex)({organizationName:"default_organization"}),l=r.data,o=r.isLoading;(0,_.MO)(),(0,g.fd)(),(0,v.te)();var s=(0,i.useRef)(!1);(0,i.useEffect)((function(){if(l){var t=l.columns,n=l.rows;e((0,y.dd)(t)),s.current||(s.current=!0,0===n.length?e((0,y.ym)(!0)):e((0,y.ym)(!1)))}}),[l,e]);var a=(0,i.useMemo)((function(){return l?l.rows:[]}),[l]),u=(0,i.useMemo)((function(){return(n||[]).map((function(e){var t=e.text,n=e.value;return C.accessor((function(e){return e[n]}),{id:n,header:t,cell:function(e){var t=(0,e.getValue)();return Array.isArray(t)?t.join(", "):t},filterFn:w.multifield})}))}),[n]),c=(0,m.b7)({columns:u,data:a,filterFns:w,getCoreRowModel:(0,p.sC)(),getFilteredRowModel:(0,p.vL)(),getFacetedRowModel:(0,p.o6)(),getFacetedUniqueValues:(0,p.JG)(),manualPagination:!0});return(0,i.useEffect)((function(){return t(c)}),[c,t]),(0,x.Z)((0,h.Z)({},c),{isLoading:o})}().isLoading;return u?(0,r.jsx)(s.M5Y,{width:"100%",flex:"1",children:(0,r.jsx)(s.$jN,{})}):t?(0,r.jsx)(R,{}):(0,r.jsxs)(s.kCb,{direction:"column",height:"100%",children:[(0,r.jsx)(s.xuv,{marginBottom:3,marginRight:10,children:(0,r.jsx)(T,{})}),(0,r.jsxs)(s.kCb,{position:"relative",flex:1,direction:"row",overflow:"auto",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",children:[(0,r.jsx)(s.xuv,{flex:1,minWidth:"50%",maxWidth:"100%",children:(0,r.jsx)(V,{setSelectedSystemId:n})}),(0,r.jsx)(c.Z,{selectedSystemId:o,resetSelectedSystemId:a})]})]})},L=function(){var e=(0,i.useMemo)((function(){return new b.m}),[]);return(0,r.jsx)(o.Z,{title:"View Map",mainProps:{padding:"40px 0 0 40px"},children:(0,r.jsx)(b.Z.Provider,{value:e,children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(G,{}),(0,r.jsx)(l.eB,{})]})})})}},29906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13210).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default,l=(null==t?void 0:t.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};r(e,Promise)?l.loader=function(){return e}:"function"===typeof e?l.loader=e:"object"===typeof e&&(l=i({},l,e));!1;(l=i({},l,t)).suspense&&(delete l.ssr,delete l.loading);l.loadableGenerated&&delete(l=i({},l,l.loadableGenerated)).loadableGenerated;if("boolean"===typeof l.ssr&&!l.suspense){if(!l.ssr)return delete l.ssr,s(n,l);delete l.ssr}return n(l)},t.noSSR=s;var i=n(76516).Z,l=n(42619).Z,o=(l(n(27378)),l(n(62456)));function s(e,t){return delete t.webpack,delete t.modules,e(t)}("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(42619).Z)(n(27378)).default.createContext(null);t.LoadableContext=r},62456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30093).Z,i=n(27758).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(76516).Z,o=(0,n(42619).Z)(n(27378)),s=n(37815),a=n(27378).useSyncExternalStore,u=[],d=[],c=!1;function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}var h=function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=l({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function x(e){return function(e,t){var n=function(){if(!u){var t=new h(e,i);u={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return u.promise()},r=function(){n();var e=o.default.useContext(s.LoadableContext);e&&Array.isArray(i.modules)&&i.modules.forEach((function(t){e(t)}))},i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);i.suspense&&(i.lazy=o.default.lazy(i.loader));var u=null;if(!c){var f=i.webpack?i.webpack():i.modules;f&&d.push((function(e){var t=!0,r=!1,i=void 0;try{for(var l,o=f[Symbol.iterator]();!(t=(l=o.next()).done);t=!0){var s=l.value;if(-1!==e.indexOf(s))return n()}}catch(a){r=!0,i=a}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}}))}var x=i.suspense?function(e,t){return r(),o.default.createElement(i.lazy,l({},e,{ref:t}))}:function(e,t){r();var n=a(u.subscribe,u.getCurrentValue,u.getCurrentValue);return o.default.useImperativeHandle(t,(function(){return{retry:u.retry}}),[]),o.default.useMemo((function(){return n.loading||n.error?o.default.createElement(i.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:u.retry}):n.loaded?o.default.createElement((t=n.loaded)&&t.__esModule?t.default:t,e):null;var t}),[e,n])};return x.preload=function(){return n()},x.displayName="LoadableComponent",o.default.forwardRef(x)}(f,e)}function p(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return p(e,t)}))}x.preloadAll=function(){return new Promise((function(e,t){p(u).then(e,t)}))},x.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return c=!0,t()};p(d,e).then(n,n)}))},window.__NEXT_PRELOADREADY=x.preloadReady;var m=x;t.default=m},65218:function(e,t,n){e.exports=n(29906)}},function(e){e.O(0,[3667,3659,8067,7553,8287,9774,2888,179],(function(){return t=53910,e(e.s=t);var t}));var t=e.O();_N_E=t}]);