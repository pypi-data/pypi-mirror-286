"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9368],{51425:function(e,t,r){var n=r(24246),i=r(39933),s=r(39514);t.Z=e=>{let{title:t,tooltip:r,children:a,...u}=e;return(0,n.jsxs)(i.xuv,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",...u,children:[(0,n.jsxs)(i.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,r?(0,n.jsx)(i.xvT,{as:"span",mx:1,children:(0,n.jsx)(s.Z,{label:r})}):void 0]}),(0,n.jsx)(i.Kqy,{p:6,spacing:6,children:a})]})}},73088:function(e,t,r){r.d(t,{Z:function(){return s}}),(n=i||(i={})).PRIVACY_REQUEST_REVIEW_APPROVE="privacy_request_review_approve",n.PRIVACY_REQUEST_REVIEW_DENY="privacy_request_review_deny",n.PRIVACY_REQUEST_RECEIPT="privacy_request_receipt",n.PRIVACY_REQUEST_COMPLETE_ACCESS="privacy_request_complete_access",n.PRIVACY_REQUEST_COMPLETE_DELETION="privacy_request_complete_deletion",n.SUBJECT_IDENTITY_VERIFICATION="subject_identity_verification";var n,i,s={[i.PRIVACY_REQUEST_COMPLETE_ACCESS]:"Access request completed",[i.PRIVACY_REQUEST_COMPLETE_DELETION]:"Erasure request completed",[i.PRIVACY_REQUEST_RECEIPT]:"Privacy request received",[i.PRIVACY_REQUEST_REVIEW_APPROVE]:"Privacy request approved",[i.PRIVACY_REQUEST_REVIEW_DENY]:"Privacy request denied",[i.SUBJECT_IDENTITY_VERIFICATION]:"Subject identity verification"}},97193:function(e,t,r){var n=r(24246),i=r(11032),s=r(39933),a=r(34090),u=r(86677),o=r(44296),l=r(51425),c=r(34803),d=r(6903),p=r(73088),m=r(9786);let g=()=>{var e;let t=(0,o.C)(m.Zp),r=(0,o.C)(m.G1);(0,m.gz)({page:t,size:r});let i=(0,o.C)(m.YO),{values:s,setFieldValue:u}=(0,a.u6)();return(0,n.jsx)(d.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:i.map(e=>({id:e.id,name:e.name})),values:null!==(e=s.properties)&&void 0!==e?e:[],setValues:e=>u("properties",e),draggable:!0,maxHeight:100,baseTestId:"property"})};t.Z=e=>{let{template:t,handleSubmit:r,handleDelete:o}=e,d=(0,u.useRouter)(),m=()=>{d.push(i.q)},y={type:t.type,content:t.content,properties:t.properties||[],is_enabled:t.is_enabled,id:t.id||""};return(0,n.jsx)(a.J9,{enableReinitialize:!0,initialValues:y,onSubmit:r,children:e=>{let{dirty:t,isValid:r,isSubmitting:i}=e;return(0,n.jsxs)(a.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,n.jsx)(s.xuv,{py:3,children:(0,n.jsxs)(l.Z,{title:"".concat(p.Z[y.type]),children:[(0,n.jsx)(c.j0,{isRequired:!0,label:"Email subject",name:"content.subject",variant:"stacked"}),(0,n.jsx)(c.Ks,{isRequired:!0,label:"Message body",name:"content.body",value:"test",variant:"stacked",resize:!0}),(0,n.jsx)(s.xuv,{py:3,children:(0,n.jsx)(g,{})}),(0,n.jsx)(c.w8,{name:"is_enabled",label:"Enable message",variant:"switchFirst"})]})}),(0,n.jsxs)(s.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[y.id&&o&&(0,n.jsx)(s.zxk,{"data-testid":"delete-template-button",size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:o,children:"Delete"}),(0,n.jsxs)(s.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,n.jsx)(s.zxk,{size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:m,children:"Cancel"}),(0,n.jsx)(s.zxk,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:i||!t||!r,isLoading:i,"data-testid":"submit-btn",children:"Save"})]})]})]})}})}},44444:function(e,t,r){r.d(t,{KC:function(){return o},Vw:function(){return l},ew:function(){return c},gQ:function(){return a},jM:function(){return n},lE:function(){return i},ms:function(){return s},pS:function(){return u},vm:function(){return d}});let{useGetMessagingTemplatesQuery:n,useUpdateMessagingTemplatesMutation:i,useGetSummaryMessagingTemplatesQuery:s,useGetMessagingTemplateByIdQuery:a,usePutMessagingTemplateByIdMutation:u,useGetMessagingTemplateDefaultQuery:o,useCreateMessagingTemplateByTypeMutation:l,useDeleteMessagingTemplateByIdMutation:c,usePatchMessagingTemplateByIdMutation:d}=r(21618).u.injectEndpoints({endpoints:e=>({getMessagingTemplates:e.query({query:()=>({url:"messaging/templates"}),providesTags:()=>["Messaging Templates"]}),getSummaryMessagingTemplates:e.query({query:e=>({method:"GET",url:"messaging/templates/summary",params:e}),providesTags:()=>["Property-Specific Messaging Templates"]}),updateMessagingTemplates:e.mutation({query:e=>({url:"messaging/templates",method:"PUT",body:e}),invalidatesTags:()=>["Property-Specific Messaging Templates"]}),getMessagingTemplateById:e.query({query:e=>({url:"/messaging/templates/".concat(e)}),providesTags:()=>["Property-Specific Messaging Templates"]}),putMessagingTemplateById:e.mutation({query:e=>{let{templateId:t,template:r}=e;return{url:"/messaging/templates/".concat(t),method:"PUT",body:r}},invalidatesTags:()=>["Property-Specific Messaging Templates"]}),patchMessagingTemplateById:e.mutation({query:e=>{let{templateId:t,template:r}=e;return{url:"/messaging/templates/".concat(t),method:"PATCH",body:r}},invalidatesTags:()=>["Property-Specific Messaging Templates"]}),getMessagingTemplateDefault:e.query({query:e=>({url:"/messaging/templates/default/".concat(e)})}),createMessagingTemplateByType:e.mutation({query:e=>{let{templateType:t,template:r}=e;return{url:"/messaging/templates/".concat(t),method:"POST",body:r}},invalidatesTags:()=>["Property-Specific Messaging Templates"]}),deleteMessagingTemplateById:e.mutation({query:e=>({url:"/messaging/templates/".concat(e),method:"DELETE"}),invalidatesTags:()=>["Property-Specific Messaging Templates"]})})})},43073:function(e,t,r){r.d(t,{Bw:function(){return n.Bw},D4:function(){return n.D4}});var n=r(41164)},80521:function(e,t,r){r.d(t,{t:function(){return S}});var n=r(24246),i=r(45487),s=r(27378);let a=(0,s.createContext)(null);var u=r(38565),o=r(96681),l=r(10010),c=r(40179);let d=(0,s.forwardRef)(function({children:e,as:t="ul",axis:r="y",onReorder:d,values:g,...y},f){let E=(0,o.h)(()=>(0,u.E)(t)),v=[],T=(0,s.useRef)(!1);return(0,i.k)(!!g,"Reorder.Group must be provided a values prop"),(0,s.useEffect)(()=>{T.current=!1}),(0,n.jsx)(E,{...y,ref:f,ignoreStrict:!0,children:(0,n.jsx)(a.Provider,{value:{axis:r,registerItem:(e,t)=>{let n=v.findIndex(t=>e===t.value);-1!==n?v[n].layout=t[r]:v.push({value:e,layout:t[r]}),v.sort(m)},updateOrder:(e,t,r)=>{if(T.current)return;let n=function(e,t,r,n){if(!n)return e;let i=e.findIndex(e=>e.value===t);if(-1===i)return e;let s=n>0?1:-1,a=e[i+s];if(!a)return e;let u=e[i],o=a.layout,d=(0,c.t)(o.min,o.max,.5);return 1===s&&u.layout.max+r>d||-1===s&&u.layout.min+r<d?(0,l.uo)(e,i,i+s):e}(v,e,t,r);v!==n&&(T.current=!0,d(n.map(p).filter(e=>-1!==g.indexOf(e))))}},children:e})})});function p(e){return e.value}function m(e,t){return e.layout.min-t.layout.min}var g=r(33234),y=r(16014);function f(e){let t=(0,o.h)(()=>(0,g.BX)(e)),{isStatic:r}=(0,s.useContext)(y._);if(r){let[,r]=(0,s.useState)(e);(0,s.useEffect)(()=>t.on("change",r),[])}return t}var E=r(71884);let v=e=>e&&"object"==typeof e&&e.mix,T=e=>v(e)?e.mix:void 0;var h=r(58868),_=r(25368);function x(e,t){let r=f(t()),n=()=>r.set(t());return n(),(0,h.L)(()=>{let t=()=>_.Wi.preRender(n,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),(0,_.Pn)(n)}}),r}function b(e,t){let r=(0,o.h)(()=>[]);return x(e,()=>{r.length=0;let n=e.length;for(let t=0;t<n;t++)r[t]=e[t].get();return t(r)})}var C=r(40406);function R(e,t=0){return(0,C.i)(e)?e:f(t)}let S={Group:d,Item:(0,s.forwardRef)(function({children:e,style:t={},value:r,as:l="li",onDrag:c,layout:d=!0,...p},m){let y=(0,o.h)(()=>(0,u.E)(l)),f=(0,s.useContext)(a),v={x:R(t.x),y:R(t.y)},h=function(e,t,r,n){if("function"==typeof e)return function(e){g.S1.current=[],e();let t=x(g.S1.current,e);return g.S1.current=void 0,t}(e);let i="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],u=(0,E.s)(i,s,{mixer:T(s[0]),...a});return t?u(n):u}(t,void 0,void 0);return Array.isArray(e)?b(e,i):b([e],([e])=>i(e))}([v.x,v.y],([e,t])=>e||t?1:"unset");(0,i.k)(!!f,"Reorder.Item must be a child of Reorder.Group");let{axis:_,registerItem:C,updateOrder:S}=f;return(0,n.jsx)(y,{drag:_,...p,dragSnapToOrigin:!0,style:{...t,x:v.x,y:v.y,zIndex:h},layout:d,onDrag:(e,t)=>{let{velocity:n}=t;n[_]&&S(r,v[_].get(),n[_]),c&&c(e,t)},onLayoutMeasure:e=>C(r,e),ref:m,ignoreStrict:!0,children:e})})}},60153:function(e,t,r){r.d(t,{o:function(){return a}});var n=r(96681);class i{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,t){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,t)})}}let s=()=>new i;function a(){return(0,n.h)(s)}},76649:function(e,t,r){r.d(t,{Ln:function(){return n},uX:function(){return a}});let n=(e,t)=>s(e,t),i=Symbol("SOME"),s=(e,t)=>"string"==typeof e?e===typeof t:Array.isArray(e)?i in e?e.some(e=>s(e,t)):!!Array.isArray(t)&&(0===e.length||t.every(t=>e.some(e=>s(e,t)))):"object"==typeof t&&null!==t&&Object.entries(e).every(([e,r])=>s(r,t[e])),a=e=>t=>n(e,t);class u{static narrow(e){return new u(t=>n(e,t))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let t=this.NF,r=e instanceof u?e.NF:e instanceof Function?e:t=>n(e,t);return new u(e=>t(e)&&r(e))}}new u(e=>!0)}}]);