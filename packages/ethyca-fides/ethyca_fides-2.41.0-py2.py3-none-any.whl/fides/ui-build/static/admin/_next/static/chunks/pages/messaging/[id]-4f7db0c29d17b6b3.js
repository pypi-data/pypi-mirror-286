(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3663],{87439:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messaging/[id]",function(){return n(65056)}])},65056:function(e,t,n){"use strict";n.r(t);var s=n(23842),r=n(52050),i=n(85556),u=n(24246),o=n(32556),a=n(83265),l=n(86677),c=n(1496),d=n(93677),p=n(61186),f=n(82026),h=n(23007),g=n(34038);t.default=function(){var e=(0,a.pmc)(),t=(0,l.useRouter)(),n=t.query.id,m=(0,f.gQ)(n),x=m.data,_=m.isLoading,v=(0,r.Z)((0,f.pS)(),1)[0],j=(0,r.Z)((0,f.ew)(),1)[0],b=function(){var t=(0,s.Z)((function(t){var s,r,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r={is_enabled:t.is_enabled,content:{subject:t.content.subject,body:t.content.body},properties:[]},null===(s=t.properties)||void 0===s||s.forEach((function(e){var t;return null===(t=r.properties)||void 0===t?void 0:t.push(e.id)})),[4,v({templateId:n,template:r})];case 1:return u=i.sent(),(0,g.D4)(u)?(e((0,p.Vo)((0,o.e$)(u.error))),[2]):(e((0,p.t5)("Messaging template updated successfully")),[2])}}))}));return function(e){return t.apply(this,arguments)}}(),w=(0,a.qY0)(),y=w.isOpen,C=w.onOpen,E=w.onClose,N=function(){var r=(0,s.Z)((function(){var s;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,j(n)];case 1:return s=r.sent(),(0,g.D4)(s)?(e((0,p.Vo)((0,o.e$)(s.error))),[2]):(e((0,p.t5)("Messaging template deleted successfully")),t.push(d.q),[2])}}))}));return function(){return r.apply(this,arguments)}}();return x?_?(0,u.jsx)(a.$jN,{}):(0,u.jsxs)(c.Z,{title:"Configure Message",children:[(0,u.jsxs)(a.xuv,{"data-testid":"add-messaging-template",children:[(0,u.jsx)(a.X6q,{marginBottom:2,fontSize:"2xl",children:"Configure message"}),(0,u.jsxs)(a.xuv,{maxWidth:"720px",children:[(0,u.jsx)(a.xvT,{fontSize:"sm",children:"Configure this message"}),(0,u.jsx)(a.xuv,{padding:2,children:(0,u.jsx)(h.Z,{template:x,handleSubmit:b,handleDelete:C})})]})]}),(0,u.jsx)(a.cVQ,{isOpen:y,onClose:E,onConfirm:N,title:"Delete message template",message:(0,u.jsx)(a.xvT,{children:"You are about to permanently delete this template message. Are you sure you would like to continue?"})})]}):null}}},function(e){e.O(0,[787,6301,9774,2888,179],(function(){return t=87439,e(e.s=t);var t}));var t=e.O();_N_E=t}]);