(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4202],{71180:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taxonomy",function(){return t(66672)}])},83834:function(e,n,t){"use strict";t.d(n,{q:function(){return l}});var r=t(85034),i=t(70169),a=t(31373),s=t(24246),o=t(83265),l=function(e){var n=e.label,t=e.isDisabled,r=(0,a.Z)(e,["label","isDisabled"]);return(0,s.jsx)(o.OK9,{"data-testid":"tab-".concat(n),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:r.fontSize,fontWeight:"500",color:"gray.500",isDisabled:t||!1,children:n})};n.Z=function(e){var n=e.data,t=e.border,u=void 0===t?"partial":t,c=(0,a.Z)(e,["data","border"]);return(0,s.jsxs)(o.mQc,(0,i.Z)((0,r.Z)({colorScheme:"complimentary"},c),{children:[(0,s.jsx)(o.tdY,{width:"partial"===u?"max-content":void 0,children:n.map((function(e){return(0,s.jsx)(l,{label:e.label,isDisabled:e.isDisabled,fontSize:c.fontSize},e.label)}))}),(0,s.jsx)(o.nPR,{children:n.map((function(e){return(0,s.jsx)(o.x45,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label)}))})]}))}},1496:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(85034),i=t(70169),a=t(24246),s=t(83265),o=t(88038),l=t.n(o),u=t(86677),c=(t(27378),t(67447)),d=t(63076),f=t(93677),h=function(){var e=(0,u.useRouter)();return(0,a.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,a.jsxs)(s.xuv,{children:[(0,a.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,a.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,a.jsx)(s.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(f.fz)},children:"Configure"})]}),(0,a.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=function(e){var n=e.children,t=e.title,o=e.padded,f=void 0===o||o,v=e.mainProps,m=(0,c.hz)(),p=(0,u.useRouter)(),y="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,x=!(m.flags.privacyRequestsConfiguration&&y),b=(0,d.JE)(void 0,{skip:x}).data,g=(0,d.PW)(void 0,{skip:x}).data,j=m.flags.privacyRequestsConfiguration&&(!b||!g)&&y;return(0,a.jsxs)(s.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,a.jsxs)(l(),{children:[(0,a.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,a.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)(s.kCb,(0,i.Z)((0,r.Z)({as:"main",direction:"column",py:f?6:0,px:f?10:0,h:f?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},v),{children:[j?(0,a.jsx)(h,{}):null,n]}))]})}},32556:function(e,n,t){"use strict";t.d(n,{D4:function(){return i.D4},MM:function(){return h},Ot:function(){return l},c6:function(){return c},cj:function(){return m},e$:function(){return s},fn:function(){return o},iC:function(){return v},nU:function(){return f},tB:function(){return u}});var r=t(17599),i=t(32764),a="An unexpected error occurred. Please try again.",s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,i.Bw)(e)){if((0,i.hE)(e.data))return e.data.detail;if((0,i.cz)(e.data)){var t,r=null===(t=e.data.detail)||void 0===t?void 0:t[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===e.status&&(0,i.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,i.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return n};function o(e){return"object"===typeof e&&null!=e&&"status"in e}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function u(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var c,d,f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,i.oK)(e))return{status:e.originalStatus,message:e.data};if((0,i.Bw)(e)){var t=e.status;return{status:t,message:s(e,n.message)}}return n},h=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp",e.COMPASS="compass"}(c||(c={}));var v=(d={},(0,r.Z)(d,c.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(d,c.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(d,c.COMPASS,{label:"",fullName:""}),d),m=function(e){var n=e.split(".")[0];return n===c.AC?c.AC:n===c.GVL?c.GVL:c.COMPASS}},49730:function(e,n,t){"use strict";var r=t(85034),i=t(70169),a=t(24246),s=t(83265);n.Z=function(e){var n=e.isOpen,t=e.onClose,o=e.onConfirm,l=e.onCancel,u=e.title,c=e.message,d=e.cancelButtonText,f=e.cancelButtonThemingProps,h=e.continueButtonText,v=e.continueButtonThemingProps,m=e.isLoading,p=e.returnFocusOnClose,y=e.isCentered,x=e.testId,b=void 0===x?"confirmation-modal":x,g=e.icon;return(0,a.jsxs)(s.u_l,{isOpen:n,onClose:t,size:"lg",returnFocusOnClose:null===p||void 0===p||p,isCentered:y,children:[(0,a.jsx)(s.ZAr,{}),(0,a.jsxs)(s.hzk,{textAlign:"center",p:6,"data-testid":b,children:[g?(0,a.jsx)(s.M5Y,{mb:2,children:g}):null,u?(0,a.jsx)(s.xBx,{fontWeight:"medium",pb:0,children:u}):null,c?(0,a.jsx)(s.fef,{children:c}):null,(0,a.jsx)(s.mzw,{children:(0,a.jsxs)(s.MIq,{columns:2,width:"100%",children:[(0,a.jsx)(s.zxk,(0,i.Z)((0,r.Z)({variant:"outline",mr:3,onClick:function(){l&&l(),t()},"data-testid":"cancel-btn",isDisabled:m},f),{children:d||"Cancel"})),(0,a.jsx)(s.zxk,(0,i.Z)((0,r.Z)({colorScheme:"primary",onClick:o,"data-testid":"continue-btn",isLoading:m},v),{children:h||"Continue"}))]})})]})]})}},61186:function(e,n,t){"use strict";t.d(n,{MA:function(){return l},Vo:function(){return c},t5:function(){return u}});var r=t(85034),i=t(24246),a=t(83265),s=function(e){var n=e.children;return(0,i.jsxs)(a.xvT,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",n]})},o=function(e){var n=e.children;return(0,i.jsxs)(a.xvT,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",n]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},u=function(e){var n=(0,i.jsx)(s,{children:e});return(0,r.Z)({},l,{description:n})},c=function(e){var n=(0,i.jsx)(o,{children:e});return(0,r.Z)({},l,{description:n,status:"error"})}},26950:function(e,n,t){"use strict";var r=t(85034),i=t(70169),a=t(31373),s=t(24246),o=t(83265);n.Z=function(e){var n=e.name,t=e.onClose,l=(0,a.Z)(e,["name","onClose"]),u=(0,r.Z)({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(n),width:"fit-content",size:"sm"},l);return t?(0,s.jsxs)(o.Vp9,(0,i.Z)((0,r.Z)({display:"flex",justifyContent:"space-between"},u),{children:[(0,s.jsx)(o.Sn0,{children:n}),(0,s.jsx)(o.SD9,{onClick:t,color:"white"})]})):(0,s.jsx)(o.Vp9,(0,i.Z)((0,r.Z)({},u),{children:n}))}},77966:function(e,n,t){"use strict";t.d(n,{C:function(){return r},P:function(){return i}});var r=function(e,n){var t;if(null==n&&e.every((function(e){return void 0===e.parent_key})))t=e;else{var i=null!==n&&void 0!==n?n:null;t=e.filter((function(e){return e.parent_key===i}))}return t.map((function(n){var t,i,a=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:r(e,a),is_default:null!==(t=n.is_default)&&void 0!==t&&t,active:null!==(i=n.active)&&void 0!==i&&i}}))},i=function(e){var n=e.split(".");return 1===n.length?"":n.slice(0,n.length-1).join(".")}},66672:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Y}});var r,i,a,s,o,l,u,c,d=t(24246),f=t(83265),h=t(1496),v=t(10503),m=t(83834),p=t(23842),y=t(85034),x=t(70169),b=t(52050),g=t(85556),j=t(27378),_=t(28067),C=t(67595),k=t(10439),Z=[{label:"Yes",value:"true"},{label:"No",value:"false"}],E=t(56071),T=t(32556),w=t(32918),D=t(21788),F=t(77966),S=t(22735),z=function(e,n){return{fides_key:null!==(r=e.fides_key)&&void 0!==r?r:"",name:null!==(i=e.name)&&void 0!==i?i:"",description:null!==(a=e.description)&&void 0!==a?a:"",parent_key:null!==(s=e.parent_key)&&void 0!==s?s:"",is_default:null!==(o=e.is_default)&&void 0!==o&&o,version_added:null!==(l=e.version_added)&&void 0!==l?l:void 0,version_deprecated:null!==(u=e.version_deprecated)&&void 0!==u?u:void 0,replaced_by:null!==(c=e.replaced_by)&&void 0!==c?c:void 0,customFieldValues:n}},A=function(e,n){var t=""===e.fides_key,r=(0,y.Z)({},n);if(t){var i=(0,F.P)(n.fides_key);r.parent_key=""===i?void 0:i}else r.parent_key=""===e.parent_key?void 0:e.parent_key,r.fides_key=e.fides_key;return delete r.customFieldValues,r},L=function(e){var n=e.nodes,t=e.focusedKey,r=e.renderHover,i=e.renderTag,a=(0,j.useState)(void 0),s=a[0],o=a[1],l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(null===s||void 0===s?void 0:s.value)===e.value,u=t===e.value,c={borderBottom:"1px solid",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",pl:3*n,_hover:{bg:"gray.50"},onMouseEnter:function(){o(e)},onMouseLeave:function(){o(void 0)}},h=a&&r?r(e):null;return 0===e.children.length?(0,d.jsxs)(f.xuv,(0,x.Z)((0,y.Z)({py:2},c),{children:[(0,d.jsxs)(f.xuv,{display:"flex",alignItems:"center",children:[(0,d.jsx)(f.xvT,{"data-testid":"item-".concat(e.label),pl:5,color:u?"complimentary.500":void 0,mr:2,children:e.label}),i?i(e):null]}),h]})):(0,d.jsxs)(f.Qdk,{p:0,border:"none",children:[(0,d.jsxs)(f.xuv,(0,x.Z)((0,y.Z)({},c),{children:[(0,d.jsxs)(f.KFZ,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,color:u?"complimentary.500":void 0,children:[(0,d.jsx)(f.XEm,{}),(0,d.jsx)(f.xvT,{"data-testid":"accordion-item-".concat(e.label),mr:2,children:e.label}),i?i(e):null]}),h]})),(0,d.jsx)(f.Hk3,{p:0,children:e.children.map((function(e){return(0,d.jsx)(j.Fragment,{children:l(e,n+1)},e.value)}))})]})};return(0,d.jsx)(f.xuv,{boxSizing:"border-box",children:(0,d.jsx)(f.UQy,{allowMultiple:!0,children:n.map((function(e){return(0,d.jsx)(f.xuv,{children:l(e)},e.value)}))})})},V=t(49730),M=t(61186),O=t(34038),P=function(e){var n=e.node,t=e.onEdit,r=e.onDelete,i=e.onDisable,a=!n.is_default;return(0,d.jsxs)(f.Ugi,{mr:4,children:[(0,d.jsxs)(f.hE2,{size:"xs",variant:"outline",colorScheme:"gray","data-testid":"action-btns",children:[(0,d.jsx)(f.hU,{"aria-label":"Edit",icon:(0,d.jsx)(f.dY8,{boxSize:3}),onClick:function(){return t(n)},"data-testid":"edit-btn"}),a?(0,d.jsx)(f.hU,{"aria-label":"Delete",icon:(0,d.jsx)(f.pJl,{boxSize:3}),onClick:function(){return r(n)},"data-testid":"delete-btn"}):null]}),(0,d.jsx)(f.rsf,{size:"sm",colorScheme:"purple",defaultChecked:n.active,onChange:function(){return i(n)}}),(0,d.jsx)(f.xvT,{children:"Enabled"})]})},K=t(34090),q=t(16310),B=t(26950),N=function(e){var n=e.labels,t=e.onCancel,r=e.onSubmit,i=e.renderExtraFormFields,a=e.initialValues,s=(0,f.pmc)(),o=(0,j.useState)(null),l=o[0],u=o[1],c=q.Ry().shape({fides_key:q.Z_().required().label(n.fides_key)}),h=""===a.fides_key,v=function(){var e=(0,p.Z)((function(e){var n;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return u(null),[4,r(a,e)];case 1:return n=i.sent(),(0,T.D4)(n)?function(e){var n=(0,T.nU)(e);u(n.message)}(n.error):(s((0,M.t5)("Taxonomy successfully ".concat(h?"created":"updated"))),h&&t()),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(f.Kqy,{pl:6,spacing:6,"data-testid":"".concat(h?"create":"edit","-taxonomy-form"),children:[(0,d.jsxs)(f.X6q,{size:"md",textTransform:"capitalize","data-testid":"form-heading",children:[h?"Create":"Modify"," ",n.fides_key]}),(0,d.jsx)(K.J9,{initialValues:a,onSubmit:v,validationSchema:c,enableReinitialize:!0,children:function(e){var r=e.dirty,s=e.values;return(0,d.jsxs)(K.l0,{children:[(0,d.jsxs)(f.Kqy,{mb:6,children:[h?(0,d.jsx)(E.j0,{name:"fides_key",label:n.fides_key}):(0,d.jsxs)(f.rjZ,{templateColumns:"1fr 3fr",children:[(0,d.jsx)(f.lXp,{children:n.fides_key}),(0,d.jsx)(f.xuv,{children:(0,d.jsx)(B.Z,{name:a.fides_key})})]}),(0,d.jsx)(E.j0,{name:"name",label:n.name}),(0,d.jsx)(E.Ks,{name:"description",label:n.description}),n.parent_key&&(h?(0,d.jsxs)(f.rjZ,{templateColumns:"1fr 3fr",children:[(0,d.jsx)(f.lXp,{children:n.parent_key}),(0,d.jsx)(f.xuv,{mr:"2",children:(0,d.jsx)(f.IIB,{"data-testid":"input-parent_key",disabled:!0,value:(0,F.P)(s.fides_key),size:"sm"})})]}):(0,d.jsx)(E.j0,{name:"parent_key",label:n.parent_key,disabled:!h})),i?i(s):null]}),l?(0,d.jsx)(f.xvT,{color:"red",mb:2,"data-testid":"taxonomy-form-error",children:l}):null,(0,d.jsxs)(f.hE2,{size:"sm",children:[(0,d.jsx)(f.zxk,{"data-testid":"cancel-btn",variant:"outline",onClick:t,children:"Cancel"}),(0,d.jsx)(f.zxk,{"data-testid":"submit-btn",variant:"primary",type:"submit",isDisabled:!h&&!r,children:h?"Create entity":"Update entity"})]})]})}})]})},G=function(e){var n=e.node;return n.is_default?null:(0,d.jsx)(f.Vp9,{backgroundColor:"purple.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(n.label),children:"CUSTOM"})},I=function(e){var n=e.node;return n.active?null:(0,d.jsx)(f.Vp9,{backgroundColor:"gray.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(n.label),children:"DISABLED"})},R={fides_key:"",parent_key:"",name:"",description:""},U=function(e){var n=e.useTaxonomy,t=(0,v.T)(),r=n(),i=r.isLoading,a=r.data,s=r.labels,o=r.entityToEdit,l=r.setEntityToEdit,u=r.handleCreate,c=r.handleEdit,h=r.handleDelete,m=r.handleToggleEnabled,y=r.renderExtraFormFields,x=r.transformEntityToInitialValues,b=(0,j.useMemo)((function(){return a?(0,F.C)(a):null}),[a]),_=(0,j.useState)(null),C=_[0],k=_[1],Z=(0,j.useState)(null),E=Z[0],w=Z[1],D=(0,v.C)(S.yK);(0,j.useEffect)((function(){D&&l(null)}),[D,l]);var z=function(){t((0,S.Gz)(!1))},A=(0,f.qY0)(),K=A.isOpen,q=A.onOpen,B=A.onClose,U=(0,f.qY0)(),X=U.isOpen,W=U.onOpen,Y=U.onClose,J=(0,f.pmc)();if(i)return(0,d.jsx)(f.M5Y,{children:(0,d.jsx)(f.$jN,{})});if(!b)return(0,d.jsx)(f.xvT,{children:"Could not find data."});var Q=s.fides_key.toLocaleLowerCase(),$=function(e){var n;D&&z();var t=null!==(n=null===a||void 0===a?void 0:a.find((function(n){return n.fides_key===e.value})))&&void 0!==n?n:null;l(t)},H=function(e){k(e),q()},ee=function(e){w(e),W()},ne=function(){var e=(0,p.Z)((function(){var e;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return C?[4,h(C.value)]:[3,2];case 1:e=n.sent(),(0,O.D4)(e)?J((0,M.Vo)((0,T.e$)(e.error))):J((0,M.t5)("Successfully deleted ".concat(Q))),B(),l(null),n.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,p.Z)((function(){var e,n,t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return(n=null!==(e=E&&(null===a||void 0===a?void 0:a.find((function(e){return e.fides_key===E.value}))))&&void 0!==e?e:null)?(t=null===E||void 0===E?void 0:E.active,[4,m(n,!t)]):[3,2];case 1:r=i.sent(),(0,O.D4)(r)?J((0,M.Vo)((0,T.e$)(r.error))):J((0,M.t5)("Successfully ".concat(t?"disabled":"enabled"," ").concat(Q))),Y(),l(null),i.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(f.MIq,{columns:2,spacing:2,children:[(0,d.jsx)(L,{nodes:b,focusedKey:null===o||void 0===o?void 0:o.fides_key,renderHover:function(e){return(0,d.jsx)(P,{onDelete:H,onEdit:$,onDisable:ee,node:e})},renderTag:function(e){return(0,d.jsxs)(f.Ugi,{spacing:2,children:[(0,d.jsx)(G,{node:e}),(0,d.jsx)(I,{node:e})]})}}),o?(0,d.jsx)(N,{labels:s,onCancel:function(){return l(null)},onSubmit:c,renderExtraFormFields:y,initialValues:x(o)}):null,D?(0,d.jsx)(N,{labels:s,onCancel:z,onSubmit:u,renderExtraFormFields:y,initialValues:x(R)}):null]}),C?(0,d.jsx)(V.Z,{isOpen:K,onClose:B,onConfirm:ne,title:"Delete ".concat(Q),message:(0,d.jsxs)(f.Kqy,{children:[(0,d.jsxs)(f.xvT,{children:["You are about to permanently delete the ",Q," ",(0,d.jsx)(f.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:C.value})," ","from your taxonomy. Are you sure you would like to continue?"]}),C.children.length?(0,d.jsxs)(f.xvT,{color:"red","data-testid":"delete-children-warning",children:["Deleting"," ",(0,d.jsx)(f.xvT,{as:"span",fontWeight:"bold",children:C.value})," ","will also delete all of its children."]}):null]})}):null,E?(0,d.jsx)(V.Z,{isOpen:X,onClose:Y,onConfirm:te,title:"".concat(E.active?"Disable":"Enable"," ").concat(Q),message:(0,d.jsx)(f.Kqy,{children:(0,d.jsxs)(f.xvT,{children:["This will ",E.active?"disable":"enable"," ","the ",Q," ",(0,d.jsx)(f.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:E.value})," ","from your taxonomy."]})})}):null]})},X=[{label:"Data Categories",content:(0,d.jsx)(U,{useTaxonomy:function(){var e=k.P6.DATA_CATEGORY,n=(0,j.useState)(null),t=n[0],r=n[1],i=(0,S.MO)(),a=i.data,s=i.isLoading,o=(0,b.Z)((0,S.Ti)(),1)[0],l=(0,b.Z)((0,S.jU)(),1)[0],u=(0,b.Z)((0,S.K9)(),1)[0],c=(0,C.m)({resourceFidesKey:null===t||void 0===t?void 0:t.fides_key,resourceType:e}),f=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=A(e,n),[4,o(t)];case 1:return r=i.sent(),c.isEnabled?[4,c.upsertCustomFields(n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=A(e,n),r=l(t),c.isEnabled?[4,c.upsertCustomFields(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),v=u,m=function(){var e=(0,p.Z)((function(e,n){var t;return(0,g.__generator)(this,(function(r){return t=(0,x.Z)((0,y.Z)({},e),{active:n}),[2,l(t)]}))}));return function(n,t){return e.apply(this,arguments)}}();return{data:a,isLoading:s,labels:{fides_key:"Data category",name:"Category name",description:"Category description",parent_key:"Parent category"},resourceType:e,entityToEdit:t,setEntityToEdit:r,handleCreate:f,handleEdit:h,handleDelete:v,handleToggleEnabled:m,renderExtraFormFields:function(n){return(0,d.jsx)(_.uc,{resourceFidesKey:n.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return z(e,c.customFieldValues)}}}})},{label:"Data Uses",content:(0,d.jsx)(U,{useTaxonomy:function(){var e=k.P6.DATA_USE,n=(0,j.useState)(null),t=n[0],r=n[1],i=(0,D.fd)(),a=i.data,s=i.isLoading,o=(0,b.Z)((0,D.Ql)(),1)[0],l=(0,b.Z)((0,D.LG)(),1)[0],u=(0,b.Z)((0,D.gu)(),1)[0],c=function(e){return(0,y.Z)({},e)},f=(0,C.m)({resourceFidesKey:null===t||void 0===t?void 0:t.fides_key,resourceType:e}),h=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=c(A(e,n)),[4,o(t)];case 1:return r=i.sent(),f.isEnabled?[4,f.upsertCustomFields(n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),v=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=c(A(e,n)),r=l(t),f.isEnabled?[4,f.upsertCustomFields(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),m=u,Z=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=(0,x.Z)((0,y.Z)({},e),{active:n}),r=l(t),f.isEnabled?[4,f.upsertCustomFields(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}();return{data:a,isLoading:s,labels:{fides_key:"Data use",name:"Data use name",description:"Data use description",parent_key:"Parent data use"},resourceType:e,entityToEdit:t,setEntityToEdit:r,handleCreate:h,handleEdit:v,handleDelete:m,handleToggleEnabled:Z,renderExtraFormFields:function(n){return(0,d.jsx)(_.uc,{resourceFidesKey:n.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){var n=z(e,f.customFieldValues);return(0,y.Z)({},n)}}}})},{label:"Data Subjects",content:(0,d.jsx)(U,{useTaxonomy:function(){var e=k.P6.DATA_SUBJECT,n=(0,j.useState)(null),t=n[0],r=n[1],i=(0,w.te)(),a=i.data,s=i.isLoading,o={fides_key:"Data subject",name:"Data subject name",description:"Data subject description",rights:"Rights",strategy:"Strategy",automatic_decisions:"Automatic decisions or profiling"},l=(0,b.Z)((0,w.wG)(),1)[0],u=(0,b.Z)((0,w.h8)(),1)[0],c=(0,b.Z)((0,w.Kv)(),1)[0],f=function(e){var n,t=(0,x.Z)((0,y.Z)({},e),{rights:e.rights.length?{values:e.rights,strategy:e.strategy}:void 0,automatic_decisions_or_profiling:!("true"!==(null===(n=e.automated_decisions_or_profiling)||void 0===n?void 0:n.toString()))});return delete t.strategy,t},h=(0,C.m)({resourceFidesKey:null===t||void 0===t?void 0:t.fides_key,resourceType:e}),v=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=f(A(e,n)),[4,l(t)];case 1:return r=i.sent(),h.isEnabled?[4,h.upsertCustomFields(n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=f(A(e,n)),r=u(t),h.isEnabled?[4,h.upsertCustomFields(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}(),D=c,F=function(){var e=(0,p.Z)((function(e,n){var t,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=(0,x.Z)((0,y.Z)({},e),{active:n}),r=u(t),h.isEnabled?[4,h.upsertCustomFields(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,r]}}))}));return function(n,t){return e.apply(this,arguments)}}();return{data:a,isLoading:s,labels:o,resourceType:e,entityToEdit:t,setEntityToEdit:r,handleCreate:v,handleEdit:m,handleDelete:D,handleToggleEnabled:F,renderExtraFormFields:function(n){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(E.AP,{name:"rights",label:o.rights,options:(0,T.MM)(k.ts),isMulti:!0}),n.rights&&n.rights.length?(0,d.jsx)(E.AP,{name:"strategy",label:o.strategy,options:(0,T.MM)(k.jX)}):null,(0,d.jsx)(E.xt,{name:"automatic_decisions_or_profiling",label:o.automatic_decisions,options:Z}),(0,d.jsx)(_.uc,{resourceFidesKey:n.fides_key,resourceType:e})]})},transformEntityToInitialValues:function(e){var n,t,r,i=z(e,h.customFieldValues);return(0,x.Z)((0,y.Z)({},i),{rights:null!==(r=null===(n=e.rights)||void 0===n?void 0:n.values)&&void 0!==r?r:[],strategy:null===(t=e.rights)||void 0===t?void 0:t.strategy,automatic_decisions_or_profiling:null==e.automated_decisions_or_profiling?"false":e.automated_decisions_or_profiling.toString()})}}}})}],W=function(){var e=(0,v.T)();return(0,d.jsxs)(f.xuv,{"data-testid":"taxonomy-tabs",display:"flex",children:[(0,d.jsx)(m.Z,{border:"full-width",data:X,flexGrow:1,isLazy:!0}),(0,d.jsx)(f.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,d.jsx)(f.zxk,{size:"sm",variant:"outline",onClick:function(){e((0,S.Gz)(!0))},"data-testid":"add-taxonomy-btn",children:"Add Taxonomy Entity +"})})]})},Y=function(){return(0,d.jsxs)(h.Z,{title:"Datasets",children:[(0,d.jsx)(f.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Taxonomy Management"}),(0,d.jsx)(W,{})]})}},32764:function(e,n,t){"use strict";t.d(n,{Bw:function(){return s},D4:function(){return i},Dy:function(){return l},XD:function(){return u},cz:function(){return c},hE:function(){return o},oK:function(){return a}});var r=t(76649),i=function(e){return"error"in e},a=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},s=function(e){return(0,r.Ln)({status:"number",data:{}},e)},o=function(e){return(0,r.Ln)({detail:"string"},e)},l=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},c=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},34038:function(e,n,t){"use strict";t.d(n,{Bw:function(){return r.Bw},D4:function(){return r.D4}});var r=t(32764)},76649:function(e,n,t){"use strict";t.d(n,{Ln:function(){return r},uX:function(){return s}});const r=(e,n)=>a(e,n),i=Symbol("SOME"),a=(e,n)=>{if("string"==typeof e)return e===typeof n;if(Array.isArray(e))return i in e?e.some((e=>a(e,n))):!!Array.isArray(n)&&(0===e.length||n.every((n=>e.some((e=>a(e,n))))));if("object"!=typeof n||null===n)return!1;const t=n;return Object.entries(e).every((([e,n])=>a(n,t[e])))},s=e=>n=>r(e,n);class o{static narrow(e){return new o((n=>r(e,n)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const n=this.NF,t=e instanceof o?e.NF:e instanceof Function?e:n=>r(e,n);return new o((e=>n(e)&&t(e)))}}new o((e=>!0))}},function(e){e.O(0,[8067,9774,2888,179],(function(){return n=71180,e(e.s=n);var n}));var n=e.O();_N_E=n}]);