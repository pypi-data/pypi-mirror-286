(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{35041:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection",function(){return t(89766)}])},87594:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(85034),i=t(70169),u=t(31373),o=t(24246),s=t(83265),a=t(98784),c=t(27378),l=t(79894),d=t.n(l),f=function(e){var n=e.breadcrumbs;return(0,o.jsx)(s.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:n.map((function(e,t){var r=t+1===n.length,i=!!e.link||!!e.onClick;return(0,o.jsx)(s.gN6,{color:r||e.isOpaque?"black":"gray.500",children:i?(0,o.jsx)(s.Atw,{as:d(),href:e.link,isCurrentPage:r,children:e.title}):(0,o.jsx)(s.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:r,children:e.title})},e.title)}))})},g=function(e){var n=e.breadcrumbs,t=e.isSticky,l=void 0===t||t,d=e.children,g=(0,u.Z)(e,["breadcrumbs","isSticky","children"]);return(0,o.jsxs)(s.xuv,(0,i.Z)((0,r.Z)({bgColor:"white",paddingY:5},l?{position:"sticky",top:0,left:0,zIndex:10}:{},g),{children:[(0,a.isArray)(n)&&(0,o.jsx)(s.xuv,{marginBottom:d?4:0,children:(0,o.jsx)(f,{breadcrumbs:n})}),(0,c.isValidElement)(n)&&n,d]}))}},12999:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var r=t(24246),i=t(59003),u=t(92222),o=t(83265),s=t(86677),a=t(27378),c=t(73659),l=t(76353),d=t(85034),f=t(16957),g=t(17638),x=t(8469),h=t(24991),m=t(18032),j=t(44955),v=function(e){var n=e.resourceType,t=(0,u.Cl)(),i=[];return n?n===h.X.SCHEMA?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,r.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Name"},e))}}),t.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,r.jsx)(c.G3,{value:(0,j.Z)(e.getValue())})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Project"},e))}}),t.display({id:"type",cell:function(){return(0,r.jsx)(c.G3,{value:"Dataset"})},header:"Type"}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,r.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,r.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,r.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.TABLE?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,r.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Table name"},e))}}),t.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,r.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,r.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,r.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,r.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.FIELD?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,r.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Field name"},e))}}),t.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,r.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,r.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,r.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,r.jsx)(c.Rr,(0,d.Z)({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,r.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:i}:{columns:i}},p=t(85613),b=t(39237),Z=t(46804),w=t(10439),y=t(70508),R={items:[],total:0,page:1,size:50,pages:1},_=function(){return(0,r.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsxs)(o.gCW,{children:[(0,r.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,r.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})})},C=function(e){var n,t=e.resourceUrn,d=(0,s.useRouter)(),f=(0,a.useState)(""),g=f[0],x=f[1],m=(0,a.useState)("true"===(null===(n=d.query)||void 0===n?void 0:n.showFullSchema)||!1),j=m[0],C=m[1],L=[w.LL.ADDITION,w.LL.REMOVAL];j&&(L.push(w.LL.MONITORED),L.push(w.LL.MUTED));var P=[w.LL.ADDITION,w.LL.REMOVAL];j&&(P.push(w.LL.MONITORED),P.push(w.LL.MUTED));var D=(0,c.oi)(),S=D.PAGE_SIZES,T=D.pageSize,k=D.setPageSize,E=D.onPreviousPageClick,N=D.isPreviousPageDisabled,I=D.onNextPageClick,A=D.isNextPageDisabled,z=D.startRange,M=D.endRange,V=D.pageIndex,O=D.setTotalPages,G=(0,l.z8)({staged_resource_urn:t,page:V,size:T,child_diff_status:P,diff_status:L,search:g}),W=G.isFetching,F=G.isLoading,X=G.data,q=(0,b.G)(null===X||void 0===X?void 0:X.items[0]),U=v({resourceType:q}).columns,B=(0,a.useMemo)((function(){return null!==X&&void 0!==X?X:R}),[X]),H=B.items,Y=B.total,K=B.pages;(0,a.useEffect)((function(){O(K)}),[K,O]);var Q=(0,a.useMemo)((function(){return U}),[U]),$=(0,p.Z)().navigateToDetectionResults,J=q!==h.X.FIELD?function(e){return $({resourceUrn:e.urn,showFullSchema:j})}:void 0,ee=(0,i.b7)({getCoreRowModel:(0,u.sC)(),getGroupedRowModel:(0,u.qe)(),getExpandedRowModel:(0,u.rV)(),getRowId:Z.Z,columns:Q,manualPagination:!0,data:H});return F?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q$,{children:(0,r.jsxs)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,r.jsx)(o.xuv,{w:400,flexShrink:0,children:(0,r.jsx)(y.M,{value:g,onChange:x})}),(0,r.jsxs)(o.kCb,{direction:"row",alignItems:"center",children:[(0,r.jsx)(o.rsf,{size:"sm",isChecked:j,onChange:function(){return C(!j)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,r.jsx)(o.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,r.jsx)(c.ZK,{tableInstance:ee,onRowClick:J,emptyTableNotice:(0,r.jsx)(_,{})}),(0,r.jsx)(c.s8,{totalRows:Y,pageSizes:S,setPageSize:k,onPreviousPageClick:E,isPreviousPageDisabled:N||W,onNextPageClick:I,isNextPageDisabled:A||W,startRange:z,endRange:M})]})}},89766:function(e,n,t){"use strict";t.r(n);var r=t(24246),i=(t(27378),t(25010)),u=t(87594),o=t(12999);n.default=function(){return(0,r.jsxs)(i.Z,{title:"Data detection",mainProps:{padding:"0 40px 48px"},children:[(0,r.jsx)(u.Z,{breadcrumbs:[{title:"Data detection",isOpaque:!0},{title:"All activity"}]}),(0,r.jsx)(o.Z,{})]})}}},function(e){e.O(0,[8033,3667,3659,9377,9774,2888,179],(function(){return n=35041,e(e.s=n);var n}));var n=e.O();_N_E=n}]);