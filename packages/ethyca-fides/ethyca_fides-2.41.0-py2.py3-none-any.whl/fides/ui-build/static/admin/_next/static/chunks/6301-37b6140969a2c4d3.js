"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6301],{61787:function(e,t,n){var r=n(85034),i=n(70169),s=n(31373),a=n(24246),u=n(83265),o=n(12934);t.Z=function(e){var t=e.title,n=e.tooltip,c=e.children,l=(0,s.Z)(e,["title","tooltip","children"]);return(0,a.jsxs)(u.xuv,(0,i.Z)((0,r.Z)({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},l),{children:[(0,a.jsxs)(u.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,a.jsx)(u.xvT,{as:"span",mx:1,children:(0,a.jsx)(o.Z,{label:n})}):void 0]}),(0,a.jsx)(u.Kqy,{p:6,spacing:6,children:c})]}))}},10437:function(e,t,n){n.d(t,{Z:function(){return a}});var r,i,s=n(17599);!function(e){e.PRIVACY_REQUEST_REVIEW_APPROVE="privacy_request_review_approve",e.PRIVACY_REQUEST_REVIEW_DENY="privacy_request_review_deny",e.PRIVACY_REQUEST_RECEIPT="privacy_request_receipt",e.PRIVACY_REQUEST_COMPLETE_ACCESS="privacy_request_complete_access",e.PRIVACY_REQUEST_COMPLETE_DELETION="privacy_request_complete_deletion",e.SUBJECT_IDENTITY_VERIFICATION="subject_identity_verification"}(r||(r={}));var a=(i={},(0,s.Z)(i,r.PRIVACY_REQUEST_COMPLETE_ACCESS,"Access request completed"),(0,s.Z)(i,r.PRIVACY_REQUEST_COMPLETE_DELETION,"Erasure request completed"),(0,s.Z)(i,r.PRIVACY_REQUEST_RECEIPT,"Privacy request received"),(0,s.Z)(i,r.PRIVACY_REQUEST_REVIEW_APPROVE,"Privacy request approved"),(0,s.Z)(i,r.PRIVACY_REQUEST_REVIEW_DENY,"Privacy request denied"),(0,s.Z)(i,r.SUBJECT_IDENTITY_VERIFICATION,"Subject identity verification"),i)},23007:function(e,t,n){var r=n(24246),i=n(93677),s=n(83265),a=n(34090),u=n(86677),o=n(10503),c=n(61787),l=n(56071),d=n(76839),p=n(10437),m=n(62257),f=function(){var e=(0,o.C)(m.Zp),t=(0,o.C)(m.G1);(0,m.gz)({page:e,size:t});var n,i=(0,o.C)(m.YO),s=(0,a.u6)(),u=s.values,c=s.setFieldValue;return(0,r.jsx)(d.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:i.map((function(e){return{id:e.id,name:e.name}})),values:null!==(n=u.properties)&&void 0!==n?n:[],setValues:function(e){return c("properties",e)},draggable:!0,maxHeight:100,baseTestId:"property"})};t.Z=function(e){var t=e.template,n=e.handleSubmit,o=e.handleDelete,d=(0,u.useRouter)(),m=function(){d.push(i.q)},g={type:t.type,content:t.content,properties:t.properties||[],is_enabled:t.is_enabled,id:t.id||""};return(0,r.jsx)(a.J9,{enableReinitialize:!0,initialValues:g,onSubmit:n,children:function(e){var t=e.dirty,n=e.isValid,i=e.isSubmitting;return(0,r.jsxs)(a.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,r.jsx)(s.xuv,{py:3,children:(0,r.jsxs)(c.Z,{title:"".concat(p.Z[g.type]),children:[(0,r.jsx)(l.j0,{isRequired:!0,label:"Email subject",name:"content.subject",variant:"stacked"}),(0,r.jsx)(l.Ks,{isRequired:!0,label:"Message body",name:"content.body",value:"test",variant:"stacked",resize:!0}),(0,r.jsx)(s.xuv,{py:3,children:(0,r.jsx)(f,{})}),(0,r.jsx)(l.w8,{name:"is_enabled",label:"Enable message",variant:"switchFirst"})]})}),(0,r.jsxs)(s.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[g.id&&o&&(0,r.jsx)(s.zxk,{"data-testid":"delete-template-button",size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:o,children:"Delete"}),(0,r.jsxs)(s.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,r.jsx)(s.zxk,{size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:m,children:"Cancel"}),(0,r.jsx)(s.zxk,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:i||!t||!n,isLoading:i,"data-testid":"submit-btn",children:"Save"})]})]})]})}})}},82026:function(e,t,n){n.d(t,{KC:function(){return c},Vw:function(){return l},ew:function(){return d},gQ:function(){return u},jM:function(){return i},lE:function(){return s},ms:function(){return a},pS:function(){return o},vm:function(){return p}});var r=n(85768).u.injectEndpoints({endpoints:function(e){return{getMessagingTemplates:e.query({query:function(){return{url:"messaging/templates"}},providesTags:function(){return["Messaging Templates"]}}),getSummaryMessagingTemplates:e.query({query:function(e){return{method:"GET",url:"messaging/templates/summary",params:e}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),updateMessagingTemplates:e.mutation({query:function(e){return{url:"messaging/templates",method:"PUT",body:e}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateById:e.query({query:function(e){return{url:"/messaging/templates/".concat(e)}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),putMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PUT",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),patchMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PATCH",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateDefault:e.query({query:function(e){return{url:"/messaging/templates/default/".concat(e)}}}),createMessagingTemplateByType:e.mutation({query:function(e){var t=e.templateType,n=e.template;return{url:"/messaging/templates/".concat(t),method:"POST",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),deleteMessagingTemplateById:e.mutation({query:function(e){return{url:"/messaging/templates/".concat(e),method:"DELETE"}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}})}}}),i=r.useGetMessagingTemplatesQuery,s=r.useUpdateMessagingTemplatesMutation,a=r.useGetSummaryMessagingTemplatesQuery,u=r.useGetMessagingTemplateByIdQuery,o=r.usePutMessagingTemplateByIdMutation,c=r.useGetMessagingTemplateDefaultQuery,l=r.useCreateMessagingTemplateByTypeMutation,d=r.useDeleteMessagingTemplateByIdMutation,p=r.usePatchMessagingTemplateByIdMutation},34038:function(e,t,n){n.d(t,{Bw:function(){return r.Bw},D4:function(){return r.D4}});var r=n(32764)},80521:function(e,t,n){n.d(t,{t:function(){return C}});var r=n(24246),i=n(45487),s=n(27378);const a=(0,s.createContext)(null);var u=n(38565),o=n(96681),c=n(10010),l=n(40179);const d=(0,s.forwardRef)((function({children:e,as:t="ul",axis:n="y",onReorder:d,values:f,...g},y){const v=(0,o.h)((()=>(0,u.E)(t))),E=[],T=(0,s.useRef)(!1);(0,i.k)(Boolean(f),"Reorder.Group must be provided a values prop");const h={axis:n,registerItem:(e,t)=>{const r=E.findIndex((t=>e===t.value));-1!==r?E[r].layout=t[n]:E.push({value:e,layout:t[n]}),E.sort(m)},updateOrder:(e,t,n)=>{if(T.current)return;const r=function(e,t,n,r){if(!r)return e;const i=e.findIndex((e=>e.value===t));if(-1===i)return e;const s=r>0?1:-1,a=e[i+s];if(!a)return e;const u=e[i],o=a.layout,d=(0,l.t)(o.min,o.max,.5);return 1===s&&u.layout.max+n>d||-1===s&&u.layout.min+n<d?(0,c.uo)(e,i,i+s):e}(E,e,t,n);E!==r&&(T.current=!0,d(r.map(p).filter((e=>-1!==f.indexOf(e)))))}};return(0,s.useEffect)((()=>{T.current=!1})),(0,r.jsx)(v,{...g,ref:y,ignoreStrict:!0,children:(0,r.jsx)(a.Provider,{value:h,children:e})})}));function p(e){return e.value}function m(e,t){return e.layout.min-t.layout.min}var f=n(33234),g=n(16014);function y(e){const t=(0,o.h)((()=>(0,f.BX)(e))),{isStatic:n}=(0,s.useContext)(g._);if(n){const[,n]=(0,s.useState)(e);(0,s.useEffect)((()=>t.on("change",n)),[])}return t}var v=n(71884);var E=n(58868),T=n(26166);function h(e,t){const n=y(t()),r=()=>n.set(t());return r(),(0,E.L)((()=>{const t=()=>T.Wi.preRender(r,!1,!0),n=e.map((e=>e.on("change",t)));return()=>{n.forEach((e=>e())),(0,T.Pn)(r)}})),n}function x(e,t,n,r){if("function"===typeof e)return function(e){f.S1.current=[],e();const t=h(f.S1.current,e);return f.S1.current=void 0,t}(e);const i="function"===typeof t?t:function(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],a=e[3+n],u=(0,v.s)(i,s,{mixer:(o=s[0],(e=>e&&"object"===typeof e&&e.mix)(o)?o.mix:void 0),...a});var o;return t?u(r):u}(t,n,r);return Array.isArray(e)?_(e,i):_([e],(([e])=>i(e)))}function _(e,t){const n=(0,o.h)((()=>[]));return h(e,(()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)}))}var b=n(40406);function I(e,t=0){return(0,b.i)(e)?e:y(t)}const C={Group:d,Item:(0,s.forwardRef)((function({children:e,style:t={},value:n,as:c="li",onDrag:l,layout:d=!0,...p},m){const f=(0,o.h)((()=>(0,u.E)(c))),g=(0,s.useContext)(a),y={x:I(t.x),y:I(t.y)},v=x([y.x,y.y],(([e,t])=>e||t?1:"unset"));(0,i.k)(Boolean(g),"Reorder.Item must be a child of Reorder.Group");const{axis:E,registerItem:T,updateOrder:h}=g;return(0,r.jsx)(f,{drag:E,...p,dragSnapToOrigin:!0,style:{...t,x:y.x,y:y.y,zIndex:v},layout:d,onDrag:(e,t)=>{const{velocity:r}=t;r[E]&&h(n,y[E].get(),r[E]),l&&l(e,t)},onLayoutMeasure:e=>T(n,e),ref:m,ignoreStrict:!0,children:e})}))}},60153:function(e,t,n){n.d(t,{o:function(){return a}});var r=n(96681);class i{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,t){this.componentControls.forEach((n=>{n.start(e.nativeEvent||e,t)}))}}const s=()=>new i;function a(){return(0,r.h)(s)}},15963:function(e,t,n){function r(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.d(t,{Z:function(){return r}})},76649:function(e,t,n){n.d(t,{Ln:function(){return r},uX:function(){return a}});const r=(e,t)=>s(e,t),i=Symbol("SOME"),s=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>s(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>s(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>s(t,n[e])))},a=e=>t=>r(e,t);class u{static narrow(e){return new u((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof u?e.NF:e instanceof Function?e:t=>r(e,t);return new u((e=>t(e)&&n(e)))}}new u((e=>!0))}}]);