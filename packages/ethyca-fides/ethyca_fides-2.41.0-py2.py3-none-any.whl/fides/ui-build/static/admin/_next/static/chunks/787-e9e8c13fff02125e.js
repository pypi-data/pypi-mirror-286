"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{1496:function(n,e,t){t.d(e,{Z:function(){return g}});var r=t(85034),i=t(70169),o=t(24246),a=t(83265),u=t(88038),s=t.n(u),l=t(86677),c=(t(27378),t(67447)),d=t(63076),f=t(93677),v=function(){var n=(0,l.useRouter)();return(0,o.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,o.jsxs)(a.xuv,{children:[(0,o.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,o.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,o.jsx)(a.zxk,{size:"sm",variant:"outline",onClick:function(){n.push(f.fz)},children:"Configure"})]}),(0,o.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=function(n){var e=n.children,t=n.title,u=n.padded,f=void 0===u||u,g=n.mainProps,p=(0,c.hz)(),x=(0,l.useRouter)(),m="/privacy-requests"===x.pathname||"/datastore-connection"===x.pathname,b=!(p.flags.privacyRequestsConfiguration&&m),h=(0,d.JE)(void 0,{skip:b}).data,j=(0,d.PW)(void 0,{skip:b}).data,y=p.flags.privacyRequestsConfiguration&&(!h||!j)&&m;return(0,o.jsxs)(a.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,o.jsxs)(s(),{children:[(0,o.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,o.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)(a.kCb,(0,i.Z)((0,r.Z)({as:"main",direction:"column",py:f?6:0,px:f?10:0,h:f?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},g),{children:[y?(0,o.jsx)(v,{}):null,e]}))]})}},76839:function(n,e,t){var r=t(15963),i=t(85034),o=t(70169),a=t(3204),u=t(24246),s=t(69883),l=t(83265),c=t(60153),d=t(80521),f=t(38565),v=t(27378),g=t(56071),p=t(12934),x=function(n){var e=n.item,t=n.label,r=n.draggable,i=n.onDeleteItem,o=n.onRowClick,a=n.maxH,s=void 0===a?10:a,f=n.rowTestId,v=(0,c.o)();return(0,u.jsx)(d.t.Item,{value:e,dragListener:!1,dragControls:v,children:(0,u.jsxs)(l.kCb,{direction:"row",gap:2,maxH:s,w:"full",px:2,align:"center",role:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:o?{bgColor:"gray.100"}:void 0,bgColor:"white",children:[r?(0,u.jsx)(l.VVU,{onPointerDown:function(n){return v.start(n)},cursor:"grab"}):null,(0,u.jsx)(l.kCb,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:o?"pointer":"auto",onClick:function(){o&&o(e)},overflow:"clip","data-testid":f,children:(0,u.jsx)(l.xvT,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:t})}),i?(0,u.jsx)(l.hU,{"aria-label":"Delete",onClick:function(){return i(e)},icon:(0,u.jsx)(l.pJl,{}),size:"xs",variant:"outline",bgColor:"white",visibility:"hidden",alignSelf:"end",mb:2,_groupHover:{visibility:"visible"}}):null]})})},m=function(n){var e=n.label,t=n.options,r=n.onOptionSelected,i=n.baseTestId,o=(0,v.useState)(!1),a=o[0],c=o[1],d=(0,v.useState)(void 0),f=d[0],p=d[1];return a?(0,u.jsx)(l.xuv,{w:"full","data-testid":"select-".concat(i),children:(0,u.jsx)(s.Z,{chakraStyles:g.hP,size:"sm",value:f,options:t,onChange:function(n){return r(n),c(!1),void p(void 0)},autoFocus:!0,menuPosition:"fixed",menuPlacement:"auto",classNamePrefix:"select-".concat(i)})}):(0,u.jsx)(l.zxk,{onClick:function(){return c(!0)},w:"full",size:"sm",variant:"outline",rightIcon:(0,u.jsx)(l.jBn,{boxSize:4}),"data-testid":"add-".concat(i),children:e})};e.Z=function(n){var e=n.label,t=n.tooltip,s=n.draggable,c=n.addButtonLabel,v=n.allItems,b=n.idField,h=n.nameField,j=void 0===h?b:h,y=n.values,w=n.setValues,C=n.canDeleteItem,k=n.onRowClick,S=n.selectOnAdd,Z=n.getItemLabel,A=n.createNewValue,I=n.maxHeight,L=void 0===I?36:I,R=n.baseTestId,_=function(n){return(0,r.Z)(n,Object)&&b&&b in n?n[b]:n},O=v.every((function(n){return"string"===typeof n}))?v.filter((function(n){return y.every((function(e){return e!==n}))})):v.filter((function(n){return y.every((function(e){return _(e)!==_(n)}))})),P=function(n){w(y.filter((function(e){return e!==n})).slice())},z=null!==Z&&void 0!==Z?Z:function(n){return(0,r.Z)(n,Object)&&b&&b in n?j&&j in n?n[j]:n[b]:n},D=function(n){var e=(0,r.Z)(n,Object)&&b&&b in n?n[b]:n;return{label:z(n),value:e}},T=function(n){var e=A?A(n):function(n){return v.every((function(n){return"string"===typeof n}))?n.value:v.find((function(e){return e[b]===n.value}))}(n);w([e].concat((0,a.Z)(y.slice()))),S&&k&&k(e)},V={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},E=s?(0,u.jsx)(l.xuv,(0,o.Z)((0,i.Z)({as:f.E.div,layoutScroll:!0},V),{children:(0,u.jsx)(d.t.Group,{values:y,onReorder:function(n){return w(n.slice())},children:y.map((function(n){var e=_(n);return(0,u.jsx)(x,{item:n,label:z(n),onDeleteItem:!C||C&&C(n)?P:void 0,onRowClick:k,draggable:!0,maxH:L,rowTestId:"".concat(R,"-row-").concat(e)},e)}))})})):(0,u.jsx)(l.xuv,(0,o.Z)((0,i.Z)({},V),{children:(0,u.jsx)(l.aVo,{children:y.map((function(n){var e=_(n);return(0,u.jsx)(x,{item:n,label:z(n),onRowClick:k,onDeleteItem:P,maxH:L,rowTestId:"".concat(R,"-row-").concat(e)},e)}))})}));return y.length?(0,u.jsxs)(l.kCb,{align:"start",direction:"column",w:"full",gap:4,children:[e?(0,u.jsx)(g.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:e}):null,t?(0,u.jsx)(p.Z,{label:t}):null,E,O.length?(0,u.jsx)(m,{label:null!==c&&void 0!==c?c:"Add new",options:O.map((function(n){return D(n)})),onOptionSelected:T,baseTestId:R}):null]}):(0,u.jsx)(m,{label:null!==c&&void 0!==c?c:"Add new",options:O.map((function(n){return D(n)})),onOptionSelected:T,baseTestId:R})}},32556:function(n,e,t){t.d(e,{D4:function(){return i.D4},MM:function(){return v},Ot:function(){return s},c6:function(){return c},cj:function(){return p},e$:function(){return a},fn:function(){return u},iC:function(){return g},nU:function(){return f},tB:function(){return l}});var r=t(17599),i=t(32764),o="An unexpected error occurred. Please try again.",a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,i.Bw)(n)){if((0,i.hE)(n.data))return n.data.detail;if((0,i.cz)(n.data)){var t,r=null===(t=n.data.detail)||void 0===t?void 0:t[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===n.status&&(0,i.Dy)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")");if(404===n.status&&(0,i.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return e};function u(n){return"object"===typeof n&&null!=n&&"status"in n}function s(n){return"object"===typeof n&&null!=n&&"data"in n&&"string"===typeof n.data.detail}function l(n){return"object"===typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}var c,d,f=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,i.oK)(n))return{status:n.originalStatus,message:n.data};if((0,i.Bw)(n)){var t=n.status;return{status:t,message:a(n,e.message)}}return e},v=function(n){return Object.entries(n).map((function(n){return{value:n[1],label:n[1]}}))};!function(n){n.GVL="gvl",n.AC="gacp",n.COMPASS="compass"}(c||(c={}));var g=(d={},(0,r.Z)(d,c.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(d,c.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(d,c.COMPASS,{label:"",fullName:""}),d),p=function(n){var e=n.split(".")[0];return e===c.AC?c.AC:e===c.GVL?c.GVL:c.COMPASS}},61186:function(n,e,t){t.d(e,{MA:function(){return s},Vo:function(){return c},t5:function(){return l}});var r=t(85034),i=t(24246),o=t(83265),a=function(n){var e=n.children;return(0,i.jsxs)(o.xvT,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",e]})},u=function(n){var e=n.children;return(0,i.jsxs)(o.xvT,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",e]})},s={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(n){var e=(0,i.jsx)(a,{children:n});return(0,r.Z)({},s,{description:e})},c=function(n){var e=(0,i.jsx)(u,{children:n});return(0,r.Z)({},s,{description:e,status:"error"})}},32764:function(n,e,t){t.d(e,{Bw:function(){return a},D4:function(){return i},Dy:function(){return s},XD:function(){return l},cz:function(){return c},hE:function(){return u},oK:function(){return o}});var r=t(76649),i=function(n){return"error"in n},o=function(n){return(0,r.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status},a=function(n){return(0,r.Ln)({status:"number",data:{}},n)},u=function(n){return(0,r.Ln)({detail:"string"},n)},s=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},l=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},c=function(n){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}}}]);