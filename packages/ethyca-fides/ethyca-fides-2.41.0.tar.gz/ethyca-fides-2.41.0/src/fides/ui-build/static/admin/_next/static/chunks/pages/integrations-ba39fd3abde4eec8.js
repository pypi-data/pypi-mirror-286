(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return e(58776)}])},32556:function(n,t,e){"use strict";e.d(t,{D4:function(){return r.D4},MM:function(){return g},Ot:function(){return s},c6:function(){return l},cj:function(){return v},e$:function(){return a},fn:function(){return u},iC:function(){return p},nU:function(){return f},tB:function(){return c}});var i=e(17599),r=e(32764),o="An unexpected error occurred. Please try again.",a=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,r.Bw)(n)){if((0,r.hE)(n.data))return n.data.detail;if((0,r.cz)(n.data)){var e,i=null===(e=n.data.detail)||void 0===e?void 0:e[0];return"".concat(null===i||void 0===i?void 0:i.msg,": ").concat(null===i||void 0===i?void 0:i.loc)}if(409===n.status&&(0,r.Dy)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")");if(404===n.status&&(0,r.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return t};function u(n){return"object"===typeof n&&null!=n&&"status"in n}function s(n){return"object"===typeof n&&null!=n&&"data"in n&&"string"===typeof n.data.detail}function c(n){return"object"===typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}var l,d,f=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,r.oK)(n))return{status:n.originalStatus,message:n.data};if((0,r.Bw)(n)){var e=n.status;return{status:e,message:a(n,t.message)}}return t},g=function(n){return Object.entries(n).map((function(n){return{value:n[1],label:n[1]}}))};!function(n){n.GVL="gvl",n.AC="gacp",n.COMPASS="compass"}(l||(l={}));var p=(d={},(0,i.Z)(d,l.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(d,l.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,i.Z)(d,l.COMPASS,{label:"",fullName:""}),d),v=function(n){var t=n.split(".")[0];return t===l.AC?l.AC:t===l.GVL?l.GVL:l.COMPASS}},58776:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return L}});var i,r=e(24246),o=e(83265),a=e(27378),u=e(83834),s=e(45358),c=e(1496),l=e(1977),d=e(83403),f=e(30737),g=e(35208),p=function(n){var t=n.integrationType,e=n.onConfigure,i=n.onCancel;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{integration:null===t||void 0===t?void 0:t.placeholder,onConfigureClick:e}),null===t||void 0===t?void 0:t.overview,(0,r.jsxs)(o.kCb,{children:[(0,r.jsx)(o.LZC,{}),(0,r.jsx)(o.zxk,{variant:"outline",onClick:i,size:"sm",children:"Cancel"})]})]})},v=e(26585);!function(n){n.ALL="All",n.DATABASE="Database",n.DATA_WAREHOUSE="Data Warehouse"}(i||(i={}));var x,h=function(n){var t,e=Object.values(i),r=(0,a.useState)(0),o=r[0],u=r[1],s=e[o],c=(0,a.useState)(!1),l=c[0],d=c[1],f=s!==i.ALL,g=null!==(t=null===n||void 0===n?void 0:n.filter((function(n){return!f||n.category===s})))&&void 0!==t?t:[];return{tabs:e,tabIndex:o,anyFiltersApplied:f,isFiltering:l,onChangeFilter:function(n){d(!0),u(n),setTimeout((function(){return d(!1)}),100)},filteredTypes:g}},C=function(n){var t=n.onCancel,e=n.onDetailClick,i=n.onConfigureClick,a=h(v.FO),c=a.tabIndex,l=a.onChangeFilter,d=a.isFiltering,f=a.filteredTypes,p=a.tabs;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.mQc,{index:c,onChange:l,mb:4,children:(0,r.jsx)(o.tdY,{children:p.map((function(n){return(0,r.jsx)(u.q,{label:n},n)}))})}),d?(0,r.jsx)(s.Z,{}):(0,r.jsx)(o.kCb,{direction:"column",children:f.map((function(n){return(0,r.jsx)(g.Z,{integration:n.placeholder,onConfigureClick:function(){return i(n)},otherButtons:(0,r.jsx)(o.zxk,{onClick:function(){return e(n)},variant:"outline",children:"Details"})},n.placeholder.key)}))}),(0,r.jsxs)(o.kCb,{children:[(0,r.jsx)(o.LZC,{}),(0,r.jsx)(o.zxk,{variant:"outline",onClick:t,size:"sm",children:"Cancel"})]})]})},m=e(23623);!function(n){n.LIST_VIEW="list-view",n.DETAIL="detail",n.FORM="form"}(x||(x={}));var y=function(n){var t=n.isOpen,e=n.onClose,i=(0,a.useState)(x.LIST_VIEW),o=i[0],u=i[1],s=(0,a.useState)(),c=s[0],l=s[1],g=(0,m.Z)(null===c||void 0===c?void 0:c.placeholder.connection_type),v=function(){u(x.LIST_VIEW),l(void 0),e()},h=c?"".concat(c.placeholder.name," Integration"):"Add integration";return(0,r.jsxs)(d.Z,{isOpen:t,onClose:v,title:h,children:[o===x.LIST_VIEW&&(0,r.jsx)(C,{onCancel:v,onDetailClick:function(n){u(x.DETAIL),l(n)},onConfigureClick:function(n){u(x.FORM),l(n)}}),o===x.DETAIL&&(0,r.jsx)(p,{integrationType:c,onConfigure:function(){return u(x.FORM)},onCancel:v}),o===x.FORM&&(0,r.jsx)(f.Z,{connectionOption:g,onCancel:v})]})},j=e(86677),b=e(93677),A=function(n){var t=n.isFiltered,e=n.onOpenAddModal;return(0,r.jsxs)(o.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,r.jsx)(o.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,r.jsx)(o.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:t?"No integrations match your filters":"You have not configured any integrations"}),(0,r.jsx)(o.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,r.jsx)(o.zxk,{variant:"primary",size:"sm",marginTop:"16px",onClick:e,children:"Add integration"})]})},k=function(n){var t=n.integrations,e=n.isFiltered,i=n.onOpenAddModal,a=(0,j.useRouter)();return(0,r.jsx)(o.xuv,{marginTop:"24px",children:t.length?t.map((function(n){return(0,r.jsx)(g.Z,{integration:n,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:function(){return a.push("".concat(b.KH,"/").concat(n.key))}},n.key)})):(0,r.jsx)(A,{onOpenAddModal:i,isFiltered:e})})},L=function(){var n,t,e=(0,l.AZ)({connection_type:v.jq}),i=e.data,a=e.isLoading,d=(0,o.qY0)(),f=d.onOpen,g=d.isOpen,p=d.onClose,x=h(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.map((function(n){return(0,v.ZP)(n.connection_type)}))),C=x.tabIndex,m=x.onChangeFilter,j=x.anyFiltersApplied,b=x.isFiltering,A=x.filteredTypes,L=x.tabs,_=null!==(t=null===i||void 0===i?void 0:i.items.filter((function(n){return A.some((function(t){return t.placeholder.connection_type===n.connection_type}))})))&&void 0!==t?t:[];return(0,r.jsxs)(c.Z,{title:"Integrations",children:[(0,r.jsx)(o.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Integrations"}),(0,r.jsxs)(o.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,r.jsx)(o.mQc,{index:C,onChange:m,w:"full",children:(0,r.jsx)(o.tdY,{children:L.map((function(n){return(0,r.jsx)(u.q,{label:n},n)}))})}),(0,r.jsx)(o.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,r.jsxs)(o.zxk,{size:"sm",variant:"outline",onClick:f,"data-testid":"add-integration-btn",children:["Add Integration",(0,r.jsx)(o.xPt,{marginLeft:"8px"})]})})]}),a||b?(0,r.jsx)(s.Z,{}):(0,r.jsx)(k,{integrations:_,onOpenAddModal:f,isFiltered:j}),(0,r.jsx)(y,{isOpen:g,onClose:p})]})}},32764:function(n,t,e){"use strict";e.d(t,{Bw:function(){return a},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return l},hE:function(){return u},oK:function(){return o}});var i=e(76649),r=function(n){return"error"in n},o=function(n){return(0,i.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status},a=function(n){return(0,i.Ln)({status:"number",data:{}},n)},u=function(n){return(0,i.Ln)({detail:"string"},n)},s=function(n){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},c=function(n){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},l=function(n){return(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}},76649:function(n,t,e){"use strict";e.d(t,{Ln:function(){return i},uX:function(){return a}});const i=(n,t)=>o(n,t),r=Symbol("SOME"),o=(n,t)=>{if("string"==typeof n)return n===typeof t;if(Array.isArray(n))return r in n?n.some((n=>o(n,t))):!!Array.isArray(t)&&(0===n.length||t.every((t=>n.some((n=>o(n,t))))));if("object"!=typeof t||null===t)return!1;const e=t;return Object.entries(n).every((([n,t])=>o(t,e[n])))},a=n=>t=>i(n,t);class u{static narrow(n){return new u((t=>i(n,t)))}constructor(n){this.NF=void 0,this.NF=n}satisfied(n){return this.NF(n)}build(n){return n}and(n){const t=this.NF,e=n instanceof u?n.NF:n instanceof Function?n:t=>i(n,t);return new u((n=>t(n)&&e(n)))}}new u((n=>!0))}},function(n){n.O(0,[8886,9774,2888,179],(function(){return t=9387,n(n.s=t);var t}));var t=n.O();_N_E=t}]);