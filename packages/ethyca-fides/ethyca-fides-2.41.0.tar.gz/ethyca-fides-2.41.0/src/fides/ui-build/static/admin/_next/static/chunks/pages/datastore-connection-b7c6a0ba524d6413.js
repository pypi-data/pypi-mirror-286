(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{98720:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection",function(){return i(23949)}])},66197:function(e,n,i){"use strict";var t=i(85034),o=i(31373),r=i(24246),s=i(83265);n.Z=function(e){var n=e.connected,i=(0,o.Z)(e,["connected"]),c="red.500";return null==n?c="gray.300":n&&(c="green.500"),(0,r.jsx)(s.xuv,(0,t.Z)({width:"12px",height:"12px",borderRadius:"6px",backgroundColor:c},i))}},1496:function(e,n,i){"use strict";i.d(n,{Z:function(){return f}});var t=i(85034),o=i(70169),r=i(24246),s=i(83265),c=i(88038),a=i.n(c),l=i(86677),d=(i(27378),i(67447)),u=i(63076),x=i(93677),h=function(){var e=(0,l.useRouter)();return(0,r.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(s.xuv,{children:[(0,r.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(s.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(x.fz)},children:"Configure"})]}),(0,r.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=function(e){var n=e.children,i=e.title,c=e.padded,x=void 0===c||c,f=e.mainProps,p=(0,d.hz)(),g=(0,l.useRouter)(),m="/privacy-requests"===g.pathname||"/datastore-connection"===g.pathname,v=!(p.flags.privacyRequestsConfiguration&&m),j=(0,u.JE)(void 0,{skip:v}).data,y=(0,u.PW)(void 0,{skip:v}).data,b=p.flags.privacyRequestsConfiguration&&(!j||!y)&&m;return(0,r.jsxs)(s.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(s.kCb,(0,o.Z)((0,t.Z)({as:"main",direction:"column",py:x?6:0,px:x?10:0,h:x?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},f),{children:[b?(0,r.jsx)(h,{}):null,n]}))]})}},83807:function(e,n,i){"use strict";var t=i(52050),o=i(3204),r=i(24246),s=i(83265),c=i(27378);n.Z=function(e){var n=e.defaultValues,i=e.items,a=e.onSelection,l=(0,c.useState)(i),d=l[0],u=l[1],x=function(){a(d)};return(0,r.jsxs)(s.qyq,{lineHeight:"1rem",pt:"0",children:[(0,r.jsxs)(s.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:[(0,r.jsx)(s.zxk,{onClick:function(){u(i),a(new Map)},size:"xs",variant:"outline",children:"Clear"}),(0,r.jsx)(s.LZC,{}),(0,r.jsx)(s.zxk,{backgroundColor:"primary.800",color:"white",onClick:x,size:"xs",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Done"})]}),(0,r.jsx)(s.xuv,{maxH:"360px",overflow:"auto",children:(0,r.jsx)(s.cOn,{colorScheme:"purple",defaultValue:n,onChange:function(e){var n=new Map(d);n.forEach((function(e,i){n.set(i,!1)})),e.forEach((function(e){n.set(e,!0)})),u(n)},children:(0,o.Z)(i).sort().map((function(e){var n=(0,t.Z)(e,1)[0];return(0,r.jsx)(s.sNh,{p:0,onKeyPress:function(e){" "===e.key&&e.currentTarget.getElementsByTagName("input")[0].click(),"Enter"===e.key&&x()},children:(0,r.jsx)(s.XZJ,{isChecked:i.get(n),spacing:2,value:n,width:"100%",fontSize:"0.75rem",paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",onClick:function(e){return e.stopPropagation()},children:n})},n)}))})})]})}},28953:function(e,n,i){"use strict";var t=i(85034),o=i(70169),r=i(52050),s=i(3204),c=i(24246),a=i(83265),l=i(27378);n.Z=function(e){var n,i=e.disabled,d=void 0!==i&&i,u=e.enableSorting,x=void 0===u||u,h=e.hasClear,f=void 0===h||h,p=e.label,g=e.list,m=e.menuButtonProps,v=e.onChange,j=e.selectedValue,y=(0,l.useState)(!1),b=y[0],C=y[1],k=function(){C(!1)},w=null===(n=(0,s.Z)(g).find((function(e){return(0,r.Z)(e,2)[1].value===j})))||void 0===n?void 0:n[0];return(0,c.jsxs)(a.v2r,{isLazy:!0,onClose:k,onOpen:function(){C(!0)},strategy:"fixed",children:[(0,c.jsx)(a.j2t,(0,o.Z)((0,t.Z)({"aria-label":null!==w&&void 0!==w?w:p,as:a.zxk,color:w?"complimentary.500":void 0,disabled:d,fontWeight:"normal",rightIcon:(0,c.jsx)(a.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"}},m),{"data-testid":"select-dropdown-btn",children:(0,c.jsx)(a.xvT,{noOfLines:1,wordBreak:"break-all",children:null!==w&&void 0!==w?w:p})})),b?(0,c.jsxs)(a.qyq,{lineHeight:"1rem",p:"0","data-testid":"select-dropdown-list",children:[f&&(0,c.jsx)(a.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:(0,c.jsx)(a.zxk,{onClick:function(){v(void 0),k()},size:"xs",variant:"outline",children:"Clear"})}),(x?(0,s.Z)(g).sort():(0,s.Z)(g)).map((function(e){var n=(0,r.Z)(e,2),i=n[0],t=n[1];return(0,c.jsx)(a.ua7,{"aria-label":t.toolTip,hasArrow:!0,label:t.toolTip,placement:"auto-start",openDelay:500,shouldWrapChildren:!0,children:(0,c.jsx)(a.sNh,{color:j===t.value?"complimentary.500":void 0,isDisabled:t.isDisabled,onClick:function(){return v(t.value)},paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,c.jsx)(a.xvT,{fontSize:"0.75rem",children:i})})},i)}))]}):null]})}},3194:function(e,n,i){"use strict";i.d(n,{Z:function(){return h}});var t=i(85034),o=i(31373),r=i(52050),s=i(3204),c=i(24246),a=i(83265),l=(i(27378),i(10439)),d=i(42952),u=function(e){return void 0!==e.connection_type},x=function(e){return void 0!==e.encoded_icon},h=function(e){var n=e.data,i=(0,o.Z)(e,["data"]);return(0,c.jsx)(a.Eep,(0,t.Z)({boxSize:"32px",objectFit:"cover",src:function(){if(x(n)&&n.encoded_icon)return"data:image/svg+xml;base64,".concat(n.encoded_icon);var e;if(u(n))e=(0,s.Z)(d.iW).find((function(e){var i,t,o=(0,r.Z)(e,1)[0];return n.connection_type.toString()!==l.Rj.SAAS&&n.connection_type.toString()===o||n.connection_type.toString()===l.Rj.SAAS&&(null===(i=n.saas_config)||void 0===i||null===(t=i.type)||void 0===t?void 0:t.toString())===o.toString()}));else if(x(n)){var i=n.identifier;e=(0,s.Z)(d.iW).find((function(e){return(0,r.Z)(e,1)[0].toLowerCase()===i.toLowerCase()}))}return e?d.Ny+e[1]:d.VD}(),fallbackSrc:d.VD,alt:function(){var e;return u(n)?null!==(e=n.name)&&void 0!==e?e:n.key:x(n)?n.human_readable:n}()},i))}},1268:function(e,n,i){"use strict";var t=i(24246),o=(i(27378),i(1496));n.Z=function(e){var n=e.children;return(0,t.jsx)(o.Z,{title:"Connections",children:n})}},99537:function(e,n,i){"use strict";var t=i(23842),o=i(52050),r=i(85556),s=i(24246),c=i(83265),a=(i(27378),i(1977));n.Z=function(e){var n=e.connection_key,i=e.disabled,l=e.name,d=e.access_type,u=e.connection_type,x=e.isSwitch,h=(0,c.qY0)(),f=h.isOpen,p=h.onOpen,g=h.onClose,m=(0,o.Z)((0,a.XX)(),2),v=m[0],j=m[1],y=function(){var e=(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,v({key:n,name:l,disabled:!i,access:d,connection_type:u})];case 1:return e.sent(),g(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),b=function(){j.isLoading||g()};return(0,s.jsxs)(s.Fragment,{children:[x?(0,s.jsxs)(c.kCb,{justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)(c.xvT,{fontSize:"sm",children:"Enable integration"}),(0,s.jsx)(c.rsf,{marginLeft:"8px",colorScheme:"complimentary",isChecked:!i,onChange:p})]}):(0,s.jsx)(c.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:p,children:(0,s.jsx)(c.xvT,{fontSize:"sm",children:i?"Enable":"Disable"})}),(0,s.jsxs)(c.u_l,{isCentered:!0,isOpen:f,onClose:b,children:[(0,s.jsx)(c.ZAr,{}),(0,s.jsxs)(c.hzk,{children:[(0,s.jsxs)(c.xBx,{children:[i?"Enable":"Disable"," Connection"]}),(0,s.jsx)(c.olH,{}),(0,s.jsx)(c.fef,{pb:6,children:(0,s.jsx)(c.Kqy,{direction:"column",spacing:"15px",children:(0,s.jsxs)(c.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:[i?"Enabling":"Disabling"," a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"]})})}),(0,s.jsxs)(c.mzw,{children:[(0,s.jsx)(c.zxk,{onClick:b,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,s.jsxs)(c.zxk,{onClick:y,isLoading:j.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",children:[i?"Enable":"Disable"," Connection"]})]})]})]})]})}},99301:function(e,n,i){"use strict";i.d(n,{s:function(){return c}});var t=i(24246),o=i(83265),r=i(66197),s=i(98878),c=function(e){var n=e.succeeded,i=e.timestamp,c=i?(0,s.p6)(i):"",a=i?"Last tested on ".concat(c):"This connection has not been tested yet";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{connected:n}),(0,t.jsx)(o.xvT,{color:"gray.500",fontSize:"xs",fontWeight:"semibold",lineHeight:"16px",ml:"10px",children:a})]})}},23949:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return V}});var t=i(24246),o=i(98878),r=i(83265),s=i(27378),c=i(10503),a=i(51816),l=i(85034),d=i(45007),u=i(1977),x=i(52050),h=i(3204),f=i(83807),p=function(e){var n=e.closeOnSelect,i=void 0!==n&&n,o=e.list,c=e.onChange,a=e.selectedList,l=e.label,d=e.tooltipDisabled,u=void 0!==d&&d,p=e.tooltipPlacement,g=void 0===p?"auto":p,m=e.width,v=new Map(o),j=(0,s.useState)(!1),y=j[0],b=j[1],C=function(){b(!1)},k=function(){return u?l:a.size>0?(0,h.Z)(a.keys()).sort().join(", "):l};return(0,t.jsx)(r.xuv,{children:(0,t.jsx)(r.v2r,{closeOnSelect:i,isLazy:!0,onClose:C,onOpen:function(){b(!0)},strategy:"fixed",children:function(e){var n=e.onClose;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.ua7,{fontSize:".75rem",hasArrow:!0,"aria-label":"",label:k(),lineHeight:"1.25rem",isDisabled:u||!(a.size>0),placement:g,children:(0,t.jsxs)(r.j2t,{"aria-label":k(),as:r.zxk,fontWeight:"normal",rightIcon:(0,t.jsx)(r.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"},children:[!u&&(0,t.jsx)(r.xvT,{display:"inline-block",noOfLines:1,wordBreak:"break-all",width:m,children:k()}),u&&(0,t.jsxs)(r.Ugi,{children:[(0,t.jsx)(r.xvT,{children:k()}),a.size>0&&(0,t.jsx)(r.xvT,{color:"complimentary.500",children:a.size})]})]})}),y&&(0,t.jsx)(f.Z,{defaultValues:(0,h.Z)(a.keys()),items:v,onSelection:function(e){!function(e){var n=new Map((0,h.Z)(e).filter((function(e){return!0===(0,x.Z)(e,2)[1]})));c((0,h.Z)(n.keys())),C()}(e),n()}})]})}})})},g=function(e){var n=e.width,i=(0,c.C)(a.ZZ).connectionOptions,o=(0,c.C)(u.dR).connection_type,r=(0,s.useCallback)((function(){var e=new Map;return i.forEach((function(n){var i=!1;(null===o||void 0===o?void 0:o.includes(n.identifier))&&(i=!0),e.set(n.human_readable,i)})),e}),[i,o]),l=(0,s.useMemo)((function(){return r()}),[r]),d=new Map((0,h.Z)(l).filter((function(e){return!0===(0,x.Z)(e,2)[1]}))),f=(0,c.T)();return(0,t.jsx)(p,{label:"Connection Type",list:l,onChange:function(e){var n=i.filter((function(n){return e.includes(n.human_readable)}));f((0,u.Iw)(n.map((function(e){return e.identifier}))))},selectedList:d,tooltipDisabled:!0,width:n})},m=i(28953),v=i(42952),j=function(e){var n=e.width,i=(0,d.v9)(u.dR).disabled_status,c=(0,s.useMemo)((function(){return function(){var e=new Map;return Object.values(v.QI).sort().forEach((function(n){e.set((0,o.kC)(n),{value:n})})),e}()}),[]),a=(0,d.I0)();return(0,t.jsx)(r.xuv,{children:(0,t.jsx)(m.Z,{label:"Status",list:c,menuButtonProps:{width:n},onChange:function(e){a((0,u.Ru)(e||""))},selectedValue:null===i||void 0===i?void 0:i.toString()})})},y=i(47938),b=function(e){var n=e.width,i=(0,d.v9)(u.dR).system_type,o=new Map(y.yI);o.delete("Show all");var s=(0,c.T)();return(0,t.jsx)(r.xuv,{children:(0,t.jsx)(m.Z,{enableSorting:!1,label:"System Type",list:o,menuButtonProps:{width:n},onChange:function(e){s((0,u.zq)(e||""))},selectedValue:null===i||void 0===i?void 0:i.toString()})})},C=function(e){var n=e.width,i=(0,d.v9)(u.dR).test_status,c=(0,s.useMemo)((function(){return function(){var e=new Map;return Object.values(v.i0).sort().forEach((function(n){e.set((0,o.kC)(n),{value:n})})),e}()}),[]),a=(0,d.I0)();return(0,t.jsx)(r.xuv,{children:(0,t.jsx)(m.Z,{label:"Testing Status",list:c,menuButtonProps:{width:n},onChange:function(e){a((0,u.Ri)(e||""))},selectedValue:null===i||void 0===i?void 0:i.toString()})})},k=function(){var e=function(){var e=(0,d.v9)(u.dR),n=(0,d.I0)();return(0,l.Z)({handleSearchChange:function(e){return n((0,u.qP)(e.target.value))}},e)}(),n=e.handleSearchChange,i=e.search;return(0,t.jsxs)(r.kCb,{minWidth:"fit-content",alignItems:"center",gap:"4",mb:6,flexWrap:"wrap",children:[(0,t.jsxs)(r.BZy,{size:"sm",minWidth:"308px",children:[(0,t.jsx)(r.Z8_,{pointerEvents:"none",children:(0,t.jsx)(r.PTu,{color:"gray.300",w:"17px",h:"17px"})}),(0,t.jsx)(r.IIB,{autoComplete:"off",autoFocus:!0,type:"search",minWidth:200,placeholder:"Search connection name or description",size:"sm",borderRadius:"md",value:i,name:"search",onChange:n})]}),(0,t.jsx)(g,{}),(0,t.jsx)(b,{}),(0,t.jsx)(C,{}),(0,t.jsx)(j,{})]})},w=i(70169),_=function(e){var n=e.page,i=e.size,o=e.total,s=e.handleNextPage,c=e.handlePreviousPage,a=(n-1)*i+1,l=Math.min(o,n*i);return(0,t.jsxs)(r.kCb,{justifyContent:"space-between",mt:6,children:[(0,t.jsx)(r.xvT,{fontSize:"xs",color:"gray.600",children:o>0?(0,t.jsxs)(t.Fragment,{children:["Showing ",Number.isNaN(a)?0:a," to"," ",Number.isNaN(l)?0:l," of"," ",Number.isNaN(o)?0:o," results"]}):"0 results"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.zxk,{isDisabled:n<=1,onClick:c,mr:2,size:"sm",children:"Previous"}),(0,t.jsx)(r.zxk,{isDisabled:n*i>=o,onClick:s,size:"sm",children:"Next"})]})]})},z=i(35851),Z=i.n(z),S=i(79894),T=i.n(S),P=i(93677),N=function(e){var n=e.connection_key,i=(0,r.qY0)(),o=i.isOpen,s=i.onOpen,c=i.onClose,a=(0,x.Z)((0,u.R5)(),2),l=a[0],d=a[1],h=function(){d.isLoading||c()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:s,children:(0,t.jsx)(r.xvT,{fontSize:"sm",children:"Delete"})}),(0,t.jsxs)(r.u_l,{isCentered:!0,isOpen:o,onClose:h,children:[(0,t.jsx)(r.ZAr,{}),(0,t.jsxs)(r.hzk,{children:[(0,t.jsx)(r.xBx,{children:"Delete Connection"}),(0,t.jsx)(r.olH,{}),(0,t.jsx)(r.fef,{pb:6,children:(0,t.jsx)(r.Kqy,{direction:"column",spacing:"15px",children:(0,t.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:"Deleting a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"})})}),(0,t.jsxs)(r.mzw,{children:[(0,t.jsx)(r.zxk,{onClick:h,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,t.jsx)(r.zxk,{onClick:function(){n&&l(n)},isLoading:d.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",_loading:{opacity:1,div:{opacity:.4}},_hover:{bg:"gray.100",color:"gray.600"},children:"Delete connection"})]})]})]})]})},D=i(99537),R=function(e){var n=e.connection_key,i=e.disabled,o=e.connection_type,s=e.access_type,c=e.name;return(0,t.jsxs)(r.v2r,{children:[(0,t.jsx)(r.j2t,{as:r.zxk,size:"xs",bg:"white","data-testid":"connection-menu-btn",children:(0,t.jsx)(r.nXP,{color:"gray.700",w:18,h:18})}),(0,t.jsx)(r.h_i,{children:(0,t.jsxs)(r.qyq,{fontSize:"sm",shadow:"xl","data-testid":"connection-menu-".concat(c),children:[(0,t.jsx)(T(),{href:"".concat(P.JR,"/").concat(encodeURIComponent(n)),children:(0,t.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},"data-testid":"configure-btn",children:"Configure"})}),(0,t.jsx)(D.Z,{connection_key:n,disabled:i,connection_type:o,access_type:s,name:c,isSwitch:!1}),(0,t.jsx)(N,{connection_key:n})]})})]})},E=function(e){var n=e.disabled,i=n?"gray.500":"green.500",o=n?"DISABLED":"ACTIVE";return(0,t.jsx)(r.Cts,{color:"white",bg:i,height:"18px",lineHeight:"18px",textAlign:"center",borderRadius:"2px",mr:"4px",children:o})},L=i(3194),I=i(99301),O=function(e){var n,i=e.connectionData,l=(0,x.Z)((0,u.h2)(),2),d=l[0],h=l[1],f=(0,c.C)(a.ZZ).connectionOptions,p=(0,s.useMemo)((function(){return f.find((function(e){return e.identifier===i.connection_type||i.saas_config&&e.identifier===i.saas_config.type}))||"ethyca"}),[i,f]);return(0,t.jsxs)(r.xuv,{width:"100%",height:136,p:"18px 16px 16px 16px","data-testid":"connection-grid-item-".concat(i.name),children:[(0,t.jsxs)(r.kCb,{justifyContent:"center",alignItems:"center",children:[(0,t.jsx)(L.Z,{data:p}),(0,t.jsx)(r.xvT,{color:"gray.900",fontSize:"md",fontWeight:"medium",m:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:i.name}),(0,t.jsx)(r.LZC,{}),(0,t.jsx)(E,{disabled:!!i.disabled}),(0,t.jsx)(R,{connection_key:i.key,disabled:!!i.disabled,name:null!==(n=i.name)&&void 0!==n?n:i.key,connection_type:i.connection_type,access_type:i.access})]}),(0,t.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:i.description?i.description:(0,t.jsx)("br",{})}),(0,t.jsxs)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:["Edited on ",(0,o.p6)(i.updated_at)]}),(0,t.jsxs)(r.kCb,{mt:"0px",justifyContent:"center",alignItems:"center",children:[(0,t.jsx)(I.s,{succeeded:i.last_test_succeeded,timestamp:i.last_test_timestamp||""}),(0,t.jsx)(r.LZC,{}),(0,t.jsx)(r.zxk,{size:"xs",variant:"outline",onClick:function(){d(i.key)},loadingText:"Test",isLoading:h.isLoading||h.isFetching,spinnerPlacement:"end",children:"Test"})]})]})},W=function(e){var n=e.items,i=void 0===n?[]:n,o=e.total,s=void 0===o?0:o,a=function(){var e=(0,d.I0)(),n=(0,c.C)(u.dR);return(0,w.Z)((0,l.Z)({},n),{handleNextPage:function(){e((0,u.YA)(n.page+1))},handlePreviousPage:function(){e((0,u.YA)(n.page-1))}})}(),x=a.page,h=a.size,f=a.handleNextPage,p=a.handlePreviousPage,g=(0,r.yo_)(i,3);return(0,t.jsxs)(t.Fragment,{children:[g.map((function(e,n,i){var o=i.length;return(0,t.jsx)(r.xuv,{className:Z()["grid-row"],borderBottomWidth:o>1&&n===o-1&&3===e.length?"0.5px":void 0,"data-testid":"connection-grid",children:(0,t.jsx)(r.MIq,{columns:3,children:e.map((function(e){return(0,t.jsx)(r.xuv,{className:Z()["grid-item"],children:(0,t.jsx)(O,{connectionData:e})},e.key)}))})},JSON.stringify(e))})),(0,t.jsx)(_,{page:x,size:h,total:s,handleNextPage:f,handlePreviousPage:p})]})},q=function(){return(0,t.jsxs)(r.kCb,{bg:"gray.50",width:"100%",height:"340px",justifyContent:"center",alignItems:"center",flexDirection:"column","data-testid":"connections-empty-state",children:[(0,t.jsx)(r.xvT,{color:"black",fontSize:"x-large",lineHeight:"32px",fontWeight:"600",mb:"7px",children:"All of your connections have been linked!"}),(0,t.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",lineHeight:"20px",mb:"11px",children:"You are ready to upgrade Fides"})]})},B=i(67447),A=function(){return(0,t.jsx)(T(),{href:y.Ss[1].href,passHref:!0,children:(0,t.jsx)(r.zxk,{bg:"primary.800",color:"white",flexShrink:0,size:"sm",variant:"solid",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Create new connection"})})},H=function(){var e=(0,B.hz)();return(0,t.jsxs)(r.kCb,{mb:"24px",flexDirection:"column",justifyContent:"center",alignItems:"left",children:[(0,t.jsxs)(r.kCb,{children:[(0,t.jsx)(r.X6q,{marginBottom:4,fontSize:"2xl",fontWeight:"semibold",children:"Unlinked Connections"}),(0,t.jsx)(r.LZC,{}),e.flags.standaloneConnections&&(0,t.jsx)(A,{})]}),(0,t.jsx)(r.xuv,{maxWidth:"450px",children:(0,t.jsxs)(r.xvT,{fontSize:"sm",children:["Connections are now created in the"," ",(0,t.jsx)(r.rUS,{color:"complimentary.500",href:P.xo,children:"system configuration"})," ","section. You can link existing connections to a new or existing system."]})})]})},M=function(){var e,n=(0,s.useRef)(!1),i=(0,c.T)(),l=(0,c.C)(a.ZZ).connectionOptions,d=(0,c.C)(u.dR),x=(0,s.useState)(d),h=x[0],f=x[1],p=(0,s.useRef)((0,o.Ds)((function(e){return f(e)}),250)),g=(0,a.$I)({search:""},{skip:l.length>0}).data,m=(0,u.AZ)(h),v=m.data,j=m.isFetching,y=m.isLoading,b=m.isSuccess,C=(null===v||void 0===v||null===(e=v.items)||void 0===e?void 0:e.length)>0;return(0,s.useEffect)((function(){i((0,u.um)(!0))}),[i]),(0,s.useEffect)((function(){return n.current=!0,0===l.length&&(null===g||void 0===g?void 0:g.items)&&i((0,a.fP)(g.items)),p.current(d),function(){n.current=!1}}),[l.length,null===g||void 0===g?void 0:g.items,i,d]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{}),n.current&&(0,t.jsx)(k,{}),(j||y)&&(0,t.jsx)(r.M5Y,{children:(0,t.jsx)(r.$jN,{})}),n.current&&b&&(C?(0,t.jsx)(W,{items:null===v||void 0===v?void 0:v.items,total:null===v||void 0===v?void 0:v.total}):(0,t.jsx)(q,{}))]})},F=i(1268),V=function(){return(0,t.jsx)(F.Z,{children:(0,t.jsx)(M,{})})}},35851:function(e){e.exports={"grid-row":"ConnectionGrid_grid-row__pjx_I","grid-item":"ConnectionGrid_grid-item__HdQkZ"}}},function(e){e.O(0,[9774,2888,179],(function(){return n=98720,e(e.s=n);var n}));var n=e.O();_N_E=n}]);