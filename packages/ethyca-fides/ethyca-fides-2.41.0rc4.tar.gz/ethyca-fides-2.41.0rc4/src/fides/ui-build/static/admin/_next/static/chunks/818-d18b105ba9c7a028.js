"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{66081:function(e,n,t){var i=t(24246),a=t(83265);n.Z=function(e){var n=e.title,t=e.text,l=e.onClose;return(0,i.jsxs)(a.Ugi,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,pr:6,pl:3,"data-testid":"empty-state",gap:2,position:"relative",children:[l&&(0,i.jsx)(a.Two,{boxSize:5,position:"absolute",right:3,top:3,zIndex:1,cursor:"pointer",p:1,onClick:l}),(0,i.jsx)(a.iid,{alignSelf:"start",color:"blue.400",mt:.5,flexGrow:0}),(0,i.jsxs)(a.kCb,{direction:"column",gap:2,flexGrow:1,children:[(0,i.jsx)(a.X6q,{fontSize:"md",children:n}),(0,i.jsx)(a.xvT,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:t})]})]})}},91827:function(e,n,t){var i=t(24246),a=t(83265),l=t(27378);n.Z=function(e){var n=e.handleConfirm,t=e.isOpen,r=e.onClose,o=e.title,c=e.message,s=e.confirmButtonText,d=void 0===s?"Continue":s,u=e.cancelButtonText,_=void 0===u?"Cancel":u,b=(0,l.useRef)(null);return(0,i.jsx)(a.aRR,{isOpen:t,leastDestructiveRef:b,onClose:r,children:(0,i.jsx)(a.dhV,{children:(0,i.jsxs)(a._Tf,{alignItems:"center",textAlign:"center",children:[(0,i.jsx)(a.aNP,{marginTop:3}),(0,i.jsx)(a.fYl,{fontSize:"lg",fontWeight:"bold",children:o}),(0,i.jsx)(a.iPF,{pt:0,children:c}),(0,i.jsxs)(a.xoY,{children:[(0,i.jsx)(a.zxk,{ref:b,onClick:r,variant:"outline",children:_}),(0,i.jsx)(a.zxk,{colorScheme:"primary","data-testid":"warning-modal-confirm-btn",ml:3,onClick:function(){return n()},children:d})]})]})})})}},22850:function(e,n,t){t.d(n,{R:function(){return d}});var i=t(85034),a=t(70169),l=t(31373),r=t(24246),o=t(83265),c=t(79894),s=t.n(c),d=function(e){var n=e.onClick,t=(0,l.Z)(e,["onClick"]);return(0,r.jsxs)(o.kCb,(0,a.Z)((0,i.Z)({alignItems:"center",mt:-4,mb:3,onClick:n,cursor:"pointer"},t),{children:[(0,r.jsx)(o.hU,{"aria-label":"Back",icon:(0,r.jsx)(o.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,r.jsx)(o.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};n.Z=function(e){var n=e.backPath,t=(0,l.Z)(e,["backPath"]);return(0,r.jsxs)(o.kCb,(0,a.Z)((0,i.Z)({alignItems:"center",mb:6},t),{children:[(0,r.jsx)(s(),{href:n,passHref:!0,children:(0,r.jsx)(o.hU,{"aria-label":"Back",icon:(0,r.jsx)(o.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,r.jsx)(s(),{href:n,passHref:!0,children:(0,r.jsx)(o.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},27622:function(e,n,t){t.d(n,{RN:function(){return k},d0:function(){return y}});var i=t(3204),a=t(24246),l=t(83265),r=t(34090),o=t(86677),c=t(27378),s=t(10503),d=t(56071),u=t(22850),_=t(93677),b=t(46212),p=t(76839),v=t(96951),f=t(72645),m=t(60834),x=t(53658),g=t(43418),h=t(10439),j=[{label:"Banner and modal",value:h.re.BANNER_AND_MODAL},{label:"Modal",value:h.re.MODAL},{label:"Privacy center",value:h.re.PRIVACY_CENTER}],k=function(e){var n=e.buttonPanel,t=e.children;return(0,a.jsxs)(l.kCb,{direction:"column",minH:"full",w:"25%",borderRight:"1px solid #DEE5EE",children:[(0,a.jsx)(l.kCb,{direction:"column",h:"full",overflowY:"auto",px:4,children:(0,a.jsx)(l.kCb,{direction:"column",gap:4,w:"full",pb:4,children:t})}),n]})},y=function(e){var n=e.allPrivacyNotices,t=e.translationsEnabled,y=e.onSelectTranslation,C=e.onCreateTranslation,q=(0,o.useRouter)(),T=(0,c.useState)(!1),R=T[0],E=T[1],w=(0,r.u6)(),A=w.values,Z=w.setFieldValue,z=w.dirty,D=w.isValid,I=w.isSubmitting,N=(0,s.C)(x.Zp),O=(0,s.C)(x.G1);(0,x.J6)({page:N,size:O});(0,v.QM)();var P=(0,s.C)(v.P8),L=(0,i.Z)((0,f.TK)(P.locations)).concat((0,i.Z)((0,f.TK)(P.location_groups))),S=(0,s.C)(m.fJ),B=(0,s.C)(g.Zp),F=(0,s.C)(g.G1);(0,g.gz)({page:B,size:F});var V=(0,s.C)(g.YO);if(R)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.zxk,{onClick:function(){return E(!1)},children:"Back to main form"}),(0,a.jsx)(l.xvT,{children:"Editing experience style coming soon\u2122"})]});var Y,M,U,W,K=(0,a.jsxs)(l.hE2,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,a.jsx)(l.zxk,{variant:"outline",onClick:function(){return q.push(_.w0)},children:"Cancel"}),(0,a.jsx)(l.zxk,{type:"submit",colorScheme:"primary","data-testid":"save-btn",isDisabled:I||!z||!D,isLoading:I,children:"Save"})]});return(0,a.jsxs)(k,{buttonPanel:K,children:[(0,a.jsx)(u.Z,{backPath:_.w0,mt:4}),(0,a.jsx)(l.X6q,{fontSize:"md",fontWeight:"semibold",children:"Configure experience"}),(0,a.jsx)(d.j0,{name:"name",id:"name",label:"Name (internal admin use only)",isRequired:!0,variant:"stacked"}),A.component!==h.re.TCF_OVERLAY?(0,a.jsx)(d.AP,{name:"component",id:"component",options:j,label:"Experience Type",variant:"stacked",isDisabled:!!A.component,isRequired:!0}):null,(0,a.jsx)(l.UO1,{in:A.component&&A.component!==h.re.PRIVACY_CENTER,animateOpacity:!0,children:(0,a.jsx)(l.xuv,{p:"1px",children:(0,a.jsx)(d.w8,{name:"dismissable",id:"dismissable",label:"Allow user to dismiss",variant:"stacked"})})}),(0,a.jsx)(p.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:V.map((function(e){return{id:e.id,name:e.name}})),values:null!==(Y=A.properties)&&void 0!==Y?Y:[],setValues:function(e){return Z("properties",e)},draggable:!0,maxHeight:100,baseTestId:"property"}),(0,a.jsx)(l.izJ,{}),A.component!==h.re.TCF_OVERLAY?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.X6q,{fontSize:"md",fontWeight:"semibold",children:"Privacy notices"}),(0,a.jsx)(p.Z,{addButtonLabel:"Add privacy notice",allItems:n.map((function(e){return e.id})),values:null!==(M=A.privacy_notice_ids)&&void 0!==M?M:[],setValues:function(e){return Z("privacy_notice_ids",e)},getItemLabel:function(e){var t,i=n.find((function(n){return n.id===e}));return null!==(t=null===i||void 0===i?void 0:i.name)&&void 0!==t?t:e},draggable:!0,baseTestId:"privacy-notice"}),(0,a.jsx)(l.izJ,{})]}):null,(0,a.jsx)(l.xvT,{as:"h2",fontWeight:"600",children:"Locations & Languages"}),(0,a.jsx)(p.Z,{label:"Locations for this experience",addButtonLabel:"Add location",allItems:L,values:null!==(U=A.regions)&&void 0!==U?U:[],setValues:function(e){return Z("regions",e)},getItemLabel:function(e){return b.Z8[e]},draggable:!0,baseTestId:"location"}),t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{label:"Languages for this experience",addButtonLabel:"Add language",values:null!==(W=A.translations)&&void 0!==W?W:[],setValues:function(e){return Z("translations",e)},idField:"language",canDeleteItem:function(e){return!e.is_default},allItems:S.slice().sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){return{language:e.id,is_default:!1}})),getItemLabel:function(e){var n=S.find((function(n){return n.id===e.language})),t=n?n.name:e.language;return"".concat(t).concat(e.is_default?" (Default)":"")},createNewValue:function(e){return C(e.value)},onRowClick:y,selectOnAdd:!0,draggable:!0,baseTestId:"language"}),(0,a.jsx)(d.w8,{name:"auto_detect_language",id:"auto_detect_language",label:"Auto detect language",variant:"stacked"})]}):(0,a.jsx)(l.zxk,{variant:"outline",size:"sm",rightIcon:(0,a.jsx)(l.mrv,{}),onClick:function(){return y(A.translations[0])},"data-testid":"edit-experience-btn",children:"Edit experience text"})]})}},50818:function(e,n,t){t.d(n,{f:function(){return x}});var i=t(85034),a=t(70169),l=t(31373),r=t(24246),o=t(83265),c=t(34090),s=t(98784),d=t(27378),u=t(56071),_=t(66081),b=t(91827),p=t(22850),v=t(72645),f=t(27622),m=t(10439),x=function(e){var n=e.languageName;return(0,r.jsx)(_.Z,{text:"This is a default translation provided by Fides. If you've modified the default English language text, these translations will not match, so verify any changes with a native ".concat(n," speaker before using."),"data-testid":"oob-translation-notice"})};n.Z=function(e){var n,t,_,g,h,j,k,y,C=e.translation,q=e.translationsEnabled,T=e.isOOB,R=e.onReturnToMainForm,E=(0,c.u6)(),w=E.values,A=E.setFieldValue,Z=E.errors,z=E.touched,D=E.setTouched,I=(0,d.useMemo)((function(){C.name;return(0,l.Z)(C,["name"])}),[C]),N=!!I.title&&!T,O=(0,v.y3)(w.component),P=w.translations.findIndex((function(e){return e.language===C.language})),L=!(0,s.isEqual)(w.translations[P],I),S=(0,o.qY0)(),B=S.onOpen,F=S.isOpen,V=S.onClose,Y=(0,o.qY0)(),M=Y.onOpen,U=Y.isOpen,W=Y.onClose,K=function(){L||T?B():R()},G=(0,r.jsxs)(o.hE2,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,r.jsx)(o.zxk,{variant:"outline",onClick:K,"data-testid":"cancel-btn",children:"Cancel"}),(0,r.jsx)(o.zxk,{colorScheme:"primary",isDisabled:!L&&!T||!!Z.translations,"data-testid":"save-btn",onClick:function(){w.translations[P].is_default&&!I.is_default?M():R()},children:N?"Save":"Add translation"})]});return y=q?N?"You have unsaved changes to this translation. Discard changes?":"This translation has not been added to your experience.  Discard translation?":"You have unsaved changes to this experience text. Discard changes?",(0,r.jsxs)(f.RN,{buttonPanel:G,children:[(0,r.jsx)(p.R,{onClick:K,mt:4}),(0,r.jsx)(b.Z,{isOpen:F,onClose:V,title:q?"Translation not saved":"Text not saved",message:(0,r.jsx)(o.xvT,{children:y}),confirmButtonText:"Discard",handleConfirm:function(){var e=w.translations.slice();N?e[P]=(0,a.Z)((0,i.Z)({},I),{title:I.title,description:I.description}):e.splice(P,1),A("translations",e);z.translations;var n=(0,l.Z)(z,["translations"]);D((0,i.Z)({},n)),R()}}),(0,r.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",children:q?"Edit ".concat(C.name," translation"):"Edit experience text"}),T?(0,r.jsx)(x,{languageName:C.name}):null,q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.w8,{name:"translations.".concat(P,".is_default"),id:"translations.".concat(P,".is_default"),label:"Default language",isDisabled:I.is_default,variant:"stacked"}),(0,r.jsx)(b.Z,{isOpen:U,onClose:W,title:"Update default language",message:(0,r.jsx)(o.xvT,{children:"Are you sure you want to update the default language of this experience?"}),handleConfirm:function(){return function(e){var n=w.translations.map((function(n,t){return(0,a.Z)((0,i.Z)({},n),{is_default:t===e})}));n.unshift(n.splice(e,1)[0]),A("translations",n),R()}(P)}})]}),(0,r.jsx)(u.j0,{name:"translations.".concat(P,".title"),id:"translations.".concat(P,".title"),label:"Title",isRequired:!0,variant:"stacked"}),(0,r.jsx)(u.Ks,{name:"translations.".concat(P,".description"),id:"translations.".concat(P,".description"),label:"Description",isRequired:!0,variant:"stacked"}),(w.component===m.re.BANNER_AND_MODAL||w.component===m.re.TCF_OVERLAY)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.j0,{name:"translations.".concat(P,".banner_title"),id:"translations.".concat(P,".banner_title"),label:"Banner title (optional)",tooltip:"A separate title for the banner (defaults to main title)",variant:"stacked"}),(0,r.jsx)(u.Ks,{name:"translations.".concat(P,".banner_description"),id:"translations.".concat(P,".banner_description"),label:"Banner description (optional)",tooltip:"A separate description for the banner (defaults to main description)",variant:"stacked"})]}),(0,r.jsx)(u.j0,{name:"translations.".concat(P,".accept_button_label"),id:"translations.".concat(P,".accept_button_label"),label:'"Accept" button label',isRequired:!0,variant:"stacked"}),(0,r.jsx)(u.j0,{name:"translations.".concat(P,".reject_button_label"),id:"translations.".concat(P,".reject_button_label"),label:'"Reject" button label',isRequired:!0,variant:"stacked"}),(null===(n=O.privacy_preferences_link_label)||void 0===n?void 0:n.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".privacy_preferences_link_label"),id:"translations.".concat(P,".privacy_preferences_link_label"),label:'"Manage privacy preferences" button label',variant:"stacked",isRequired:null===(t=O.privacy_preferences_link_label)||void 0===t?void 0:t.required}),(null===(_=O.save_button_label)||void 0===_?void 0:_.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".save_button_label"),id:"translations.".concat(P,".save_button_label"),label:'"Save" button label',variant:"stacked",isRequired:O.save_button_label.required}),(null===(g=O.acknowledge_button_label)||void 0===g?void 0:g.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".acknowledge_button_label"),id:"translations.".concat(P,".acknowledge_button_label"),label:'"Acknowledge" button label',variant:"stacked",isRequired:O.acknowledge_button_label.required}),(null===(h=O.privacy_policy_link_label)||void 0===h?void 0:h.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".privacy_policy_link_label"),id:"translations.".concat(P,".privacy_policy_link_label"),label:"Privacy policy link label (optional)",variant:"stacked"}),(null===(j=O.privacy_policy_url)||void 0===j?void 0:j.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".privacy_policy_url"),id:"translations.".concat(P,".privacy_policy_url"),label:"Privacy policy link URL (optional)",variant:"stacked"}),(null===(k=O.modal_link_label)||void 0===k?void 0:k.included)&&(0,r.jsx)(u.j0,{name:"translations.".concat(P,".modal_link_label"),id:"translations.".concat(P,".modal_link_label"),label:"Trigger link label (optional)",tooltip:"Include text here if you would like the Fides CMP to manage the copy of the button that is included on your site to open the CMP.",variant:"stacked"})]})}},72645:function(e,n,t){t.d(n,{DD:function(){return s},Go:function(){return d},TK:function(){return c},Uv:function(){return u},y3:function(){return _}});var i,a=t(85034),l=t(70169),r=t(31373),o=t(10439),c=function(e){return null!==(i=null===e||void 0===e?void 0:e.filter((function(e){return e.selected})).map((function(e){return e.id})))&&void 0!==i?i:[]},s={name:"",disabled:!1,allow_language_selection:!1,regions:[],translations:[{language:o.eU.EN,is_default:!0,title:"Title",description:"Description",accept_button_label:"Accept",reject_button_label:"Reject",save_button_label:"Save",acknowledge_button_label:"OK",privacy_preferences_link_label:"Privacy Preferences"}]},d=function(e,n){var t=n.find((function(n){return n.id===e.language}));return t?t.name:e.language},u=function(e){e.created_at,e.updated_at;var n=e.privacy_notices,t=(e.origin,e.id,(0,r.Z)(e,["created_at","updated_at","privacy_notices","origin","id"]));return(0,l.Z)((0,a.Z)({},t),{privacy_notice_ids:n?n.map((function(e){return e.id})):[],translations:e.translations?e.translations.map((function(e){return function(e){var n,t,i,a,l,r,o,c;return{language:e.language,is_default:e.is_default,accept_button_label:e.accept_button_label,reject_button_label:e.reject_button_label,title:e.title,description:e.description,acknowledge_button_label:null!==(n=e.acknowledge_button_label)&&void 0!==n?n:void 0,banner_title:null!==(t=e.banner_title)&&void 0!==t?t:void 0,banner_description:null!==(i=e.banner_description)&&void 0!==i?i:void 0,privacy_policy_link_label:null!==(a=e.privacy_policy_link_label)&&void 0!==a?a:void 0,privacy_policy_url:null!==(l=e.privacy_policy_url)&&void 0!==l?l:void 0,privacy_preferences_link_label:null!==(r=e.privacy_preferences_link_label)&&void 0!==r?r:void 0,save_button_label:null!==(o=e.save_button_label)&&void 0!==o?o:void 0,modal_link_label:null!==(c=e.modal_link_label)&&void 0!==c?c:void 0}}(e)})):[]})},_=function(e){return e===o.re.PRIVACY_CENTER?{title:{included:!0,required:!0},description:{included:!0,required:!0},save_button_label:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},modal_link_label:{included:!0}}:e===o.re.MODAL?{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0},modal_link_label:{included:!0}}:e===o.re.BANNER_AND_MODAL?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}}}}]);