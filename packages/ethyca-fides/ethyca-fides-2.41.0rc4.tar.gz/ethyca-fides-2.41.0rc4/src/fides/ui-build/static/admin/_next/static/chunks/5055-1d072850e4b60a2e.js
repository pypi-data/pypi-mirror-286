"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5055],{22850:function(e,n,t){t.d(n,{R:function(){return d}});var i=t(85034),s=t(70169),l=t(31373),o=t(24246),r=t(83265),a=t(79894),c=t.n(a),d=function(e){var n=e.onClick,t=(0,l.Z)(e,["onClick"]);return(0,o.jsxs)(r.kCb,(0,s.Z)((0,i.Z)({alignItems:"center",mt:-4,mb:3,onClick:n,cursor:"pointer"},t),{children:[(0,o.jsx)(r.hU,{"aria-label":"Back",icon:(0,o.jsx)(r.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,o.jsx)(r.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};n.Z=function(e){var n=e.backPath,t=(0,l.Z)(e,["backPath"]);return(0,o.jsxs)(r.kCb,(0,s.Z)((0,i.Z)({alignItems:"center",mb:6},t),{children:[(0,o.jsx)(c(),{href:n,passHref:!0,children:(0,o.jsx)(r.hU,{"aria-label":"Back",icon:(0,o.jsx)(r.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,o.jsx)(c(),{href:n,passHref:!0,children:(0,o.jsx)(r.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},19645:function(e,n,t){t.d(n,{$:function(){return Z}});var i=t(23842),s=t(85034),l=t(52050),o=t(85556),r=t(24246),a=t(92222),c=t(59003),d=t(67447),u=t(32556),g=t(73659),h=t(61186),f=t(83265),x=t(86677),m=t(27378),v=t(10503),C=t(49730),b=t(93677),j=t(70014),p=t(94353),S=t(70169),k=function(e){var n=e.onChange,t=e.displayText,i=e.isChecked,s=e.value;return(0,r.jsx)(f.XZJ,{id:"checkbox-".concat(s),value:s,height:"20px",mb:3,isChecked:i,onChange:n,colorScheme:"complimentary",mr:5,children:(0,r.jsx)(f.xvT,{fontSize:"sm",lineHeight:5,height:"20px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t})},s)},w={GVL:!1,AC:!1,COMPASS:!1},y=function(e){var n=e.isOpen,t=e.onClose,i=e.tableInstance,l=(0,m.useState)(w),o=l[0],a=l[1];(0,m.useMemo)((function(){var e={id:"vendor_id",value:[]};o.GVL&&e.value.push("gvl"),o.AC&&e.value.push("gacp"),i.setColumnFilters([e])}),[o,i]);return(0,r.jsxs)(f.u_l,{isOpen:n,onClose:t,isCentered:!0,size:"2xl",children:[(0,r.jsx)(f.ZAr,{}),(0,r.jsxs)(f.hzk,{children:[(0,r.jsx)(f.xBx,{children:"Filters"}),(0,r.jsx)(f.olH,{}),(0,r.jsx)(f.izJ,{}),(0,r.jsxs)(f.fef,{maxH:"85vh",px:6,py:4,overflowX:"auto",children:[(0,r.jsx)(f.xvT,{fontSize:"md",fontWeight:"bold",mb:2,children:"Sources"}),(0,r.jsx)(k,{onChange:function(){a((function(e){return(0,S.Z)((0,s.Z)({},e),{GVL:!e.GVL})}))},displayText:u.iC.gvl.fullName,isChecked:o.GVL,value:"gvl"}),(0,r.jsx)(k,{onChange:function(){a((function(e){return(0,S.Z)((0,s.Z)({},e),{AC:!e.AC})}))},displayText:u.iC.gacp.fullName,isChecked:o.AC,value:"gacp"})]}),(0,r.jsx)(f.mzw,{children:(0,r.jsxs)(f.xuv,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,r.jsx)(f.zxk,{variant:"outline",size:"sm",mr:3,onClick:function(){i.setColumnFilters([]),a(w)},flexGrow:1,children:"Reset Filters"}),(0,r.jsx)(f.zxk,{"data-testid":"filter-done-btn",colorScheme:"primary",size:"sm",onClick:t,flexGrow:1,children:"Done"})]})})]})]})},R=function(e){var n,t=e.value,i=(0,u.cj)(t),s=null!==(n=u.iC[i])&&void 0!==n?n:{label:"",fullName:""};return(0,r.jsx)(f.kCb,{alignItems:"center",justifyContent:"center",height:"100%",mr:"2",children:(0,r.jsx)(f.ua7,{label:s.fullName,placement:"top",children:(0,r.jsx)(f.Cts,{children:s.label})})})},z=(0,a.Cl)(),L=function(){return(0,r.jsxs)(f.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:[(0,r.jsxs)(f.gCW,{children:[(0,r.jsx)(f.xvT,{fontSize:"md",fontWeight:"600",children:"No results found."}),(0,r.jsx)(f.xvT,{fontSize:"sm",children:'Can\'t find the vendor you are looking for? Add custom systems or unlisted\n      vendors by selecting the "Add custom vendor" button below.'})]}),(0,r.jsx)(j.Z,{buttonLabel:"Add custom vendor"})]})},Z=function(e){var n=e.redirectRoute,t="Vendor",S=(0,f.pmc)(),k=(0,d.hz)(),w=k.dictionaryService,Z=k.tcf,_=(0,p.x8)().isLoading,P=(0,x.useRouter)(),I=(0,p.iN)(void 0,{skip:!w}).isLoading,A=(0,l.Z)((0,p.Qk)(),2),F=A[0],M=A[1],T=M.isLoading,N=M.isSuccess,G=(0,v.C)(p.gG),O=(0,m.useState)(),V=O[0],W=O[1],D=(0,f.qY0)(),H=D.isOpen,B=D.onOpen,E=D.onClose,Y=(0,f.qY0)(),$=Y.isOpen,U=Y.onClose,X=Y.onOpen,q=(0,m.useState)(!1),J=q[0],Q=q[1],K=G.every((function(e){return e.linked_system})),ee=(0,m.useMemo)((function(){return[z.display({id:"select",header:function(e){var n=e.table;return(0,r.jsx)(g.k,{dataTestId:"select-page-checkbox",isChecked:n.getIsAllPageRowsSelected(),isDisabled:K||n.getPaginationRowModel().rows.filter((function(e){return e.original.linked_system})).length===n.getState().pagination.pageSize,isIndeterminate:n.getPaginationRowModel().rows.filter((function(e){return e.getCanSelect()})).some((function(e){return!e.getIsSelected()})),onChange:function(){n.setRowSelection((function(e){var t=(0,s.Z)({},e);return n.getRowModel().rows.forEach((function(e){e.getCanSelect()&&(t[e.id]=!t[e.id])})),t})),Q((function(e){return!e}))}})},cell:function(e){var n=e.row;return(0,r.jsx)(g.k,{isChecked:n.getIsSelected(),isDisabled:!n.getCanSelect(),isIndeterminate:n.getIsSomeSelected(),onChange:n.getToggleSelectedHandler()})}}),z.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,r.jsx)(g.G3,{value:e.getValue()})},header:function(e){return(0,r.jsx)(g.Rr,(0,s.Z)({value:t},e))}}),z.accessor((function(e){return e.vendor_id}),{id:"vendor_id",cell:function(e){return(0,r.jsx)(R,{value:e.getValue()})},header:function(e){return(0,r.jsx)(g.Rr,(0,s.Z)({value:"Source"},e))},enableColumnFilter:Z,filterFn:"arrIncludesSome"})]}),[K,t,Z]),ne=(0,c.b7)({columns:ee,data:G,getCoreRowModel:(0,a.sC)(),getSortedRowModel:(0,a.tj)(),getFilteredRowModel:(0,a.vL)(),getPaginationRowModel:(0,a.G_)(),onGlobalFilterChange:W,enableRowSelection:function(e){return!e.original.linked_system},enableSorting:!0,enableGlobalFilter:!0,state:{globalFilter:V,columnVisibility:{vendor_id:Z}},initialState:{pagination:{pageSize:g.W3[0]},columnSizing:{select:0,vendor_id:0}},enableColumnResizing:!0,columnResizeMode:"onChange"});(0,m.useEffect)((function(){var e={};G.forEach((function(n,t){n.linked_system&&(e[t]=!0)})),Object.keys(e).length&&ne.setRowSelection(e)}),[G,ne]);var te=(0,g.bX)(ne),ie=te.totalRows,se=te.onPreviousPageClick,le=te.isPreviousPageDisabled,oe=te.onNextPageClick,re=te.isNextPageDisabled,ae=te.setPageSize,ce=te.startRange,de=te.endRange,ue=function(){var e=(0,i.Z)((function(){var e,i;return(0,o.__generator)(this,(function(s){switch(s.label){case 0:return(e=ne.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).map((function(e){return e.original.vendor_id}))).length>0?[4,F(e)]:[3,2];case 1:i=s.sent(),P.push(n),(0,u.D4)(i)?S((0,h.Vo)((0,u.e$)(i.error))):S((0,h.t5)("Successfully added ".concat(e.length," ").concat(t.toLocaleLowerCase()))),s.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),ge=ne.getSelectedRowModel().rows.some((function(e){return!e.original.linked_system})),he=(0,m.useMemo)((function(){return!(!ge||K)}),[ge,K]);if(!w&&!_)return P.push(b.gp),null;if(T||N)return(0,r.jsx)(f.kCb,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(f.$jN,{})});if(I)return(0,r.jsx)(g.I4,{rowHeight:36,numRows:15});var fe=K?"All ".concat(t.toLocaleLowerCase()," have already been added"):"Select a ".concat(t.toLocaleLowerCase()," "),xe=ne.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length,me=ne.getState().columnFilters.length>0?ne.getState().columnFilters.filter((function(e){return"vendor_id"===e.id}))[0].value.length:0;return(0,r.jsxs)(f.kCb,{flex:1,direction:"column",overflow:"auto","data-testid":"add-multiple-systems-tbl",children:[(0,r.jsx)(C.Z,{isOpen:$,isCentered:!0,onCancel:U,onClose:U,onConfirm:ue,title:"Confirmation",message:"You are about to add ".concat(xe.toLocaleString("en")," ").concat(t.toLocaleLowerCase()).concat(xe>1?"s":"")}),(0,r.jsx)(y,{isOpen:H,onClose:E,tableInstance:ne}),(0,r.jsxs)(g.Q$,{children:[(0,r.jsxs)(f.kCb,{alignItems:"center",grow:1,children:[(0,r.jsx)(f.xuv,{maxW:"420px",width:"100%",children:(0,r.jsx)(g.HO,{globalFilter:V,setGlobalFilter:W,placeholder:"Search"})}),xe>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.xvT,{fontWeight:"700",fontSize:"sm",lineHeight:"2",ml:4,children:[xe.toLocaleString("en")," selected"]}),(0,r.jsx)(f.ua7,{label:fe,shouldWrapChildren:!0,placement:"top",isDisabled:he,children:(0,r.jsx)(f.zxk,{onClick:X,"data-testid":"add-multiple-systems-btn",size:"xs",variant:"outline",isDisabled:!ge,ml:4,children:"Add"})})]}):null]}),(0,r.jsxs)(f.Ugi,{spacing:4,alignItems:"center",children:[(0,r.jsx)(j.Z,{buttonLabel:"Add custom vendor",buttonVariant:"outline"}),Z?(0,r.jsx)("span",{children:(0,r.jsxs)(f.zxk,{onClick:B,"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",children:["Filter"," ",me>0?(0,r.jsxs)(f.Vp9,{borderRadius:"full",size:"sm",ml:2,children:[" ",me," "]}):null]})}):null]})]}),(0,r.jsx)(g.ZK,{tableInstance:ne,rowActionBar:(0,r.jsx)(g.AA,{tableInstance:ne,selectedRows:xe,isOpen:J}),renderRowTooltipLabel:function(e){if(!e.getCanSelect())return"This vendor has already been added. You can view the properties of this vendor by going to View Systems."},emptyTableNotice:(0,r.jsx)(L,{})}),(0,r.jsx)(g.s8,{pageSizes:g.W3,totalRows:ie,onPreviousPageClick:se,isPreviousPageDisabled:le,onNextPageClick:oe,isNextPageDisabled:re,setPageSize:ae,startRange:ce,endRange:de})]})}}}]);