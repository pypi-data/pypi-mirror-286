(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5744],{24354:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection/[resourceUrn]",function(){return r(78752)}])},37434:function(e,n,r){"use strict";var t=r(24246),i=r(83265),u=r(79894),o=r.n(u);n.Z=function(e){var n=e.resourceUrn,r=e.parentTitle,u=e.parentLink,s=e.onPathClick,c=void 0===s?function(){}:s,a=n?n.split("."):[];return(0,t.jsxs)(i.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold",mb:5,"data-testid":"results-breadcrumb",children:[(0,t.jsx)(i.gN6,{color:n?"gray.500":"black",children:(0,t.jsx)(i.Atw,{as:o(),href:u,children:r})}),n?null:(0,t.jsx)(i.gN6,{color:n?"gray.500":"black",children:(0,t.jsx)(i.Atw,{children:"All activity"})}),a.map((function(e,n){if(0===n||1===n)return null;var r=n===a.length-1;return(0,t.jsx)(i.gN6,{color:r?"black":"gray.500",children:(0,t.jsx)(i.Atw,{onClick:function(){return c(a.slice(0,n+1).join("."))},children:e})},e)}))]})}},12999:function(e,n,r){"use strict";r.d(n,{Z:function(){return C}});var t=r(24246),i=r(59003),u=r(92222),o=r(83265),s=r(86677),c=r(27378),a=r(73659),l=r(76353),d=r(85034),f=r(16957),g=r(17638),x=r(8469),h=r(24991),m=r(18032),j=r(44955),v=function(e){var n=e.resourceType,r=(0,u.Cl)(),i=[];return n?n===h.X.SCHEMA?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,t.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Name"},e))}}),r.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,t.jsx)(a.G3,{value:(0,j.Z)(e.getValue())})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Project"},e))}}),r.display({id:"type",cell:function(){return(0,t.jsx)(a.G3,{value:"Dataset"})},header:"Type"}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,t.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,t.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,t.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.TABLE?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,t.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Table name"},e))}}),r.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,t.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,t.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,t.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,t.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.FIELD?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,t.jsx)(x.Z,{result:e.row.original})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Field name"},e))}}),r.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,t.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,t.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,t.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,t.jsx)(a.Rr,(0,d.Z)({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,t.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:i}:{columns:i}},p=r(85613),w=r(39237),R=r(46804),Z=r(10439),y=r(70508),_={items:[],total:0,page:1,size:50,pages:1},b=function(){return(0,t.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,t.jsxs)(o.gCW,{children:[(0,t.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,t.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})})},C=function(e){var n,r=e.resourceUrn,d=(0,s.useRouter)(),f=(0,c.useState)(""),g=f[0],x=f[1],m=(0,c.useState)("true"===(null===(n=d.query)||void 0===n?void 0:n.showFullSchema)||!1),j=m[0],C=m[1],L=[Z.LL.ADDITION,Z.LL.REMOVAL];j&&(L.push(Z.LL.MONITORED),L.push(Z.LL.MUTED));var T=[Z.LL.ADDITION,Z.LL.REMOVAL];j&&(T.push(Z.LL.MONITORED),T.push(Z.LL.MUTED));var P=(0,a.oi)(),D=P.PAGE_SIZES,k=P.pageSize,E=P.setPageSize,N=P.onPreviousPageClick,S=P.isPreviousPageDisabled,I=P.onNextPageClick,A=P.isNextPageDisabled,M=P.startRange,z=P.endRange,V=P.pageIndex,G=P.setTotalPages,O=(0,l.z8)({staged_resource_urn:r,page:V,size:k,child_diff_status:T,diff_status:L,search:g}),U=O.isFetching,W=O.isLoading,F=O.data,X=(0,w.G)(null===F||void 0===F?void 0:F.items[0]),q=v({resourceType:X}).columns,H=(0,c.useMemo)((function(){return null!==F&&void 0!==F?F:_}),[F]),Y=H.items,B=H.total,K=H.pages;(0,c.useEffect)((function(){G(K)}),[K,G]);var Q=(0,c.useMemo)((function(){return q}),[q]),$=(0,p.Z)().navigateToDetectionResults,J=X!==h.X.FIELD?function(e){return $({resourceUrn:e.urn,showFullSchema:j})}:void 0,ee=(0,i.b7)({getCoreRowModel:(0,u.sC)(),getGroupedRowModel:(0,u.qe)(),getExpandedRowModel:(0,u.rV)(),getRowId:R.Z,columns:Q,manualPagination:!0,data:Y});return W?(0,t.jsx)(a.I4,{rowHeight:36,numRows:36}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Q$,{children:(0,t.jsxs)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,t.jsx)(o.xuv,{w:400,flexShrink:0,children:(0,t.jsx)(y.M,{value:g,onChange:x})}),(0,t.jsxs)(o.kCb,{direction:"row",alignItems:"center",children:[(0,t.jsx)(o.rsf,{size:"sm",isChecked:j,onChange:function(){return C(!j)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,t.jsx)(o.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,t.jsx)(a.ZK,{tableInstance:ee,onRowClick:J,emptyTableNotice:(0,t.jsx)(b,{})}),(0,t.jsx)(a.s8,{totalRows:B,pageSizes:D,setPageSize:E,onPreviousPageClick:N,isPreviousPageDisabled:S||U,onNextPageClick:I,isNextPageDisabled:A||U,startRange:M,endRange:z})]})}},78752:function(e,n,r){"use strict";r.r(n);var t=r(24246),i=(r(27378),r(25010)),u=r(93677),o=r(37434),s=r(85613),c=r(12999);n.default=function(){var e=(0,s.Z)(),n=e.resourceUrn,r=e.navigateToDetectionResults;return(0,t.jsxs)(i.Z,{title:"Data detection",mainProps:{padding:"20px 40px 48px"},children:[(0,t.jsx)(o.Z,{parentTitle:"Data detection",parentLink:u.XY,resourceUrn:n,onPathClick:function(e){return r({resourceUrn:e})}}),(0,t.jsx)(c.Z,{resourceUrn:n})]})}}},function(e){e.O(0,[8033,3667,3659,9377,9774,2888,179],(function(){return n=24354,e(e.s=n);var n}));var n=e.O();_N_E=n}]);