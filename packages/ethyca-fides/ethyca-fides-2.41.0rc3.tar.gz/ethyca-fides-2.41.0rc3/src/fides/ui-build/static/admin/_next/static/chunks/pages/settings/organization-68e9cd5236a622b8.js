(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2828],{85082:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/organization",function(){return e(17917)}])},1496:function(n,t,e){"use strict";e.d(t,{Z:function(){return v}});var r=e(85034),i=e(70169),a=e(24246),s=e(83265),o=e(88038),u=e.n(o),c=e(86677),d=(e(27378),e(67447)),l=e(63076),f=e(93677),g=function(){var n=(0,c.useRouter)();return(0,a.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,a.jsxs)(s.xuv,{children:[(0,a.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,a.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,a.jsx)(s.zxk,{size:"sm",variant:"outline",onClick:function(){n.push(f.fz)},children:"Configure"})]}),(0,a.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=function(n){var t=n.children,e=n.title,o=n.padded,f=void 0===o||o,v=n.mainProps,m=(0,d.hz)(),p=(0,c.useRouter)(),h="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,y=!(m.flags.privacyRequestsConfiguration&&h),x=(0,l.JE)(void 0,{skip:y}).data,b=(0,l.PW)(void 0,{skip:y}).data,j=m.flags.privacyRequestsConfiguration&&(!x||!b)&&h;return(0,a.jsxs)(s.kCb,{"data-testid":e,direction:"column",h:"100vh",children:[(0,a.jsxs)(u(),{children:[(0,a.jsxs)("title",{children:["Fides Admin UI - ",e]}),(0,a.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)(s.kCb,(0,i.Z)((0,r.Z)({as:"main",direction:"column",py:f?6:0,px:f?10:0,h:f?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},v),{children:[j?(0,a.jsx)(g,{}):null,t]}))]})}},32556:function(n,t,e){"use strict";e.d(t,{D4:function(){return i.D4},MM:function(){return g},Ot:function(){return u},c6:function(){return d},cj:function(){return m},e$:function(){return s},fn:function(){return o},iC:function(){return v},nU:function(){return f},tB:function(){return c}});var r=e(17599),i=e(32764),a="An unexpected error occurred. Please try again.",s=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,i.Bw)(n)){if((0,i.hE)(n.data))return n.data.detail;if((0,i.cz)(n.data)){var e,r=null===(e=n.data.detail)||void 0===e?void 0:e[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===n.status&&(0,i.Dy)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")");if(404===n.status&&(0,i.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return t};function o(n){return"object"===typeof n&&null!=n&&"status"in n}function u(n){return"object"===typeof n&&null!=n&&"data"in n&&"string"===typeof n.data.detail}function c(n){return"object"===typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}var d,l,f=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,i.oK)(n))return{status:n.originalStatus,message:n.data};if((0,i.Bw)(n)){var e=n.status;return{status:e,message:s(n,t.message)}}return t},g=function(n){return Object.entries(n).map((function(n){return{value:n[1],label:n[1]}}))};!function(n){n.GVL="gvl",n.AC="gacp",n.COMPASS="compass"}(d||(d={}));var v=(l={},(0,r.Z)(l,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(l,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(l,d.COMPASS,{label:"",fullName:""}),l),m=function(n){var t=n.split(".")[0];return t===d.AC?d.AC:t===d.GVL?d.GVL:d.COMPASS}},61186:function(n,t,e){"use strict";e.d(t,{MA:function(){return u},Vo:function(){return d},t5:function(){return c}});var r=e(85034),i=e(24246),a=e(83265),s=function(n){var t=n.children;return(0,i.jsxs)(a.xvT,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},o=function(n){var t=n.children;return(0,i.jsxs)(a.xvT,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},c=function(n){var t=(0,i.jsx)(s,{children:n});return(0,r.Z)({},u,{description:t})},d=function(n){var t=(0,i.jsx)(o,{children:n});return(0,r.Z)({},u,{description:t,status:"error"})}},17917:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return b}});var r=e(24246),i=e(83265),a=e(1496),s=e(80053),o=e(23842),u=e(85034),c=e(52050),d=e(85556),l=e(34090),f=e(27378),g=e(16310),v=e(56071),m=e(32556),p=e(61186),h={description:"",fides_key:s.Av,name:""},y=g.Ry().shape({description:g.Z_().required().label("Description"),fides_key:g.Z_().required().label("Organization Fides Key"),name:g.Z_().required().label("Name")}),x=function(n){var t=n.organization,e=n.onSuccess,a=(0,c.Z)((0,s.$f)(),2),g=a[0],x=a[1],b=(0,f.useMemo)((function(){return t?function(n){return(0,u.Z)({},n)}(t):h}),[t]),j=(0,i.pmc)(),_=function(){var n=(0,o.Z)((function(n,t){var r,i,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return r={description:(o=n).description,fides_key:o.fides_key,name:o.name},i=function(i){if((0,m.D4)(i)){var a=(0,m.e$)(i.error,"An unexpected error occurred while editing the organization. Please try again.");j((0,p.Vo)(a))}else j((0,p.t5)("Organization configuration saved.")),t.resetForm({values:n}),e&&e(r)},[4,g(r)];case 1:return a=s.sent(),i(a),[2]}var o}))}));return function(t,e){return n.apply(this,arguments)}}(),k=!t||x.isLoading;return(0,r.jsx)(l.J9,{initialValues:b,enableReinitialize:!0,onSubmit:_,validationSchema:y,children:function(n){var t=n.dirty,e=n.isValid;return(0,r.jsx)(l.l0,{"data-testid":"organization-form",children:(0,r.jsxs)(i.Kqy,{spacing:4,children:[(0,r.jsx)(v.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,r.jsx)(v.j0,{id:"name",name:"name",label:"Name",disabled:k,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,r.jsx)(v.j0,{id:"description",name:"description",label:"Description",disabled:k,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,r.jsx)(i.xuv,{textAlign:"right",children:(0,r.jsx)(i.zxk,{type:"submit",variant:"primary",size:"sm",isDisabled:k||!t||!e,isLoading:k,"data-testid":"save-btn",children:"Save"})})]})})}})},b=function(){var n=(0,s.GQ)(s.Av).data;return(0,r.jsx)(a.Z,{title:"Organization",children:(0,r.jsxs)(i.xuv,{"data-testid":"organization-management",children:[(0,r.jsx)(i.X6q,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,r.jsxs)(i.xuv,{maxWidth:"600px",children:[(0,r.jsx)(i.xvT,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organization\u2018s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,r.jsx)(i.xuv,{background:"gray.50",padding:2,children:(0,r.jsx)(x,{organization:n})})]})]})})}},32764:function(n,t,e){"use strict";e.d(t,{Bw:function(){return s},D4:function(){return i},Dy:function(){return u},XD:function(){return c},cz:function(){return d},hE:function(){return o},oK:function(){return a}});var r=e(76649),i=function(n){return"error"in n},a=function(n){return(0,r.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status},s=function(n){return(0,r.Ln)({status:"number",data:{}},n)},o=function(n){return(0,r.Ln)({detail:"string"},n)},u=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},c=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},d=function(n){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}},76649:function(n,t,e){"use strict";e.d(t,{Ln:function(){return r},uX:function(){return s}});const r=(n,t)=>a(n,t),i=Symbol("SOME"),a=(n,t)=>{if("string"==typeof n)return n===typeof t;if(Array.isArray(n))return i in n?n.some((n=>a(n,t))):!!Array.isArray(t)&&(0===n.length||t.every((t=>n.some((n=>a(n,t))))));if("object"!=typeof t||null===t)return!1;const e=t;return Object.entries(n).every((([n,t])=>a(t,e[n])))},s=n=>t=>r(n,t);class o{static narrow(n){return new o((t=>r(n,t)))}constructor(n){this.NF=void 0,this.NF=n}satisfied(n){return this.NF(n)}build(n){return n}and(n){const t=this.NF,e=n instanceof o?n.NF:n instanceof Function?n:t=>r(n,t);return new o((n=>t(n)&&e(n)))}}new o((n=>!0))}},function(n){n.O(0,[9774,2888,179],(function(){return t=85082,n(n.s=t);var t}));var t=n.O();_N_E=t}]);