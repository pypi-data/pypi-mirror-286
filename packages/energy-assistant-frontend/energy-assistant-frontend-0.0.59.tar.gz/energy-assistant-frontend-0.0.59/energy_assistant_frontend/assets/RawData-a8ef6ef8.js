import{p as S,a6 as J,l as K,A as Q,f as q,c as z,a7 as G,m as p,a8 as D,C as $,D as W,t as r,u as V,w,I as s,H as a,J as t,E as n,F as P,N as d,K as I,r as g,Q as O,R as X,V as M}from"./index-5a44a053.js";import{f as _}from"./utils-6f3c77d7.js";import{b as T}from"./VCard-2565a0b7.js";import{V as A}from"./VTable-f296e4c8.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Y,a as Z}from"./VToolbar-b6309aac.js";import{m as ee,a as x,V as se}from"./VSelect-3b5c15f5.js";import{m as te,u as oe,V as B}from"./VTextField-f153c512.js";import{c as ae}from"./transition-1df78eef.js";import"./VImg-1aa5363e.js";import"./index-cc451665.js";import"./forwardRefs-a329760c.js";import"./VOverlay-168871f7.js";import"./lazy-64d1df8a.js";import"./VSlideGroup-e14de701.js";import"./resizeObserver-115493a9.js";const re=S({...te(),...J(ee(),["inline"])},"VCheckbox"),le=K()({name:"VCheckbox",inheritAttrs:!1,props:re(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,u){let{attrs:m,slots:e}=u;const c=Q(i,"modelValue"),{isFocused:o,focus:l,blur:C}=oe(i),h=q(),f=z(()=>i.id||`checkbox-${h}`);return ae(()=>{const[y,v]=G(m),k=B.filterProps(i),U=x.filterProps(i);return p(B,D({class:["v-checkbox",i.class]},y,k,{modelValue:c.value,"onUpdate:modelValue":b=>c.value=b,id:f.value,focused:o.value,style:i.style}),{...e,default:b=>{let{id:H,messagesId:N,isDisabled:R,isReadonly:L,isValid:j}=b;return p(x,D(U,{id:H.value,"aria-describedby":N.value,disabled:R.value,readonly:L.value},v,{error:j.value===!1,modelValue:c.value,"onUpdate:modelValue":E=>c.value=E,onFocus:l,onBlur:C}),e)}})}),{}}}),ne={class:"bg-primary"},de={class:"w-24 px-6 py-3"},ue={class:"w-36 px-6 py-3"},ce={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},me={class:"w-36 px-6 py-3"},pe={class:"px-6 py-4"},he={class:"px-6 py-4"},ye={key:0},ve={key:1},ge={class:"px-6 py-4"},ke={key:0},fe={key:1},Ve={class:"px-6 py-4"},we={key:0},be={key:1},Me={class:"px-6 py-4"},$e={key:0},We={key:1},Ce={class:"px-6 py-4"},De={key:0},xe={key:1},Be=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(T,{class:"elevation-2 rounded-md"},{default:w(()=>[p(A,{class:"m-4 border"},{default:w(()=>[s("thead",ne,[s("tr",null,[s("th",de,a(t(u)("raw_data.date")),1),s("th",ue,a(t(u)("consumed_solar_energy")),1),s("th",ce,a(t(u)("consumed_energy")),1),s("th",_e,a(t(u)("raw_data.produced_solar_energy")),1),s("th",ie,a(t(u)("raw_data.imported_energy")),1),s("th",me,a(t(u)("raw_data.exported_energy")),1)])]),s("tbody",null,[(r(!0),n(I,null,P(e.homeMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",pe,a(t(m)(new Date(o.measurement_date))),1),s("td",he,[l<e.homeMeasurements.length-1?(r(),n("p",ye,a(t(_)(o.solar_consumed_energy-e.homeMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",ve,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",ge,[l<e.homeMeasurements.length-1?(r(),n("p",ke,a(t(_)(o.consumed_energy-e.homeMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",fe,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)]),s("td",Ve,[l<e.homeMeasurements.length-1?(r(),n("p",we,a(t(_)(o.solar_produced_energy-e.homeMeasurements[l+1].solar_produced_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",be,a(t(_)(o.solar_produced_energy,"kWh")),1)):d("",!0)]),s("td",Me,[l<e.homeMeasurements.length-1?(r(),n("p",$e,a(t(_)(o.grid_imported_energy-e.homeMeasurements[l+1].grid_imported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",We,a(t(_)(o.grid_imported_energy,"kWh")),1)):d("",!0)]),s("td",Ce,[l<e.homeMeasurements.length-1?(r(),n("p",De,a(t(_)(o.grid_exported_energy-e.homeMeasurements[l+1].grid_exported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",xe,a(t(_)(o.grid_exported_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const Pe=F(Be,[["__scopeId","data-v-320d365a"]]),Ie={class:"bg-primary"},Te={class:"w-24 px-6 py-3"},Ae={class:"w-36 px-6 py-3"},Fe={class:"w-36 px-6 py-3"},Ue={class:"px-6 py-4"},He={class:"px-6 py-4"},Ne={key:0},Re={key:1},Le={class:"px-6 py-4"},je={key:0},Ee={key:1},Se=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(T,{class:"elevation-2 rounded-md"},{default:w(()=>[p(A,{class:"m-4 rounded-md border"},{default:w(()=>[s("thead",Ie,[s("tr",null,[s("th",Te,a(t(u)("raw_data.date")),1),s("th",Ae,a(t(u)("consumed_solar_energy")),1),s("th",Fe,a(t(u)("consumed_energy")),1)])]),s("tbody",null,[(r(!0),n(I,null,P(e.deviceMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",Ue,a(t(m)(new Date(o.measurement_date))),1),s("td",He,[l<e.deviceMeasurements.length-1?(r(),n("p",Ne,a(t(_)(o.solar_consumed_energy-e.deviceMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",Re,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",Le,[l<e.deviceMeasurements.length-1?(r(),n("p",je,a(t(_)(o.consumed_energy-e.deviceMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",Ee,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const Je=F(Se,[["__scopeId","data-v-0c0c6e44"]]),Ke={class:"v-full bg-background flex min-h-screen justify-center p-4"},Qe={key:0,class:"grid h-full w-full grid-cols-1 justify-items-center"},qe=s("span",{class:"loading loading-dots loading-lg py-2"},null,-1),ze=[qe],Ge={key:1},Oe={class:"my-4 flex"},ms=$({__name:"RawData",setup(i){const{t:u}=W(),m=g(),e=g(),c=g(),o=g(!1),l=g(""),h=g(!1),f=async function(y){o.value=!0,e.value=await M.getAllHomeMeasurements(),m.value=y!=""?await M.getDeviceMeasurements(y):[],o.value=!1};return O(l,()=>{console.log("Change selection: "+l.value),f(l.value)}),X(async()=>{c.value=await M.getAllDevices(),c.value.length>0&&(l.value=c.value[0].id,console.log("Load in on mounted: "+c.value[0].id),f(c.value[0].id))}),(y,v)=>(r(),n("div",null,[p(Y,{color:"transparent",title:y.$t("app.rawdata")},null,8,["title"]),p(Z),s("div",Ke,[o.value?(r(),n("div",Qe,ze)):(r(),n("div",Ge,[e.value?(r(),V(Pe,{key:0,"home-measurements":e.value,"show-meter-values":h.value},null,8,["home-measurements","show-meter-values"])):d("",!0),p(se,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=k=>l.value=k),class:"bg-surface my-4 rounded-md",items:c.value?c.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),m.value?(r(),V(Je,{key:1,"device-measurements":m.value,"show-meter-values":h.value},null,8,["device-measurements","show-meter-values"])):d("",!0),s("div",Oe,[p(le,{modelValue:h.value,"onUpdate:modelValue":v[1]||(v[1]=k=>h.value=k),label:t(u)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{ms as default};
