"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[2808],{62808:function(e,n,t){t.r(n),t.d(n,{HaTTSSelector:function(){return x}});var i,a,r,u,s,l,d=t(6238),o=t(36683),c=t(89231),h=t(29864),v=t(83647),g=t(8364),f=(t(77052),t(98597)),k=t(196),p=t(94881),y=t(1781),_=t(76504),A=t(80792),b=(t(4187),t(53501),t(36724),t(68113),t(34517),t(66274),t(85767),t(98168),t(33167)),M=t(24517),m=t(91330),Z=t(11355),q=t(6933),w=(t(9484),t(96334),"__NONE_OPTION__"),E={cloud:"Home Assistant Cloud",google_translate:"Google Translate"},x=((0,g.A)([(0,k.EM)("ha-tts-picker")],(function(e,n){var t,s=function(n){function t(){var n;(0,c.A)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=(0,h.A)(this,t,[].concat(a)),e(n),n}return(0,v.A)(t,n),(0,o.A)(t)}(n);return{F:s,d:[{kind:"field",decorators:[(0,k.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,k.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,k.MZ)()],key:"language",value:void 0},{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,k.MZ)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,k.wk)()],key:"_engines",value:void 0},{kind:"method",key:"render",value:function(){var e,n=this;if(!this._engines)return f.s6;var t=null!==(e=this.value)&&void 0!==e?e:this.required?this._engines.find((function(e){var n;return 0!==(null===(n=e.supported_languages)||void 0===n?void 0:n.length)})):w;return(0,f.qy)(i||(i=(0,d.A)(["\n      <ha-select\n        .label=","\n        .value=","\n        .required=","\n        .disabled=","\n        @selected=","\n        @closed=","\n        fixedMenuPosition\n        naturalMenuWidth\n      >\n        ","\n        ","\n      </ha-select>\n    "])),this.label||this.hass.localize("ui.components.tts-picker.tts"),t,this.required,this.disabled,this._changed,M.d,this.required?f.s6:(0,f.qy)(a||(a=(0,d.A)(["<ha-list-item .value=",">\n              ","\n            </ha-list-item>"])),w,this.hass.localize("ui.components.tts-picker.none")),this._engines.map((function(e){var t,i=e.engine_id;if(e.engine_id.includes(".")){var a=n.hass.states[e.engine_id];i=a?(0,m.u)(a):e.engine_id}else e.engine_id in E&&(i=E[e.engine_id]);return(0,f.qy)(r||(r=(0,d.A)(["<ha-list-item\n            .value=","\n            .disabled=","\n          >\n            ","\n          </ha-list-item>"])),e.engine_id,0===(null===(t=e.supported_languages)||void 0===t?void 0:t.length),i)})))}},{kind:"method",key:"willUpdate",value:function(e){(0,_.A)((0,A.A)(s.prototype),"willUpdate",this).call(this,e),this.hasUpdated?e.has("language")&&this._debouncedUpdateEngines():this._updateEngines()}},{kind:"field",key:"_debouncedUpdateEngines",value:function(){var e=this;return(0,Z.s)((function(){return e._updateEngines()}),500)}},{kind:"method",key:"_updateEngines",value:(t=(0,y.A)((0,p.A)().mark((function e(){var n,t,i=this;return(0,p.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,q.Xv)(this.hass,this.language,this.hass.config.country||void 0);case 2:if(this._engines=e.sent.providers,this.value){e.next=5;break}return e.abrupt("return");case 5:t=this._engines.find((function(e){return e.engine_id===i.value})),(0,b.r)(this,"supported-languages-changed",{value:null==t?void 0:t.supported_languages}),t&&0!==(null===(n=t.supported_languages)||void 0===n?void 0:n.length)||(this.value=void 0,(0,b.r)(this,"value-changed",{value:this.value}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,f.AH)(u||(u=(0,d.A)(["\n      ha-select {\n        width: 100%;\n      }\n    "])))}},{kind:"method",key:"_changed",value:function(e){var n,t=this,i=e.target;!this.hass||""===i.value||i.value===this.value||void 0===this.value&&i.value===w||(this.value=i.value===w?void 0:i.value,(0,b.r)(this,"value-changed",{value:this.value}),(0,b.r)(this,"supported-languages-changed",{value:null===(n=this._engines.find((function(e){return e.engine_id===t.value})))||void 0===n?void 0:n.supported_languages}))}}]}}),f.WF),(0,g.A)([(0,k.EM)("ha-selector-tts")],(function(e,n){var t=function(n){function t(){var n;(0,c.A)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=(0,h.A)(this,t,[].concat(a)),e(n),n}return(0,v.A)(t,n),(0,o.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,k.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,k.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,k.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,k.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,k.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"context",value:void 0},{kind:"method",key:"render",value:function(){var e,n;return(0,f.qy)(s||(s=(0,d.A)(["<ha-tts-picker\n      .hass=","\n      .value=","\n      .label=","\n      .helper=","\n      .language=","\n      .disabled=","\n      .required=","\n    ></ha-tts-picker>"])),this.hass,this.value,this.label,this.helper,(null===(e=this.selector.tts)||void 0===e?void 0:e.language)||(null===(n=this.context)||void 0===n?void 0:n.language),this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,f.AH)(l||(l=(0,d.A)(["\n    ha-tts-picker {\n      width: 100%;\n    }\n  "])))}}]}}),f.WF))},6933:function(e,n,t){t.d(n,{EF:function(){return r},Xv:function(){return u},ni:function(){return a},u1:function(){return s},z3:function(){return l}});t(97754);var i="media-source://tts/",a=function(e){return e.startsWith(i)},r=function(e){return e.substring(19)},u=function(e,n,t){return e.callWS({type:"tts/engine/list",language:n,country:t})},s=function(e,n){return e.callWS({type:"tts/engine/get",engine_id:n})},l=function(e,n,t){return e.callWS({type:"tts/engine/voices",engine_id:n,language:t})}}}]);