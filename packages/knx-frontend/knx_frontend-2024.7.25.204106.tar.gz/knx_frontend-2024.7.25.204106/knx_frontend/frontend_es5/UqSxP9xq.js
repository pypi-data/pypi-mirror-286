"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[2882],{53935:function(n,e,t){t.d(e,{A:function(){return o}});t(77052);var i=function(n){return n<10?"0".concat(n):n};function o(n){var e=Math.floor(n/3600),t=Math.floor(n%3600/60),o=Math.floor(n%3600%60);return e>0?"".concat(e,":").concat(i(t),":").concat(i(o)):t>0?"".concat(t,":").concat(i(o)):o>0?""+o:null}},49371:function(n,e,t){t.d(e,{PN:function(){return a},jm:function(){return r},sR:function(){return c},t1:function(){return o},yu:function(){return s}});t(77052),t(848),t(1158),t(31238);var i={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},o=function(n,e,t){var o;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(o=n.userData)||void 0===o?void 0:o.showAdvanced),entry_id:t},i)},a=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,i)},r=function(n,e,t){return n.callApi("POST","config/config_entries/flow/".concat(e),t,i)},c=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},s=function(n,e){return n.callApi("GET","config/config_entries/flow_handlers".concat(e?"?type=".concat(e):""))}},61399:function(n,e,t){t.d(e,{mx:function(){return i},sF:function(){return o}});t(77052),t(98828),t(43859);var i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=function(n,e){return n.callWS(Object.assign({type:"schedule/create"},e))}},25705:function(n,e,t){t.d(e,{PF:function(){return r},CR:function(){return o},ls:function(){return a}});t(77052),t(43859),t(36724),t(650),t(98168);var i=t(53935),o=function(n,e){return n.callWS(Object.assign({type:"timer/create"},e))},a=function(n){if(n.attributes.remaining){var e,t,i=(e=n.attributes.remaining,3600*(t=e.split(":").map(Number))[0]+60*t[1]+t[2]);if("active"===n.state){var o=(new Date).getTime(),a=new Date(n.last_changed).getTime();i=Math.max(i-(o-a)/1e3,0)}return i}},r=function(n,e,t){if(!e)return null;if("idle"===e.state||0===t)return n.formatEntityState(e);var o=(0,i.A)(t||0)||"0";return"paused"===e.state&&(o="".concat(o," (").concat(n.formatEntityState(e),")")),o}},63283:function(n,e,t){t.d(e,{W:function(){return w}});var i,o,a,r,c,s,l,d,u,p=t(6238),h=t(94881),f=t(22481),m=t(1781),g=(t(8485),t(98809),t(77052),t(21950),t(848),t(68113),t(55888),t(56262),t(8339),t(98597)),_=t(49371),v=t(31238),k=t(50006),w=function(n,e){return(0,k.g)(n,e,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:(w=(0,m.A)((0,h.A)().mark((function n(t,i){var o,a,r;return(0,h.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,_.t1)(t,i,e.entryId),t.loadFragmentTranslation("config"),t.loadBackendTranslation("config",i),t.loadBackendTranslation("selector",i),t.loadBackendTranslation("title",i)]);case 2:return o=n.sent,a=(0,f.A)(o,1),r=a[0],n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return w.apply(this,arguments)}),fetchFlow:(t=(0,m.A)((0,h.A)().mark((function n(e,t){var i;return(0,h.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.PN)(e,t);case 2:return i=n.sent,n.next=5,e.loadFragmentTranslation("config");case 5:return n.next=7,e.loadBackendTranslation("config",i.handler);case 7:return n.next=9,e.loadBackendTranslation("selector",i.handler);case 9:return n.abrupt("return",i);case 10:case"end":return n.stop()}}),n)}))),function(n,e){return t.apply(this,arguments)}),handleFlowStep:_.jm,deleteFlow:_.sR,renderAbortDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.abort.").concat(e.reason),e.description_placeholders);return t?(0,g.qy)(i||(i=(0,p.A)(["\n            <ha-markdown allowsvg breaks .content=","></ha-markdown>\n          "])),t):e.reason},renderShowFormStepHeader:function(n,e){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".title"),e.description_placeholders)||n.localize("component.".concat(e.handler,".title"))},renderShowFormStepDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,g.qy)(o||(o=(0,p.A)(["\n            <ha-markdown allowsvg breaks .content=","></ha-markdown>\n          "])),t):""},renderShowFormStepFieldLabel:function(n,e,t){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".data.").concat(t.name))},renderShowFormStepFieldHelper:function(n,e,t){var i=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".data_description.").concat(t.name),e.description_placeholders);return i?(0,g.qy)(a||(a=(0,p.A)(["<ha-markdown breaks .content=","></ha-markdown>"])),i):""},renderShowFormStepFieldError:function(n,e,t){return n.localize("component.".concat(e.translation_domain||e.translation_domain||e.handler,".config.error.").concat(t),e.description_placeholders)||t},renderShowFormStepFieldLocalizeValue:function(n,e,t){return n.localize("component.".concat(e.handler,".selector.").concat(t))},renderShowFormStepSubmitButton:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===e.last_step?"next":"submit"))},renderExternalStepHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("ui.panel.config.integrations.config_flow.external_step.open_site")},renderExternalStepDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.").concat(e.step_id,".description"),e.description_placeholders);return(0,g.qy)(r||(r=(0,p.A)(["\n        <p>\n          ","\n        </p>\n        ","\n      "])),n.localize("ui.panel.config.integrations.config_flow.external_step.description"),t?(0,g.qy)(c||(c=(0,p.A)(["\n              <ha-markdown\n                allowsvg\n                breaks\n                .content=","\n              ></ha-markdown>\n            "])),t):"")},renderCreateEntryDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.create_entry.").concat(e.description||"default"),e.description_placeholders);return(0,g.qy)(s||(s=(0,p.A)(["\n        ","\n        <p>\n          ","\n        </p>\n      "])),t?(0,g.qy)(l||(l=(0,p.A)(["\n              <ha-markdown\n                allowsvg\n                breaks\n                .content=","\n              ></ha-markdown>\n            "])),t):"",n.localize("ui.panel.config.integrations.config_flow.created_config",{name:e.title}))},renderShowFormProgressHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderShowFormProgressDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.progress.").concat(e.progress_action),e.description_placeholders);return t?(0,g.qy)(d||(d=(0,p.A)(["\n            <ha-markdown allowsvg breaks .content=","></ha-markdown>\n          "])),t):""},renderMenuHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderMenuDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,g.qy)(u||(u=(0,p.A)(["\n            <ha-markdown allowsvg breaks .content=","></ha-markdown>\n          "])),t):""},renderMenuOption:function(n,e,t){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".menu_options.").concat(t),e.description_placeholders)},renderLoadingDescription:function(n,e,t,i){if("loading_flow"!==e&&"loading_step"!==e)return"";var o=(null==i?void 0:i.handler)||t;return n.localize("ui.panel.config.integrations.config_flow.loading.".concat(e),{integration:o?(0,v.p$)(n.localize,o):n.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}});var t,w}},50006:function(n,e,t){t.d(e,{g:function(){return a}});t(21950),t(43859),t(68113),t(55888),t(56262),t(8339);var i=t(33167),o=function(){return Promise.all([t.e(7777),t.e(4292),t.e(2364)]).then(t.bind(t,2364))},a=function(n,e,t){(0,i.r)(n,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:o,dialogParams:Object.assign(Object.assign({},e),{},{flowConfig:t,dialogParentElement:n})})}},22882:function(n,e,t){t.r(e),t.d(e,{DialogHelperDetail:function(){return B}});var i,o,a,r,c,s,l,d,u,p=t(66123),h=t(6238),f=t(94881),m=t(22481),g=t(1781),_=t(36683),v=t(89231),k=t(29864),w=t(83647),b=t(8364),y=(t(77052),t(21950),t(36724),t(71936),t(14460),t(1158),t(68113),t(55888),t(56262),t(8339),t(58068),t(87777),t(98597)),A=t(196),x=t(69760),z=t(32872),F=t(90662),S=function(n){return!(!n.detail.selected||"property"!==n.detail.source)&&(n.currentTarget.selected=!1,!0)},C=(t(73279),t(88762)),T=(t(9484),t(49371)),D=(t(43859),t(42566),t(31238)),q=t(61399),O=t(25705),P=t(63283),j=t(43799),E=t(47424),W=t(23135),M={input_boolean:{create:function(n,e){return n.callWS(Object.assign({type:"input_boolean/create"},e))},import:function(){return t.e(3266).then(t.bind(t,53266))}},input_button:{create:function(n,e){return n.callWS(Object.assign({type:"input_button/create"},e))},import:function(){return t.e(9946).then(t.bind(t,99946))}},input_text:{create:function(n,e){return n.callWS(Object.assign({type:"input_text/create"},e))},import:function(){return t.e(8431).then(t.bind(t,38431))}},input_number:{create:function(n,e){return n.callWS(Object.assign({type:"input_number/create"},e))},import:function(){return t.e(6805).then(t.bind(t,6805))}},input_datetime:{create:function(n,e){return n.callWS(Object.assign({type:"input_datetime/create"},e))},import:function(){return t.e(4293).then(t.bind(t,74293))}},input_select:{create:function(n,e){return n.callWS(Object.assign({type:"input_select/create"},e))},import:function(){return t.e(1186).then(t.bind(t,1186))}},counter:{create:function(n,e){return n.callWS(Object.assign({type:"counter/create"},e))},import:function(){return Promise.all([t.e(3442),t.e(3971)]).then(t.bind(t,3971))}},timer:{create:O.CR,import:function(){return t.e(1240).then(t.bind(t,71240))}},schedule:{create:q.sF,import:function(){return Promise.all([t.e(4674),t.e(4114)]).then(t.bind(t,44114))}}},B=(0,b.A)([(0,A.EM)("dialog-helper-detail")],(function(n,e){var t,b,q,O,B=function(e){function t(){var e;(0,v.A)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=(0,k.A)(this,t,[].concat(o)),n(e),e}return(0,w.A)(t,e),(0,_.A)(t)}(e);return{F:B,d:[{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_item",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,A.wk)()],key:"_domain",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_submitting",value:function(){return!1}},{kind:"field",decorators:[(0,A.P)(".form")],key:"_form",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_helperFlows",value:void 0},{kind:"field",decorators:[(0,A.wk)()],key:"_loading",value:function(){return!1}},{kind:"field",key:"_params",value:void 0},{kind:"method",key:"showDialog",value:(O=(0,g.A)((0,f.A)().mark((function n(e){var t=this;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._params=e,this._domain=e.domain,this._item=void 0,!this._domain||!(this._domain in M)){n.next=6;break}return n.next=6,M[this._domain].import();case 6:return this._opened=!0,n.next=9,this.updateComplete;case 9:this.hass.loadFragmentTranslation("config"),Promise.all([(0,T.yu)(this.hass,["helper"]),this.hass.loadBackendTranslation("title",void 0,!0)]).then((function(n){var e=(0,m.A)(n,1)[0];t._helperFlows=e}));case 11:case"end":return n.stop()}}),n,this)}))),function(n){return O.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._opened=!1,this._error=void 0,this._domain=void 0,this._params=void 0}},{kind:"method",key:"render",value:function(){var n,e,t=this;if(!this._opened)return y.s6;if(this._domain)n=(0,y.qy)(i||(i=(0,h.A)(['\n        <div class="form" @value-changed=',">\n          ","\n          ",'\n        </div>\n        <mwc-button\n          slot="primaryAction"\n          @click=',"\n          .disabled=","\n        >\n          ","\n        </mwc-button>\n        ","\n      "])),this._valueChanged,this._error?(0,y.qy)(o||(o=(0,h.A)(['<div class="error">',"</div>"])),this._error):"",(0,F._)("ha-".concat(this._domain,"-form"),{hass:this.hass,item:this._item,new:!0}),this._createItem,this._submitting,this.hass.localize("ui.panel.config.helpers.dialog.create"),null!==(e=this._params)&&void 0!==e&&e.domain?y.s6:(0,y.qy)(a||(a=(0,h.A)(['<mwc-button\n              slot="secondaryAction"\n              @click=',"\n              .disabled=","\n            >\n              ","\n            </mwc-button>"])),this._goBack,this._submitting,this.hass.localize("ui.common.back")));else if(this._loading||void 0===this._helperFlows)n=(0,y.qy)(r||(r=(0,h.A)(["<ha-circular-progress\n        indeterminate\n      ></ha-circular-progress>"])));else{for(var u=[],f=0,g=Object.keys(M);f<g.length;f++){var _=g[f];u.push([_,this.hass.localize("ui.panel.config.helpers.types.".concat(_))||_])}var v,k=(0,p.A)(this._helperFlows);try{for(k.s();!(v=k.n()).done;){var w=v.value;u.push([w,(0,D.p$)(this.hass.localize,w)])}}catch(b){k.e(b)}finally{k.f()}u.sort((function(n,e){return n[1].localeCompare(e[1])})),n=(0,y.qy)(c||(c=(0,h.A)(['\n        <mwc-list\n          innerRole="listbox"\n          itemRoles="option"\n          innerAriaLabel=',"\n          rootTabbable\n          dialogInitialFocus\n        >\n          ","\n        </mwc-list>\n      "])),this.hass.localize("ui.panel.config.helpers.dialog.create_helper"),u.map((function(n){var e,i=(0,m.A)(n,2),o=i[0],a=i[1],r=!(o in M)||(0,z.x)(t.hass,o);return(0,y.qy)(s||(s=(0,h.A)(["\n              <ha-list-item\n                .disabled=","\n                hasmeta\n                .domain=","\n                @request-selected=",'\n                graphic="icon"\n              >\n                <img\n                  slot="graphic"\n                  loading="lazy"\n                  alt=""\n                  src=','\n                  crossorigin="anonymous"\n                  referrerpolicy="no-referrer"\n                />\n                <span class="item-text"> ',' </span>\n                <ha-icon-next slot="meta"></ha-icon-next>\n              </ha-list-item>\n              ',"\n            "])),!r,o,t._domainPicked,(0,E.MR)({domain:o,type:"icon",useFallback:!0,darkOptimized:null===(e=t.hass.themes)||void 0===e?void 0:e.darkMode}),a,r?"":(0,y.qy)(l||(l=(0,h.A)(['\n                    <simple-tooltip animation-delay="0"\n                      >',"</simple-tooltip\n                    >\n                  "])),t.hass.localize("ui.dialogs.helper_settings.platform_not_loaded",{platform:o})))})))}return(0,y.qy)(d||(d=(0,h.A)(["\n      <ha-dialog\n        open\n        @closed=","\n        class=","\n        scrimClickAction\n        escapeKeyAction\n        .hideActions=","\n        .heading=","\n      >\n        ","\n      </ha-dialog>\n    "])),this.closeDialog,(0,x.H)({"button-left":!this._domain}),!this._domain,(0,C.l)(this.hass,this._domain?this.hass.localize("ui.panel.config.helpers.dialog.create_platform",{platform:(0,W.z)(this._domain)&&this.hass.localize("ui.panel.config.helpers.types.".concat(this._domain))||this._domain}):this.hass.localize("ui.panel.config.helpers.dialog.create_helper")),n)}},{kind:"method",key:"_valueChanged",value:function(n){this._item=n.detail.value}},{kind:"method",key:"_createItem",value:(q=(0,g.A)((0,f.A)().mark((function n(){var e,t;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._domain&&this._item){n.next=2;break}return n.abrupt("return");case 2:return this._submitting=!0,this._error="",n.prev=4,n.next=7,M[this._domain].create(this.hass,this._item);case 7:t=n.sent,null!==(e=this._params)&&void 0!==e&&e.dialogClosedCallback&&t.id&&this._params.dialogClosedCallback({flowFinished:!0,entityId:"".concat(this._domain,".").concat(t.id)}),this.closeDialog(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),this._error=n.t0.message||"Unknown error";case 15:return n.prev=15,this._submitting=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,this,[[4,12,15,18]])}))),function(){return q.apply(this,arguments)})},{kind:"method",key:"_domainPicked",value:(b=(0,g.A)((0,f.A)().mark((function n(e){var t;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S(e)){n.next=2;break}return n.abrupt("return");case 2:if(!((t=e.currentTarget.domain)in M)){n.next=15;break}return this._loading=!0,n.prev=5,n.next=8,M[t].import();case 8:this._domain=t;case 9:return n.prev=9,this._loading=!1,n.finish(9);case 12:this._focusForm(),n.next=17;break;case 15:(0,P.W)(this,{startFlowHandler:t,dialogClosedCallback:this._params.dialogClosedCallback}),this.closeDialog();case 17:case"end":return n.stop()}}),n,this,[[5,,9,12]])}))),function(n){return b.apply(this,arguments)})},{kind:"method",key:"_focusForm",value:(t=(0,g.A)((0,f.A)().mark((function n(){var e;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.updateComplete;case 2:(null===(e=this._form)||void 0===e?void 0:e.lastElementChild).focus();case 3:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{kind:"method",key:"_goBack",value:function(){this._domain=void 0,this._item=void 0,this._error=void 0}},{kind:"get",static:!0,key:"styles",value:function(){return[j.nA,(0,y.AH)(u||(u=(0,h.A)(["\n        ha-dialog.button-left {\n          --justify-action-buttons: flex-start;\n        }\n        ha-dialog {\n          --dialog-content-padding: 0;\n          --dialog-scroll-divider-color: transparent;\n          --mdc-dialog-max-height: 60vh;\n        }\n        @media all and (min-width: 550px) {\n          ha-dialog {\n            --mdc-dialog-min-width: 500px;\n          }\n        }\n        ha-icon-next {\n          width: 24px;\n        }\n        .form {\n          padding: 24px;\n        }\n      "])))]}}]}}),y.WF)},47424:function(n,e,t){t.d(e,{MR:function(){return i},a_:function(){return o},bg:function(){return a}});t(77052),t(97754);var i=function(n){return"https://brands.home-assistant.io/".concat(n.brand?"brands/":"").concat(n.useFallback?"_/":"").concat(n.domain,"/").concat(n.darkOptimized?"dark_":"").concat(n.type,".png")},o=function(n){return n.split("/")[4]},a=function(n){return n.startsWith("https://brands.home-assistant.io/")}}}]);